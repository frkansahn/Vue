{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\view\\position.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\view\\position.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKCi8qKgogKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAyMCwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cHM6Ly9ja2VkaXRvci5jb20vbGVnYWwvY2tlZGl0b3Itb3NzLWxpY2Vuc2UKICovCgovKioKICogQG1vZHVsZSBlbmdpbmUvdmlldy9wb3NpdGlvbgogKi8KaW1wb3J0IFRyZWVXYWxrZXIgZnJvbSAnLi90cmVld2Fsa2VyJzsKaW1wb3J0IGNvbXBhcmVBcnJheXMgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvY29tcGFyZWFycmF5cyc7CmltcG9ydCBDS0VkaXRvckVycm9yIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL2NrZWRpdG9yZXJyb3InOwppbXBvcnQgRWRpdGFibGVFbGVtZW50IGZyb20gJy4vZWRpdGFibGVlbGVtZW50JzsgLy8gVG8gY2hlY2sgaWYgY29tcG9uZW50IGlzIGxvYWRlZCBtb3JlIHRoYW4gb25jZS4KCmltcG9ydCAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvdmVyc2lvbic7Ci8qKgogKiBQb3NpdGlvbiBpbiB0aGUgdmlldyB0cmVlLiBQb3NpdGlvbiBpcyByZXByZXNlbnRlZCBieSBpdHMgcGFyZW50IG5vZGUgYW5kIGFuIG9mZnNldCBpbiB0aGlzIHBhcmVudC4KICoKICogSW4gb3JkZXIgdG8gY3JlYXRlIGEgbmV3IHBvc2l0aW9uIGluc3RhbmNlIHVzZSB0aGUgYGNyZWF0ZVBvc2l0aW9uKigpYCBmYWN0b3J5IG1ldGhvZHMgYXZhaWxhYmxlIGluOgogKgogKiAqIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvdmlld35WaWV3fQogKiAqIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZG93bmNhc3R3cml0ZXJ+RG93bmNhc3RXcml0ZXJ9CiAqICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy91cGNhc3R3cml0ZXJ+VXBjYXN0V3JpdGVyfQogKi8KCnZhciBQb3NpdGlvbiA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIC8qKgogICAqIENyZWF0ZXMgYSBwb3NpdGlvbi4KICAgKgogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L25vZGV+Tm9kZXxtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnRmcmFnbWVudH5Eb2N1bWVudEZyYWdtZW50fSBwYXJlbnQgUG9zaXRpb24gcGFyZW50LgogICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgUG9zaXRpb24gb2Zmc2V0LgogICAqLwogIGZ1bmN0aW9uIFBvc2l0aW9uKHBhcmVudCwgb2Zmc2V0KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9zaXRpb24pOwoKICAgIC8qKgogICAgICogUG9zaXRpb24gcGFyZW50LgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQG1lbWJlciB7bW9kdWxlOmVuZ2luZS92aWV3L25vZGV+Tm9kZXxtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnRmcmFnbWVudH5Eb2N1bWVudEZyYWdtZW50fQogICAgICogbW9kdWxlOmVuZ2luZS92aWV3L3Bvc2l0aW9uflBvc2l0aW9uI3BhcmVudAogICAgICovCiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDsKICAgIC8qKgogICAgICogUG9zaXRpb24gb2Zmc2V0LgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQG1lbWJlciB7TnVtYmVyfSBtb2R1bGU6ZW5naW5lL3ZpZXcvcG9zaXRpb25+UG9zaXRpb24jb2Zmc2V0CiAgICAgKi8KCiAgICB0aGlzLm9mZnNldCA9IG9mZnNldDsKICB9CiAgLyoqCiAgICogTm9kZSBkaXJlY3RseSBhZnRlciB0aGUgcG9zaXRpb24uIEVxdWFscyBgbnVsbGAgd2hlbiB0aGVyZSBpcyBubyBub2RlIGFmdGVyIHBvc2l0aW9uIG9yIHBvc2l0aW9uIGlzIGxvY2F0ZWQKICAgKiBpbnNpZGUgdGV4dCBub2RlLgogICAqCiAgICogQHJlYWRvbmx5CiAgICogQHR5cGUge21vZHVsZTplbmdpbmUvdmlldy9ub2Rlfk5vZGV8bnVsbH0KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhQb3NpdGlvbiwgW3sKICAgIGtleTogImdldFNoaWZ0ZWRCeSIsCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIFBvc2l0aW9uIHdpdGggb2Zmc2V0IGluY3JlbWVudGVkIGJ5IGBzaGlmdGAgdmFsdWUuCiAgICAgKgogICAgICogQHBhcmFtIHtOdW1iZXJ9IHNoaWZ0IEhvdyBwb3NpdGlvbiBvZmZzZXQgc2hvdWxkIGdldCBjaGFuZ2VkLiBBY2NlcHRzIG5lZ2F0aXZlIHZhbHVlcy4KICAgICAqIEByZXR1cm5zIHttb2R1bGU6ZW5naW5lL3ZpZXcvcG9zaXRpb25+UG9zaXRpb259IFNoaWZ0ZWQgcG9zaXRpb24uCiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaGlmdGVkQnkoc2hpZnQpIHsKICAgICAgdmFyIHNoaWZ0ZWQgPSBQb3NpdGlvbi5fY3JlYXRlQXQodGhpcyk7CgogICAgICB2YXIgb2Zmc2V0ID0gc2hpZnRlZC5vZmZzZXQgKyBzaGlmdDsKICAgICAgc2hpZnRlZC5vZmZzZXQgPSBvZmZzZXQgPCAwID8gMCA6IG9mZnNldDsKICAgICAgcmV0dXJuIHNoaWZ0ZWQ7CiAgICB9CiAgICAvKioKICAgICAqIEdldHMgdGhlIGZhcnRoZXN0IHBvc2l0aW9uIHdoaWNoIG1hdGNoZXMgdGhlIGNhbGxiYWNrIHVzaW5nCiAgICAgKiB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L3RyZWV3YWxrZXJ+VHJlZVdhbGtlciBUcmVlV2Fsa2VyfS4KICAgICAqCiAgICAgKiBGb3IgZXhhbXBsZToKICAgICAqCiAgICAgKiAJCWdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKCB2YWx1ZSA9PiB2YWx1ZS50eXBlID09ICd0ZXh0JyApOyAvLyA8cD57fWZvbzwvcD4gLT4gPHA+Zm9vW108L3A+CiAgICAgKiAJCWdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKCB2YWx1ZSA9PiB2YWx1ZS50eXBlID09ICd0ZXh0JywgeyBkaXJlY3Rpb246ICdiYWNrd2FyZCcgfSApOyAvLyA8cD5mb29bXTwvcD4gLT4gPHA+e31mb288L3A+CiAgICAgKiAJCWdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKCB2YWx1ZSA9PiBmYWxzZSApOyAvLyBEbyBub3QgbW92ZSB0aGUgcG9zaXRpb24uCiAgICAgKgogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2tpcCBDYWxsYmFjayBmdW5jdGlvbi4gR2V0cyB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L3RyZWV3YWxrZXJ+VHJlZVdhbGtlclZhbHVlfSBhbmQgc2hvdWxkCiAgICAgKiByZXR1cm4gYHRydWVgIGlmIHRoZSB2YWx1ZSBzaG91bGQgYmUgc2tpcHBlZCBvciBgZmFsc2VgIGlmIG5vdC4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9iamVjdCB3aXRoIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy4gU2VlIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvdHJlZXdhbGtlcn5UcmVlV2Fsa2VyfS4KICAgICAqCiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS92aWV3L3Bvc2l0aW9uflBvc2l0aW9ufSBUaGUgcG9zaXRpb24gYWZ0ZXIgdGhlIGxhc3QgaXRlbSB3aGljaCBtYXRjaGVzIHRoZSBgc2tpcGAgY2FsbGJhY2sgdGVzdC4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oc2tpcCkgewogICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIG9wdGlvbnMuc3RhcnRQb3NpdGlvbiA9IHRoaXM7CiAgICAgIHZhciB0cmVlV2Fsa2VyID0gbmV3IFRyZWVXYWxrZXIob3B0aW9ucyk7CiAgICAgIHRyZWVXYWxrZXIuc2tpcChza2lwKTsKICAgICAgcmV0dXJuIHRyZWVXYWxrZXIucG9zaXRpb247CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgYW5jZXN0b3JzIGFycmF5IG9mIHRoaXMgcG9zaXRpb24sIHRoYXQgaXMgdGhpcyBwb3NpdGlvbidzIHBhcmVudCBhbmQgaXQncyBhbmNlc3RvcnMuCiAgICAgKgogICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSB3aXRoIGFuY2VzdG9ycy4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRBbmNlc3RvcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFuY2VzdG9ycygpIHsKICAgICAgaWYgKHRoaXMucGFyZW50LmlzKCdkb2N1bWVudEZyYWdtZW50JykpIHsKICAgICAgICByZXR1cm4gW3RoaXMucGFyZW50XTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0QW5jZXN0b3JzKHsKICAgICAgICAgIGluY2x1ZGVTZWxmOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvbm9kZX5Ob2RlfSBvciB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50ZnJhZ21lbnR+RG9jdW1lbnRGcmFnbWVudH0KICAgICAqIHdoaWNoIGlzIGEgY29tbW9uIGFuY2VzdG9yIG9mIGJvdGggcG9zaXRpb25zLgogICAgICoKICAgICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L3Bvc2l0aW9uflBvc2l0aW9ufSBwb3NpdGlvbgogICAgICogQHJldHVybnMge21vZHVsZTplbmdpbmUvdmlldy9ub2Rlfk5vZGV8bW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50ZnJhZ21lbnR+RG9jdW1lbnRGcmFnbWVudHxudWxsfQogICAgICovCgogIH0sIHsKICAgIGtleTogImdldENvbW1vbkFuY2VzdG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb21tb25BbmNlc3Rvcihwb3NpdGlvbikgewogICAgICB2YXIgYW5jZXN0b3JzQSA9IHRoaXMuZ2V0QW5jZXN0b3JzKCk7CiAgICAgIHZhciBhbmNlc3RvcnNCID0gcG9zaXRpb24uZ2V0QW5jZXN0b3JzKCk7CiAgICAgIHZhciBpID0gMDsKCiAgICAgIHdoaWxlIChhbmNlc3RvcnNBW2ldID09IGFuY2VzdG9yc0JbaV0gJiYgYW5jZXN0b3JzQVtpXSkgewogICAgICAgIGkrKzsKICAgICAgfQoKICAgICAgcmV0dXJuIGkgPT09IDAgPyBudWxsIDogYW5jZXN0b3JzQVtpIC0gMV07CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrcyB3aGV0aGVyIHRoaXMgb2JqZWN0IGlzIG9mIHRoZSBnaXZlbiB0eXBlLgogICAgICoKICAgICAqCQlwb3NpdGlvbi5pcyggJ3Bvc2l0aW9uJyApOyAvLyAtPiB0cnVlCiAgICAgKgkJcG9zaXRpb24uaXMoICd2aWV3OnBvc2l0aW9uJyApOyAvLyAtPiB0cnVlCiAgICAgKgogICAgICoJCXBvc2l0aW9uLmlzKCAnbW9kZWw6cG9zaXRpb24nICk7IC8vIC0+IGZhbHNlCiAgICAgKgkJcG9zaXRpb24uaXMoICdlbGVtZW50JyApOyAvLyAtPiBmYWxzZQogICAgICoJCXBvc2l0aW9uLmlzKCAncmFuZ2UnICk7IC8vIC0+IGZhbHNlCiAgICAgKgogICAgICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9ub2Rlfk5vZGUjaXMgQ2hlY2sgdGhlIGVudGlyZSBsaXN0IG9mIHZpZXcgb2JqZWN0c30gd2hpY2ggaW1wbGVtZW50IHRoZSBgaXMoKWAgbWV0aG9kLgogICAgICoKICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlCiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXModHlwZSkgewogICAgICByZXR1cm4gdHlwZSA9PSAncG9zaXRpb24nIHx8IHR5cGUgPT0gJ3ZpZXc6cG9zaXRpb24nOwogICAgfQogICAgLyoqCiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGlzIHBvc2l0aW9uIGVxdWFscyBnaXZlbiBwb3NpdGlvbi4KICAgICAqCiAgICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9wb3NpdGlvbn5Qb3NpdGlvbn0gb3RoZXJQb3NpdGlvbiBQb3NpdGlvbiB0byBjb21wYXJlIHdpdGguCiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiBwb3NpdGlvbnMgYXJlIHNhbWUuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaXNFcXVhbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNFcXVhbChvdGhlclBvc2l0aW9uKSB7CiAgICAgIHJldHVybiB0aGlzLnBhcmVudCA9PSBvdGhlclBvc2l0aW9uLnBhcmVudCAmJiB0aGlzLm9mZnNldCA9PSBvdGhlclBvc2l0aW9uLm9mZnNldDsKICAgIH0KICAgIC8qKgogICAgICogQ2hlY2tzIHdoZXRoZXIgdGhpcyBwb3NpdGlvbiBpcyBsb2NhdGVkIGJlZm9yZSBnaXZlbiBwb3NpdGlvbi4gV2hlbiBtZXRob2QgcmV0dXJucyBgZmFsc2VgIGl0IGRvZXMgbm90IG1lYW4gdGhhdAogICAgICogdGhpcyBwb3NpdGlvbiBpcyBhZnRlciBnaXZlIG9uZS4gVHdvIHBvc2l0aW9ucyBtYXkgYmUgbG9jYXRlZCBpbnNpZGUgc2VwYXJhdGUgcm9vdHMgYW5kIGluIHRoYXQgc2l0dWF0aW9uIHRoaXMKICAgICAqIG1ldGhvZCB3aWxsIHN0aWxsIHJldHVybiBgZmFsc2VgLgogICAgICoKICAgICAqIEBzZWUgbW9kdWxlOmVuZ2luZS92aWV3L3Bvc2l0aW9uflBvc2l0aW9uI2lzQWZ0ZXIKICAgICAqIEBzZWUgbW9kdWxlOmVuZ2luZS92aWV3L3Bvc2l0aW9uflBvc2l0aW9uI2NvbXBhcmVXaXRoCiAgICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9wb3NpdGlvbn5Qb3NpdGlvbn0gb3RoZXJQb3NpdGlvbiBQb3NpdGlvbiB0byBjb21wYXJlIHdpdGguCiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhpcyBwb3NpdGlvbiBpcyBiZWZvcmUgZ2l2ZW4gcG9zaXRpb24uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaXNCZWZvcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQmVmb3JlKG90aGVyUG9zaXRpb24pIHsKICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVdpdGgob3RoZXJQb3NpdGlvbikgPT0gJ2JlZm9yZSc7CiAgICB9CiAgICAvKioKICAgICAqIENoZWNrcyB3aGV0aGVyIHRoaXMgcG9zaXRpb24gaXMgbG9jYXRlZCBhZnRlciBnaXZlbiBwb3NpdGlvbi4gV2hlbiBtZXRob2QgcmV0dXJucyBgZmFsc2VgIGl0IGRvZXMgbm90IG1lYW4gdGhhdAogICAgICogdGhpcyBwb3NpdGlvbiBpcyBiZWZvcmUgZ2l2ZSBvbmUuIFR3byBwb3NpdGlvbnMgbWF5IGJlIGxvY2F0ZWQgaW5zaWRlIHNlcGFyYXRlIHJvb3RzIGFuZCBpbiB0aGF0IHNpdHVhdGlvbiB0aGlzCiAgICAgKiBtZXRob2Qgd2lsbCBzdGlsbCByZXR1cm4gYGZhbHNlYC4KICAgICAqCiAgICAgKiBAc2VlIG1vZHVsZTplbmdpbmUvdmlldy9wb3NpdGlvbn5Qb3NpdGlvbiNpc0JlZm9yZQogICAgICogQHNlZSBtb2R1bGU6ZW5naW5lL3ZpZXcvcG9zaXRpb25+UG9zaXRpb24jY29tcGFyZVdpdGgKICAgICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L3Bvc2l0aW9uflBvc2l0aW9ufSBvdGhlclBvc2l0aW9uIFBvc2l0aW9uIHRvIGNvbXBhcmUgd2l0aC4KICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGlzIHBvc2l0aW9uIGlzIGFmdGVyIGdpdmVuIHBvc2l0aW9uLgogICAgICovCgogIH0sIHsKICAgIGtleTogImlzQWZ0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQWZ0ZXIob3RoZXJQb3NpdGlvbikgewogICAgICByZXR1cm4gdGhpcy5jb21wYXJlV2l0aChvdGhlclBvc2l0aW9uKSA9PSAnYWZ0ZXInOwogICAgfQogICAgLyoqCiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGlzIHBvc2l0aW9uIGlzIGJlZm9yZSwgYWZ0ZXIgb3IgaW4gc2FtZSBwb3NpdGlvbiB0aGF0IG90aGVyIHBvc2l0aW9uLiBUd28gcG9zaXRpb25zIG1heSBiZSBhbHNvCiAgICAgKiBkaWZmZXJlbnQgd2hlbiB0aGV5IGFyZSBsb2NhdGVkIGluIHNlcGFyYXRlIHJvb3RzLgogICAgICoKICAgICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L3Bvc2l0aW9uflBvc2l0aW9ufSBvdGhlclBvc2l0aW9uIFBvc2l0aW9uIHRvIGNvbXBhcmUgd2l0aC4KICAgICAqIEByZXR1cm5zIHttb2R1bGU6ZW5naW5lL3ZpZXcvcG9zaXRpb25+UG9zaXRpb25SZWxhdGlvbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjb21wYXJlV2l0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcGFyZVdpdGgob3RoZXJQb3NpdGlvbikgewogICAgICBpZiAodGhpcy5yb290ICE9PSBvdGhlclBvc2l0aW9uLnJvb3QpIHsKICAgICAgICByZXR1cm4gJ2RpZmZlcmVudCc7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlzRXF1YWwob3RoZXJQb3NpdGlvbikpIHsKICAgICAgICByZXR1cm4gJ3NhbWUnOwogICAgICB9IC8vIEdldCBwYXRoIGZyb20gcm9vdCB0byBwb3NpdGlvbidzIHBhcmVudCBlbGVtZW50LgoKCiAgICAgIHZhciB0aGlzUGF0aCA9IHRoaXMucGFyZW50LmlzKCdub2RlJykgPyB0aGlzLnBhcmVudC5nZXRQYXRoKCkgOiBbXTsKICAgICAgdmFyIG90aGVyUGF0aCA9IG90aGVyUG9zaXRpb24ucGFyZW50LmlzKCdub2RlJykgPyBvdGhlclBvc2l0aW9uLnBhcmVudC5nZXRQYXRoKCkgOiBbXTsgLy8gQWRkIHRoZSBwb3NpdGlvbnMnIG9mZnNldHMgdG8gdGhlIHBhcmVudHMgb2Zmc2V0cy4KCiAgICAgIHRoaXNQYXRoLnB1c2godGhpcy5vZmZzZXQpOwogICAgICBvdGhlclBhdGgucHVzaChvdGhlclBvc2l0aW9uLm9mZnNldCk7IC8vIENvbXBhcmUgYm90aCBwYXRoIGFycmF5cyB0byBmaW5kIGNvbW1vbiBhbmNlc3Rvci4KCiAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlQXJyYXlzKHRoaXNQYXRoLCBvdGhlclBhdGgpOwoKICAgICAgc3dpdGNoIChyZXN1bHQpIHsKICAgICAgICBjYXNlICdwcmVmaXgnOgogICAgICAgICAgcmV0dXJuICdiZWZvcmUnOwoKICAgICAgICBjYXNlICdleHRlbnNpb24nOgogICAgICAgICAgcmV0dXJuICdhZnRlcic7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gdGhpc1BhdGhbcmVzdWx0XSA8IG90aGVyUGF0aFtyZXN1bHRdID8gJ2JlZm9yZScgOiAnYWZ0ZXInOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENyZWF0ZXMgYSB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L3RyZWV3YWxrZXJ+VHJlZVdhbGtlciBUcmVlV2Fsa2VyfSBpbnN0YW5jZSB3aXRoIHRoaXMgcG9zaXRpb25zIGFzIGEgc3RhcnQgcG9zaXRpb24uCiAgICAgKgogICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT2JqZWN0IHdpdGggY29uZmlndXJhdGlvbiBvcHRpb25zLiBTZWUge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy90cmVld2Fsa2VyflRyZWVXYWxrZXJ9CiAgICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9yYW5nZX5SYW5nZX0gW29wdGlvbnMuYm91bmRhcmllcz1udWxsXSBSYW5nZSB0byBkZWZpbmUgYm91bmRhcmllcyBvZiB0aGUgaXRlcmF0b3IuCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNpbmdsZUNoYXJhY3RlcnM9ZmFsc2VdCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnNoYWxsb3c9ZmFsc2VdCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmlnbm9yZUVsZW1lbnRFbmQ9ZmFsc2VdCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0V2Fsa2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRXYWxrZXIoKSB7CiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgb3B0aW9ucy5zdGFydFBvc2l0aW9uID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBUcmVlV2Fsa2VyKG9wdGlvbnMpOwogICAgfQogIH0sIHsKICAgIGtleTogImNsb25lIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9uZSgpIHsKICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbih0aGlzLnBhcmVudCwgdGhpcy5vZmZzZXQpOwogICAgfQogICAgLyoqCiAgICAgKiBDcmVhdGVzIHBvc2l0aW9uIGF0IHRoZSBnaXZlbiBsb2NhdGlvbi4gVGhlIGxvY2F0aW9uIGNhbiBiZSBzcGVjaWZpZWQgYXM6CiAgICAgKgogICAgICogKiBhIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvcG9zaXRpb25+UG9zaXRpb24gcG9zaXRpb259LAogICAgICogKiBwYXJlbnQgZWxlbWVudCBhbmQgb2Zmc2V0IChvZmZzZXQgZGVmYXVsdHMgdG8gYDBgKSwKICAgICAqICogcGFyZW50IGVsZW1lbnQgYW5kIGAnZW5kJ2AgKHNldHMgcG9zaXRpb24gYXQgdGhlIGVuZCBvZiB0aGF0IGVsZW1lbnQpLAogICAgICogKiB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2l0ZW1+SXRlbSB2aWV3IGl0ZW19IGFuZCBgJ2JlZm9yZSdgIG9yIGAnYWZ0ZXInYCAoc2V0cyBwb3NpdGlvbiBiZWZvcmUgb3IgYWZ0ZXIgZ2l2ZW4gdmlldyBpdGVtKS4KICAgICAqCiAgICAgKiBUaGlzIG1ldGhvZCBpcyBhIHNob3J0Y3V0IHRvIG90aGVyIGNvbnN0cnVjdG9ycyBzdWNoIGFzOgogICAgICoKICAgICAqICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9wb3NpdGlvbn5Qb3NpdGlvbi5fY3JlYXRlQmVmb3JlfSwKICAgICAqICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9wb3NpdGlvbn5Qb3NpdGlvbi5fY3JlYXRlQWZ0ZXJ9LgogICAgICoKICAgICAqIEBwcm90ZWN0ZWQKICAgICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2l0ZW1+SXRlbXxtb2R1bGU6ZW5naW5lL3ZpZXcvcG9zaXRpb25+UG9zaXRpb259IGl0ZW1PclBvc2l0aW9uCiAgICAgKiBAcGFyYW0ge051bWJlcnwnZW5kJ3wnYmVmb3JlJ3wnYWZ0ZXInfSBbb2Zmc2V0XSBPZmZzZXQgb3Igb25lIG9mIHRoZSBmbGFncy4gVXNlZCBvbmx5IHdoZW4KICAgICAqIGZpcnN0IHBhcmFtZXRlciBpcyBhIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvaXRlbX5JdGVtIHZpZXcgaXRlbX0uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibm9kZUFmdGVyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICBpZiAodGhpcy5wYXJlbnQuaXMoJ3RleHQnKSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5vZmZzZXQpIHx8IG51bGw7CiAgICB9CiAgICAvKioKICAgICAqIE5vZGUgZGlyZWN0bHkgYmVmb3JlIHRoZSBwb3NpdGlvbi4gRXF1YWxzIGBudWxsYCB3aGVuIHRoZXJlIGlzIG5vIG5vZGUgYmVmb3JlIHBvc2l0aW9uIG9yIHBvc2l0aW9uIGlzIGxvY2F0ZWQKICAgICAqIGluc2lkZSB0ZXh0IG5vZGUuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAdHlwZSB7bW9kdWxlOmVuZ2luZS92aWV3L25vZGV+Tm9kZXxudWxsfQogICAgICovCgogIH0sIHsKICAgIGtleTogIm5vZGVCZWZvcmUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIGlmICh0aGlzLnBhcmVudC5pcygndGV4dCcpKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLm9mZnNldCAtIDEpIHx8IG51bGw7CiAgICB9CiAgICAvKioKICAgICAqIElzIGB0cnVlYCBpZiBwb3NpdGlvbiBpcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGl0cyB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L3Bvc2l0aW9uflBvc2l0aW9uI3BhcmVudCBwYXJlbnR9LCBgZmFsc2VgIG90aGVyd2lzZS4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEB0eXBlIHtCb29sZWFufQogICAgICovCgogIH0sIHsKICAgIGtleTogImlzQXRTdGFydCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0ID09PSAwOwogICAgfQogICAgLyoqCiAgICAgKiBJcyBgdHJ1ZWAgaWYgcG9zaXRpb24gaXMgYXQgdGhlIGVuZCBvZiBpdHMge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9wb3NpdGlvbn5Qb3NpdGlvbiNwYXJlbnQgcGFyZW50fSwgYGZhbHNlYCBvdGhlcndpc2UuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAdHlwZSB7Qm9vbGVhbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpc0F0RW5kIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgZW5kT2Zmc2V0ID0gdGhpcy5wYXJlbnQuaXMoJ3RleHQnKSA/IHRoaXMucGFyZW50LmRhdGEubGVuZ3RoIDogdGhpcy5wYXJlbnQuY2hpbGRDb3VudDsKICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0ID09PSBlbmRPZmZzZXQ7CiAgICB9CiAgICAvKioKICAgICAqIFBvc2l0aW9uJ3Mgcm9vdCwgdGhhdCBpcyB0aGUgcm9vdCBvZiB0aGUgcG9zaXRpb24ncyBwYXJlbnQgZWxlbWVudC4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEB0eXBlIHttb2R1bGU6ZW5naW5lL3ZpZXcvbm9kZX5Ob2RlfG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudGZyYWdtZW50fkRvY3VtZW50RnJhZ21lbnR9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAicm9vdCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFyZW50LnJvb3Q7CiAgICB9CiAgICAvKioKICAgICAqIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWRpdGFibGVlbGVtZW50fkVkaXRhYmxlRWxlbWVudCBFZGl0YWJsZUVsZW1lbnR9IGluc3RhbmNlIHRoYXQgY29udGFpbnMgdGhpcyBwb3NpdGlvbiwgb3IgYG51bGxgIGlmCiAgICAgKiBwb3NpdGlvbiBpcyBub3QgaW5zaWRlIGFuIGVkaXRhYmxlIGVsZW1lbnQuCiAgICAgKgogICAgICogQHR5cGUge21vZHVsZTplbmdpbmUvdmlldy9lZGl0YWJsZWVsZW1lbnR+RWRpdGFibGVFbGVtZW50fG51bGx9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZWRpdGFibGVFbGVtZW50IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgZWRpdGFibGUgPSB0aGlzLnBhcmVudDsKCiAgICAgIHdoaWxlICghKGVkaXRhYmxlIGluc3RhbmNlb2YgRWRpdGFibGVFbGVtZW50KSkgewogICAgICAgIGlmIChlZGl0YWJsZS5wYXJlbnQpIHsKICAgICAgICAgIGVkaXRhYmxlID0gZWRpdGFibGUucGFyZW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBlZGl0YWJsZTsKICAgIH0KICB9XSwgW3sKICAgIGtleTogIl9jcmVhdGVBdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZUF0KGl0ZW1PclBvc2l0aW9uLCBvZmZzZXQpIHsKICAgICAgaWYgKGl0ZW1PclBvc2l0aW9uIGluc3RhbmNlb2YgUG9zaXRpb24pIHsKICAgICAgICByZXR1cm4gbmV3IHRoaXMoaXRlbU9yUG9zaXRpb24ucGFyZW50LCBpdGVtT3JQb3NpdGlvbi5vZmZzZXQpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBub2RlID0gaXRlbU9yUG9zaXRpb247CgogICAgICAgIGlmIChvZmZzZXQgPT0gJ2VuZCcpIHsKICAgICAgICAgIG9mZnNldCA9IG5vZGUuaXMoJ3RleHQnKSA/IG5vZGUuZGF0YS5sZW5ndGggOiBub2RlLmNoaWxkQ291bnQ7CiAgICAgICAgfSBlbHNlIGlmIChvZmZzZXQgPT0gJ2JlZm9yZScpIHsKICAgICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVCZWZvcmUobm9kZSk7CiAgICAgICAgfSBlbHNlIGlmIChvZmZzZXQgPT0gJ2FmdGVyJykgewogICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUFmdGVyKG5vZGUpOwogICAgICAgIH0gZWxzZSBpZiAob2Zmc2V0ICE9PSAwICYmICFvZmZzZXQpIHsKICAgICAgICAgIC8qKgogICAgICAgICAgICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy92aWV3flZpZXcjY3JlYXRlUG9zaXRpb25BdCBgVmlldyNjcmVhdGVQb3NpdGlvbkF0KClgfQogICAgICAgICAgICogcmVxdWlyZXMgdGhlIG9mZnNldCB0byBiZSBzcGVjaWZpZWQgd2hlbiB0aGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgdmlldyBpdGVtLgogICAgICAgICAgICoKICAgICAgICAgICAqIEBlcnJvciB2aWV3LWNyZWF0ZVBvc2l0aW9uQXQtb2Zmc2V0LXJlcXVpcmVkCiAgICAgICAgICAgKi8KICAgICAgICAgIHRocm93IG5ldyBDS0VkaXRvckVycm9yKCd2aWV3LWNyZWF0ZVBvc2l0aW9uQXQtb2Zmc2V0LXJlcXVpcmVkOiAnICsgJ1ZpZXcjY3JlYXRlUG9zaXRpb25BdCgpIHJlcXVpcmVzIHRoZSBvZmZzZXQgd2hlbiB0aGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgdmlldyBpdGVtLicsIG5vZGUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbihub2RlLCBvZmZzZXQpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgcG9zaXRpb24gYWZ0ZXIgZ2l2ZW4gdmlldyBpdGVtLgogICAgICoKICAgICAqIEBwcm90ZWN0ZWQKICAgICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2l0ZW1+SXRlbX0gaXRlbSBWaWV3IGl0ZW0gYWZ0ZXIgd2hpY2ggdGhlIHBvc2l0aW9uIHNob3VsZCBiZSBsb2NhdGVkLgogICAgICogQHJldHVybnMge21vZHVsZTplbmdpbmUvdmlldy9wb3NpdGlvbn5Qb3NpdGlvbn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfY3JlYXRlQWZ0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVBZnRlcihpdGVtKSB7CiAgICAgIC8vIFRleHRQcm94eSBpcyBub3QgYSBpbnN0YW5jZSBvZiBOb2RlIHNvIHdlIG5lZWQgZG8gaGFuZGxlIGl0IGluIHNwZWNpZmljIHdheS4KICAgICAgaWYgKGl0ZW0uaXMoJ3RleHRQcm94eScpKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbihpdGVtLnRleHROb2RlLCBpdGVtLm9mZnNldEluVGV4dCArIGl0ZW0uZGF0YS5sZW5ndGgpOwogICAgICB9CgogICAgICBpZiAoIWl0ZW0ucGFyZW50KSB7CiAgICAgICAgLyoqCiAgICAgICAgICogWW91IGNhbiBub3QgbWFrZSBhIHBvc2l0aW9uIGFmdGVyIGEgcm9vdC4KICAgICAgICAgKgogICAgICAgICAqIEBlcnJvciB2aWV3LXBvc2l0aW9uLWFmdGVyLXJvb3QKICAgICAgICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9ub2Rlfk5vZGV9IHJvb3QKICAgICAgICAgKi8KICAgICAgICB0aHJvdyBuZXcgQ0tFZGl0b3JFcnJvcigndmlldy1wb3NpdGlvbi1hZnRlci1yb290OiBZb3UgY2FuIG5vdCBtYWtlIHBvc2l0aW9uIGFmdGVyIHJvb3QuJywgaXRlbSwgewogICAgICAgICAgcm9vdDogaXRlbQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKGl0ZW0ucGFyZW50LCBpdGVtLmluZGV4ICsgMSk7CiAgICB9CiAgICAvKioKICAgICAqIENyZWF0ZXMgYSBuZXcgcG9zaXRpb24gYmVmb3JlIGdpdmVuIHZpZXcgaXRlbS4KICAgICAqCiAgICAgKiBAcHJvdGVjdGVkCiAgICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9pdGVtfkl0ZW19IGl0ZW0gVmlldyBpdGVtIGJlZm9yZSB3aGljaCB0aGUgcG9zaXRpb24gc2hvdWxkIGJlIGxvY2F0ZWQuCiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS92aWV3L3Bvc2l0aW9uflBvc2l0aW9ufQogICAgICovCgogIH0sIHsKICAgIGtleTogIl9jcmVhdGVCZWZvcmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVCZWZvcmUoaXRlbSkgewogICAgICAvLyBUZXh0UHJveHkgaXMgbm90IGEgaW5zdGFuY2Ugb2YgTm9kZSBzbyB3ZSBuZWVkIGRvIGhhbmRsZSBpdCBpbiBzcGVjaWZpYyB3YXkuCiAgICAgIGlmIChpdGVtLmlzKCd0ZXh0UHJveHknKSkgewogICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24oaXRlbS50ZXh0Tm9kZSwgaXRlbS5vZmZzZXRJblRleHQpOwogICAgICB9CgogICAgICBpZiAoIWl0ZW0ucGFyZW50KSB7CiAgICAgICAgLyoqCiAgICAgICAgICogWW91IGNhbm5vdCBtYWtlIGEgcG9zaXRpb24gYmVmb3JlIGEgcm9vdC4KICAgICAgICAgKgogICAgICAgICAqIEBlcnJvciB2aWV3LXBvc2l0aW9uLWJlZm9yZS1yb290CiAgICAgICAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvbm9kZX5Ob2RlfSByb290CiAgICAgICAgICovCiAgICAgICAgdGhyb3cgbmV3IENLRWRpdG9yRXJyb3IoJ3ZpZXctcG9zaXRpb24tYmVmb3JlLXJvb3Q6IFlvdSBjYW4gbm90IG1ha2UgcG9zaXRpb24gYmVmb3JlIHJvb3QuJywgaXRlbSwgewogICAgICAgICAgcm9vdDogaXRlbQogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKGl0ZW0ucGFyZW50LCBpdGVtLmluZGV4KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBQb3NpdGlvbjsKfSgpOwovKioKICogQSBmbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGlzIHBvc2l0aW9uIGlzIGAnYmVmb3JlJ2Agb3IgYCdhZnRlcidgIG9yIGAnc2FtZSdgIGFzIGdpdmVuIHBvc2l0aW9uLgogKiBJZiBwb3NpdGlvbnMgYXJlIGluIGRpZmZlcmVudCByb290cyBgJ2RpZmZlcmVudCdgIGZsYWcgaXMgcmV0dXJuZWQuCiAqCiAqIEB0eXBlZGVmIHtTdHJpbmd9IG1vZHVsZTplbmdpbmUvdmlldy9wb3NpdGlvbn5Qb3NpdGlvblJlbGF0aW9uCiAqLwoKCmV4cG9ydCB7IFBvc2l0aW9uIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-engine/src/view/position.js"],"names":["TreeWalker","compareArrays","CKEditorError","EditableElement","Position","parent","offset","shift","shifted","_createAt","skip","options","startPosition","treeWalker","position","is","getAncestors","includeSelf","ancestorsA","ancestorsB","i","type","otherPosition","compareWith","root","isEqual","thisPath","getPath","otherPath","push","result","getChild","endOffset","data","length","childCount","editable","itemOrPosition","node","_createBefore","_createAfter","item","textNode","offsetInText","index"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/view/position\n */\n\nimport TreeWalker from './treewalker';\n\nimport compareArrays from '@ckeditor/ckeditor5-utils/src/comparearrays';\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\nimport EditableElement from './editableelement';\n\n// To check if component is loaded more than once.\nimport '@ckeditor/ckeditor5-utils/src/version';\n\n/**\n * Position in the view tree. Position is represented by its parent node and an offset in this parent.\n *\n * In order to create a new position instance use the `createPosition*()` factory methods available in:\n *\n * * {@link module:engine/view/view~View}\n * * {@link module:engine/view/downcastwriter~DowncastWriter}\n * * {@link module:engine/view/upcastwriter~UpcastWriter}\n */\nexport default class Position {\n\t/**\n\t * Creates a position.\n\t *\n\t * @param {module:engine/view/node~Node|module:engine/view/documentfragment~DocumentFragment} parent Position parent.\n\t * @param {Number} offset Position offset.\n\t */\n\tconstructor( parent, offset ) {\n\t\t/**\n\t\t * Position parent.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/view/node~Node|module:engine/view/documentfragment~DocumentFragment}\n\t\t * module:engine/view/position~Position#parent\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * Position offset.\n\t\t *\n\t\t * @readonly\n\t\t * @member {Number} module:engine/view/position~Position#offset\n\t\t */\n\t\tthis.offset = offset;\n\t}\n\n\t/**\n\t * Node directly after the position. Equals `null` when there is no node after position or position is located\n\t * inside text node.\n\t *\n\t * @readonly\n\t * @type {module:engine/view/node~Node|null}\n\t */\n\tget nodeAfter() {\n\t\tif ( this.parent.is( 'text' ) ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.parent.getChild( this.offset ) || null;\n\t}\n\n\t/**\n\t * Node directly before the position. Equals `null` when there is no node before position or position is located\n\t * inside text node.\n\t *\n\t * @readonly\n\t * @type {module:engine/view/node~Node|null}\n\t */\n\tget nodeBefore() {\n\t\tif ( this.parent.is( 'text' ) ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.parent.getChild( this.offset - 1 ) || null;\n\t}\n\n\t/**\n\t * Is `true` if position is at the beginning of its {@link module:engine/view/position~Position#parent parent}, `false` otherwise.\n\t *\n\t * @readonly\n\t * @type {Boolean}\n\t */\n\tget isAtStart() {\n\t\treturn this.offset === 0;\n\t}\n\n\t/**\n\t * Is `true` if position is at the end of its {@link module:engine/view/position~Position#parent parent}, `false` otherwise.\n\t *\n\t * @readonly\n\t * @type {Boolean}\n\t */\n\tget isAtEnd() {\n\t\tconst endOffset = this.parent.is( 'text' ) ? this.parent.data.length : this.parent.childCount;\n\n\t\treturn this.offset === endOffset;\n\t}\n\n\t/**\n\t * Position's root, that is the root of the position's parent element.\n\t *\n\t * @readonly\n\t * @type {module:engine/view/node~Node|module:engine/view/documentfragment~DocumentFragment}\n\t */\n\tget root() {\n\t\treturn this.parent.root;\n\t}\n\n\t/**\n\t * {@link module:engine/view/editableelement~EditableElement EditableElement} instance that contains this position, or `null` if\n\t * position is not inside an editable element.\n\t *\n\t * @type {module:engine/view/editableelement~EditableElement|null}\n\t */\n\tget editableElement() {\n\t\tlet editable = this.parent;\n\n\t\twhile ( !( editable instanceof EditableElement ) ) {\n\t\t\tif ( editable.parent ) {\n\t\t\t\teditable = editable.parent;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\treturn editable;\n\t}\n\n\t/**\n\t * Returns a new instance of Position with offset incremented by `shift` value.\n\t *\n\t * @param {Number} shift How position offset should get changed. Accepts negative values.\n\t * @returns {module:engine/view/position~Position} Shifted position.\n\t */\n\tgetShiftedBy( shift ) {\n\t\tconst shifted = Position._createAt( this );\n\n\t\tconst offset = shifted.offset + shift;\n\t\tshifted.offset = offset < 0 ? 0 : offset;\n\n\t\treturn shifted;\n\t}\n\n\t/**\n\t * Gets the farthest position which matches the callback using\n\t * {@link module:engine/view/treewalker~TreeWalker TreeWalker}.\n\t *\n\t * For example:\n\t *\n\t * \t\tgetLastMatchingPosition( value => value.type == 'text' ); // <p>{}foo</p> -> <p>foo[]</p>\n\t * \t\tgetLastMatchingPosition( value => value.type == 'text', { direction: 'backward' } ); // <p>foo[]</p> -> <p>{}foo</p>\n\t * \t\tgetLastMatchingPosition( value => false ); // Do not move the position.\n\t *\n\t * @param {Function} skip Callback function. Gets {@link module:engine/view/treewalker~TreeWalkerValue} and should\n\t * return `true` if the value should be skipped or `false` if not.\n\t * @param {Object} options Object with configuration options. See {@link module:engine/view/treewalker~TreeWalker}.\n\t *\n\t * @returns {module:engine/view/position~Position} The position after the last item which matches the `skip` callback test.\n\t */\n\tgetLastMatchingPosition( skip, options = {} ) {\n\t\toptions.startPosition = this;\n\n\t\tconst treeWalker = new TreeWalker( options );\n\t\ttreeWalker.skip( skip );\n\n\t\treturn treeWalker.position;\n\t}\n\n\t/**\n\t * Returns ancestors array of this position, that is this position's parent and it's ancestors.\n\t *\n\t * @returns {Array} Array with ancestors.\n\t */\n\tgetAncestors() {\n\t\tif ( this.parent.is( 'documentFragment' ) ) {\n\t\t\treturn [ this.parent ];\n\t\t} else {\n\t\t\treturn this.parent.getAncestors( { includeSelf: true } );\n\t\t}\n\t}\n\n\t/**\n\t * Returns a {@link module:engine/view/node~Node} or {@link module:engine/view/documentfragment~DocumentFragment}\n\t * which is a common ancestor of both positions.\n\t *\n\t * @param {module:engine/view/position~Position} position\n\t * @returns {module:engine/view/node~Node|module:engine/view/documentfragment~DocumentFragment|null}\n\t */\n\tgetCommonAncestor( position ) {\n\t\tconst ancestorsA = this.getAncestors();\n\t\tconst ancestorsB = position.getAncestors();\n\n\t\tlet i = 0;\n\n\t\twhile ( ancestorsA[ i ] == ancestorsB[ i ] && ancestorsA[ i ] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i === 0 ? null : ancestorsA[ i - 1 ];\n\t}\n\n\t/**\n\t * Checks whether this object is of the given type.\n\t *\n\t *\t\tposition.is( 'position' ); // -> true\n\t *\t\tposition.is( 'view:position' ); // -> true\n\t *\n\t *\t\tposition.is( 'model:position' ); // -> false\n\t *\t\tposition.is( 'element' ); // -> false\n\t *\t\tposition.is( 'range' ); // -> false\n\t *\n\t * {@link module:engine/view/node~Node#is Check the entire list of view objects} which implement the `is()` method.\n\t *\n\t * @param {String} type\n\t * @returns {Boolean}\n\t */\n\tis( type ) {\n\t\treturn type == 'position' || type == 'view:position';\n\t}\n\n\t/**\n\t * Checks whether this position equals given position.\n\t *\n\t * @param {module:engine/view/position~Position} otherPosition Position to compare with.\n\t * @returns {Boolean} True if positions are same.\n\t */\n\tisEqual( otherPosition ) {\n\t\treturn ( this.parent == otherPosition.parent && this.offset == otherPosition.offset );\n\t}\n\n\t/**\n\t * Checks whether this position is located before given position. When method returns `false` it does not mean that\n\t * this position is after give one. Two positions may be located inside separate roots and in that situation this\n\t * method will still return `false`.\n\t *\n\t * @see module:engine/view/position~Position#isAfter\n\t * @see module:engine/view/position~Position#compareWith\n\t * @param {module:engine/view/position~Position} otherPosition Position to compare with.\n\t * @returns {Boolean} Returns `true` if this position is before given position.\n\t */\n\tisBefore( otherPosition ) {\n\t\treturn this.compareWith( otherPosition ) == 'before';\n\t}\n\n\t/**\n\t * Checks whether this position is located after given position. When method returns `false` it does not mean that\n\t * this position is before give one. Two positions may be located inside separate roots and in that situation this\n\t * method will still return `false`.\n\t *\n\t * @see module:engine/view/position~Position#isBefore\n\t * @see module:engine/view/position~Position#compareWith\n\t * @param {module:engine/view/position~Position} otherPosition Position to compare with.\n\t * @returns {Boolean} Returns `true` if this position is after given position.\n\t */\n\tisAfter( otherPosition ) {\n\t\treturn this.compareWith( otherPosition ) == 'after';\n\t}\n\n\t/**\n\t * Checks whether this position is before, after or in same position that other position. Two positions may be also\n\t * different when they are located in separate roots.\n\t *\n\t * @param {module:engine/view/position~Position} otherPosition Position to compare with.\n\t * @returns {module:engine/view/position~PositionRelation}\n\t */\n\tcompareWith( otherPosition ) {\n\t\tif ( this.root !== otherPosition.root ) {\n\t\t\treturn 'different';\n\t\t}\n\n\t\tif ( this.isEqual( otherPosition ) ) {\n\t\t\treturn 'same';\n\t\t}\n\n\t\t// Get path from root to position's parent element.\n\t\tconst thisPath = this.parent.is( 'node' ) ? this.parent.getPath() : [];\n\t\tconst otherPath = otherPosition.parent.is( 'node' ) ? otherPosition.parent.getPath() : [];\n\n\t\t// Add the positions' offsets to the parents offsets.\n\t\tthisPath.push( this.offset );\n\t\totherPath.push( otherPosition.offset );\n\n\t\t// Compare both path arrays to find common ancestor.\n\t\tconst result = compareArrays( thisPath, otherPath );\n\n\t\tswitch ( result ) {\n\t\t\tcase 'prefix':\n\t\t\t\treturn 'before';\n\n\t\t\tcase 'extension':\n\t\t\t\treturn 'after';\n\n\t\t\tdefault:\n\t\t\t\treturn thisPath[ result ] < otherPath[ result ] ? 'before' : 'after';\n\t\t}\n\t}\n\n\t/**\n\t * Creates a {@link module:engine/view/treewalker~TreeWalker TreeWalker} instance with this positions as a start position.\n\t *\n\t * @param {Object} options Object with configuration options. See {@link module:engine/view/treewalker~TreeWalker}\n\t * @param {module:engine/view/range~Range} [options.boundaries=null] Range to define boundaries of the iterator.\n\t * @param {Boolean} [options.singleCharacters=false]\n\t * @param {Boolean} [options.shallow=false]\n\t * @param {Boolean} [options.ignoreElementEnd=false]\n\t */\n\tgetWalker( options = {} ) {\n\t\toptions.startPosition = this;\n\n\t\treturn new TreeWalker( options );\n\t}\n\n\tclone() {\n\t\treturn new Position( this.parent, this.offset );\n\t}\n\n\t/**\n\t * Creates position at the given location. The location can be specified as:\n\t *\n\t * * a {@link module:engine/view/position~Position position},\n\t * * parent element and offset (offset defaults to `0`),\n\t * * parent element and `'end'` (sets position at the end of that element),\n\t * * {@link module:engine/view/item~Item view item} and `'before'` or `'after'` (sets position before or after given view item).\n\t *\n\t * This method is a shortcut to other constructors such as:\n\t *\n\t * * {@link module:engine/view/position~Position._createBefore},\n\t * * {@link module:engine/view/position~Position._createAfter}.\n\t *\n\t * @protected\n\t * @param {module:engine/view/item~Item|module:engine/view/position~Position} itemOrPosition\n\t * @param {Number|'end'|'before'|'after'} [offset] Offset or one of the flags. Used only when\n\t * first parameter is a {@link module:engine/view/item~Item view item}.\n\t */\n\tstatic _createAt( itemOrPosition, offset ) {\n\t\tif ( itemOrPosition instanceof Position ) {\n\t\t\treturn new this( itemOrPosition.parent, itemOrPosition.offset );\n\t\t} else {\n\t\t\tconst node = itemOrPosition;\n\n\t\t\tif ( offset == 'end' ) {\n\t\t\t\toffset = node.is( 'text' ) ? node.data.length : node.childCount;\n\t\t\t} else if ( offset == 'before' ) {\n\t\t\t\treturn this._createBefore( node );\n\t\t\t} else if ( offset == 'after' ) {\n\t\t\t\treturn this._createAfter( node );\n\t\t\t} else if ( offset !== 0 && !offset ) {\n\t\t\t\t/**\n\t\t\t\t * {@link module:engine/view/view~View#createPositionAt `View#createPositionAt()`}\n\t\t\t\t * requires the offset to be specified when the first parameter is a view item.\n\t\t\t\t *\n\t\t\t\t * @error view-createPositionAt-offset-required\n\t\t\t\t */\n\t\t\t\tthrow new CKEditorError(\n\t\t\t\t\t'view-createPositionAt-offset-required: ' +\n\t\t\t\t\t'View#createPositionAt() requires the offset when the first parameter is a view item.',\n\t\t\t\t\tnode\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn new Position( node, offset );\n\t\t}\n\t}\n\n\t/**\n\t * Creates a new position after given view item.\n\t *\n\t * @protected\n\t * @param {module:engine/view/item~Item} item View item after which the position should be located.\n\t * @returns {module:engine/view/position~Position}\n\t */\n\tstatic _createAfter( item ) {\n\t\t// TextProxy is not a instance of Node so we need do handle it in specific way.\n\t\tif ( item.is( 'textProxy' ) ) {\n\t\t\treturn new Position( item.textNode, item.offsetInText + item.data.length );\n\t\t}\n\n\t\tif ( !item.parent ) {\n\t\t\t/**\n\t\t\t * You can not make a position after a root.\n\t\t\t *\n\t\t\t * @error view-position-after-root\n\t\t\t * @param {module:engine/view/node~Node} root\n\t\t\t */\n\t\t\tthrow new CKEditorError( 'view-position-after-root: You can not make position after root.', item, { root: item } );\n\t\t}\n\n\t\treturn new Position( item.parent, item.index + 1 );\n\t}\n\n\t/**\n\t * Creates a new position before given view item.\n\t *\n\t * @protected\n\t * @param {module:engine/view/item~Item} item View item before which the position should be located.\n\t * @returns {module:engine/view/position~Position}\n\t */\n\tstatic _createBefore( item ) {\n\t\t// TextProxy is not a instance of Node so we need do handle it in specific way.\n\t\tif ( item.is( 'textProxy' ) ) {\n\t\t\treturn new Position( item.textNode, item.offsetInText );\n\t\t}\n\n\t\tif ( !item.parent ) {\n\t\t\t/**\n\t\t\t * You cannot make a position before a root.\n\t\t\t *\n\t\t\t * @error view-position-before-root\n\t\t\t * @param {module:engine/view/node~Node} root\n\t\t\t */\n\t\t\tthrow new CKEditorError( 'view-position-before-root: You can not make position before root.', item, { root: item } );\n\t\t}\n\n\t\treturn new Position( item.parent, item.index );\n\t}\n}\n\n/**\n * A flag indicating whether this position is `'before'` or `'after'` or `'same'` as given position.\n * If positions are in different roots `'different'` flag is returned.\n *\n * @typedef {String} module:engine/view/position~PositionRelation\n */\n"]}]}