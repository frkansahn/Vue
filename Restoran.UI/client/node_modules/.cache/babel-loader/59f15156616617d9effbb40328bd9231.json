{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\view\\matcher.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\view\\matcher.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKCi8qKgogKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAyMCwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cHM6Ly9ja2VkaXRvci5jb20vbGVnYWwvY2tlZGl0b3Itb3NzLWxpY2Vuc2UKICovCgovKioKICogQG1vZHVsZSBlbmdpbmUvdmlldy9tYXRjaGVyCiAqLwoKLyoqCiAqIFZpZXcgbWF0Y2hlciBjbGFzcy4KICogSW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBjYW4gYmUgdXNlZCB0byBmaW5kIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50IGVsZW1lbnRzfSB0aGF0IG1hdGNoIGdpdmVuIHBhdHRlcm4uCiAqLwp2YXIgTWF0Y2hlciA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIC8qKgogICAqIENyZWF0ZXMgbmV3IGluc3RhbmNlIG9mIE1hdGNoZXIuCiAgICoKICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB8T2JqZWN0fSBbcGF0dGVybl0gTWF0Y2ggcGF0dGVybnMuIFNlZSB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L21hdGNoZXJ+TWF0Y2hlciNhZGQgYWRkIG1ldGhvZH0gZm9yCiAgICogbW9yZSBpbmZvcm1hdGlvbi4KICAgKi8KICBmdW5jdGlvbiBNYXRjaGVyKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hdGNoZXIpOwoKICAgIC8qKgogICAgICogQHByaXZhdGUKICAgICAqIEB0eXBlIHtBcnJheTxTdHJpbmd8UmVnRXhwfE9iamVjdD59CiAgICAgKi8KICAgIHRoaXMuX3BhdHRlcm5zID0gW107CiAgICB0aGlzLmFkZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICAvKioKICAgKiBBZGRzIHBhdHRlcm4gb3IgcGF0dGVybnMgdG8gbWF0Y2hlciBpbnN0YW5jZS4KICAgKgogICAqCQkvLyBTdHJpbmcuCiAgICoJCW1hdGNoZXIuYWRkKCAnZGl2JyApOwogICAqCiAgICoJCS8vIFJlZ3VsYXIgZXhwcmVzc2lvbi4KICAgKgkJbWF0Y2hlci5hZGQoIC9eXHcvICk7CiAgICoKICAgKgkJLy8gU2luZ2xlIGNsYXNzLgogICAqCQltYXRjaGVyLmFkZCggewogICAqCQkJY2xhc3NlczogJ2Zvb2JhcicKICAgKgkJfSApOwogICAqCiAgICogU2VlIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvbWF0Y2hlcn5NYXRjaGVyUGF0dGVybn0gZm9yIG1vcmUgZXhhbXBsZXMuCiAgICoKICAgKiBNdWx0aXBsZSBwYXR0ZXJucyBjYW4gYmUgYWRkZWQgaW4gb25lIGNhbGw6CiAgICoKICAgKiAJCW1hdGNoZXIuYWRkKCAnZGl2JywgeyBjbGFzc2VzOiAnZm9vYmFyJyB9ICk7CiAgICoKICAgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd8UmVnRXhwfEZ1bmN0aW9ufSBwYXR0ZXJuIE9iamVjdCBkZXNjcmliaW5nIHBhdHRlcm4gZGV0YWlscy4gSWYgc3RyaW5nIG9yIHJlZ3VsYXIgZXhwcmVzc2lvbgogICAqIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBtYXRjaCBlbGVtZW50J3MgbmFtZS4gUGF0dGVybiBjYW4gYmUgYWxzbyBwcm92aWRlZCBpbiBhIGZvcm0KICAgKiBvZiBhIGZ1bmN0aW9uIC0gdGhlbiB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGggZWFjaCB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2VsZW1lbnR+RWxlbWVudCBlbGVtZW50fSBhcyBhIHBhcmFtZXRlci4KICAgKiBGdW5jdGlvbidzIHJldHVybiB2YWx1ZSB3aWxsIGJlIHN0b3JlZCB1bmRlciBgbWF0Y2hgIGtleSBvZiB0aGUgb2JqZWN0IHJldHVybmVkIGZyb20KICAgKiB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L21hdGNoZXJ+TWF0Y2hlciNtYXRjaCBtYXRjaH0gb3Ige0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9tYXRjaGVyfk1hdGNoZXIjbWF0Y2hBbGwgbWF0Y2hBbGx9IG1ldGhvZHMuCiAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBbcGF0dGVybi5uYW1lXSBOYW1lIG9yIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBlbGVtZW50J3MgbmFtZS4KICAgKiBAcGFyYW0ge09iamVjdH0gW3BhdHRlcm4uYXR0cmlidXRlc10gT2JqZWN0IHdpdGgga2V5LXZhbHVlIHBhaXJzIHJlcHJlc2VudGluZyBhdHRyaWJ1dGVzIHRvIG1hdGNoLiBFYWNoIG9iamVjdCBrZXkKICAgKiByZXByZXNlbnRzIGF0dHJpYnV0ZSBuYW1lLiBWYWx1ZSB1bmRlciB0aGF0IGtleSBjYW4gYmUgZWl0aGVyOgogICAqICogYHRydWVgIC0gdGhlbiBhdHRyaWJ1dGUgaXMganVzdCByZXF1aXJlZCAoY2FuIGJlIGVtcHR5KSwKICAgKiAqIGEgc3RyaW5nIC0gdGhlbiBhdHRyaWJ1dGUgaGFzIHRvIGJlIGVxdWFsLCBvcgogICAqICogYSByZWd1bGFyIGV4cHJlc3Npb24gLSB0aGVuIGF0dHJpYnV0ZSBoYXMgdG8gbWF0Y2ggdGhlIGV4cHJlc3Npb24uCiAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfEFycmF5fSBbcGF0dGVybi5jbGFzc2VzXSBDbGFzcyBuYW1lIG9yIGFycmF5IG9mIGNsYXNzIG5hbWVzIHRvIG1hdGNoLiBFYWNoIG5hbWUgY2FuIGJlCiAgICogcHJvdmlkZWQgaW4gYSBmb3JtIG9mIHN0cmluZyBvciByZWd1bGFyIGV4cHJlc3Npb24uCiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXR0ZXJuLnN0eWxlc10gT2JqZWN0IHdpdGgga2V5LXZhbHVlIHBhaXJzIHJlcHJlc2VudGluZyBzdHlsZXMgdG8gbWF0Y2guIEVhY2ggb2JqZWN0IGtleQogICAqIHJlcHJlc2VudHMgc3R5bGUgbmFtZS4gVmFsdWUgdW5kZXIgdGhhdCBrZXkgY2FuIGJlIGVpdGhlciBhIHN0cmluZyBvciBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhbmQgaXQgd2lsbCBiZSB1c2VkCiAgICogdG8gbWF0Y2ggc3R5bGUgdmFsdWUuCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoTWF0Y2hlciwgW3sKICAgIGtleTogImFkZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKCkgewogICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGF0dGVybiA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICBwYXR0ZXJuW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgICB9CgogICAgICBmb3IgKHZhciBfaSA9IDAsIF9wYXR0ZXJuID0gcGF0dGVybjsgX2kgPCBfcGF0dGVybi5sZW5ndGg7IF9pKyspIHsKICAgICAgICB2YXIgaXRlbSA9IF9wYXR0ZXJuW19pXTsKCiAgICAgICAgLy8gU3RyaW5nIG9yIFJlZ0V4cCBwYXR0ZXJuIGlzIHVzZWQgYXMgZWxlbWVudCdzIG5hbWUuCiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09ICdzdHJpbmcnIHx8IGl0ZW0gaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICAgIGl0ZW0gPSB7CiAgICAgICAgICAgIG5hbWU6IGl0ZW0KICAgICAgICAgIH07CiAgICAgICAgfSAvLyBTaW5nbGUgY2xhc3MgbmFtZS9SZWdFeHAgY2FuIGJlIHByb3ZpZGVkLgoKCiAgICAgICAgaWYgKGl0ZW0uY2xhc3NlcyAmJiAodHlwZW9mIGl0ZW0uY2xhc3NlcyA9PSAnc3RyaW5nJyB8fCBpdGVtLmNsYXNzZXMgaW5zdGFuY2VvZiBSZWdFeHApKSB7CiAgICAgICAgICBpdGVtLmNsYXNzZXMgPSBbaXRlbS5jbGFzc2VzXTsKICAgICAgICB9CgogICAgICAgIHRoaXMuX3BhdHRlcm5zLnB1c2goaXRlbSk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogTWF0Y2hlcyBlbGVtZW50cyBmb3IgY3VycmVudGx5IHN0b3JlZCBwYXR0ZXJucy4gUmV0dXJucyBtYXRjaCBpbmZvcm1hdGlvbiBhYm91dCBmaXJzdCBmb3VuZAogICAgICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnQgZWxlbWVudH0sIG90aGVyd2lzZSByZXR1cm5zIGBudWxsYC4KICAgICAqCiAgICAgKiBFeGFtcGxlIG9mIHJldHVybmVkIG9iamVjdDoKICAgICAqCiAgICAgKgkJewogICAgICoJCQllbGVtZW50OiA8aW5zdGFuY2Ugb2YgZm91bmQgZWxlbWVudD4sCiAgICAgKgkJCXBhdHRlcm46IDxwYXR0ZXJuIHVzZWQgdG8gbWF0Y2ggZm91bmQgZWxlbWVudD4sCiAgICAgKgkJCW1hdGNoOiB7CiAgICAgKgkJCQluYW1lOiB0cnVlLAogICAgICoJCQkJYXR0cmlidXRlczogWyAndGl0bGUnLCAnaHJlZicgXSwKICAgICAqCQkJCWNsYXNzZXM6IFsgJ2ZvbycgXSwKICAgICAqCQkJCXN0eWxlczogWyAnY29sb3InLCAncG9zaXRpb24nIF0KICAgICAqCQkJfQogICAgICoJCX0KICAgICAqCiAgICAgKiBAc2VlIG1vZHVsZTplbmdpbmUvdmlldy9tYXRjaGVyfk1hdGNoZXIjYWRkCiAgICAgKiBAc2VlIG1vZHVsZTplbmdpbmUvdmlldy9tYXRjaGVyfk1hdGNoZXIjbWF0Y2hBbGwKICAgICAqIEBwYXJhbSB7Li4ubW9kdWxlOmVuZ2luZS92aWV3L2VsZW1lbnR+RWxlbWVudH0gZWxlbWVudCBWaWV3IGVsZW1lbnQgdG8gbWF0Y2ggYWdhaW5zdCBzdG9yZWQgcGF0dGVybnMuCiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9IHJlc3VsdAogICAgICogQHJldHVybnMge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IHJlc3VsdC5lbGVtZW50IE1hdGNoZWQgdmlldyBlbGVtZW50LgogICAgICogQHJldHVybnMge09iamVjdHxTdHJpbmd8UmVnRXhwfEZ1bmN0aW9ufSByZXN1bHQucGF0dGVybiBQYXR0ZXJuIHRoYXQgd2FzIHVzZWQgdG8gZmluZCBtYXRjaGVkIGVsZW1lbnQuCiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSByZXN1bHQubWF0Y2ggT2JqZWN0IHJlcHJlc2VudGluZyBtYXRjaGVkIGVsZW1lbnQgcGFydHMuCiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gW3Jlc3VsdC5tYXRjaC5uYW1lXSBUcnVlIGlmIG5hbWUgb2YgdGhlIGVsZW1lbnQgd2FzIG1hdGNoZWQuCiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFtyZXN1bHQubWF0Y2guYXR0cmlidXRlc10gQXJyYXkgd2l0aCBtYXRjaGVkIGF0dHJpYnV0ZSBuYW1lcy4KICAgICAqIEByZXR1cm5zIHtBcnJheX0gW3Jlc3VsdC5tYXRjaC5jbGFzc2VzXSBBcnJheSB3aXRoIG1hdGNoZWQgY2xhc3MgbmFtZXMuCiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFtyZXN1bHQubWF0Y2guc3R5bGVzXSBBcnJheSB3aXRoIG1hdGNoZWQgc3R5bGUgbmFtZXMuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibWF0Y2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoKCkgewogICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGVsZW1lbnQgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHsKICAgICAgICBlbGVtZW50W19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07CiAgICAgIH0KCiAgICAgIGZvciAodmFyIF9pMiA9IDAsIF9lbGVtZW50ID0gZWxlbWVudDsgX2kyIDwgX2VsZW1lbnQubGVuZ3RoOyBfaTIrKykgewogICAgICAgIHZhciBzaW5nbGVFbGVtZW50ID0gX2VsZW1lbnRbX2kyXTsKICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5fcGF0dGVybnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7CiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgIHZhciBtYXRjaCA9IGlzRWxlbWVudE1hdGNoaW5nKHNpbmdsZUVsZW1lbnQsIHBhdHRlcm4pOwoKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHNpbmdsZUVsZW1lbnQsCiAgICAgICAgICAgICAgICBwYXR0ZXJuOiBwYXR0ZXJuLAogICAgICAgICAgICAgICAgbWF0Y2g6IG1hdGNoCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikgewogICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIC8qKgogICAgICogTWF0Y2hlcyBlbGVtZW50cyBmb3IgY3VycmVudGx5IHN0b3JlZCBwYXR0ZXJucy4gUmV0dXJucyBhcnJheSBvZiBtYXRjaCBpbmZvcm1hdGlvbiB3aXRoIGFsbCBmb3VuZAogICAgICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnQgZWxlbWVudHN9LiBJZiBubyBlbGVtZW50IGlzIGZvdW5kIC0gcmV0dXJucyBgbnVsbGAuCiAgICAgKgogICAgICogQHNlZSBtb2R1bGU6ZW5naW5lL3ZpZXcvbWF0Y2hlcn5NYXRjaGVyI2FkZAogICAgICogQHNlZSBtb2R1bGU6ZW5naW5lL3ZpZXcvbWF0Y2hlcn5NYXRjaGVyI21hdGNoCiAgICAgKiBAcGFyYW0gey4uLm1vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IGVsZW1lbnQgVmlldyBlbGVtZW50IHRvIG1hdGNoIGFnYWluc3Qgc3RvcmVkIHBhdHRlcm5zLgogICAgICogQHJldHVybnMge0FycmF5LjxPYmplY3Q+fG51bGx9IEFycmF5IHdpdGggbWF0Y2ggaW5mb3JtYXRpb24gYWJvdXQgZm91bmQgZWxlbWVudHMgb3IgYG51bGxgLiBGb3IgbW9yZSBpbmZvcm1hdGlvbgogICAgICogc2VlIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvbWF0Y2hlcn5NYXRjaGVyI21hdGNoIG1hdGNoIG1ldGhvZH0gZGVzY3JpcHRpb24uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibWF0Y2hBbGwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1hdGNoQWxsKCkgewogICAgICB2YXIgcmVzdWx0cyA9IFtdOwoKICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBlbGVtZW50ID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7CiAgICAgICAgZWxlbWVudFtfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdOwogICAgICB9CgogICAgICBmb3IgKHZhciBfaTMgPSAwLCBfZWxlbWVudDIgPSBlbGVtZW50OyBfaTMgPCBfZWxlbWVudDIubGVuZ3RoOyBfaTMrKykgewogICAgICAgIHZhciBzaW5nbGVFbGVtZW50ID0gX2VsZW1lbnQyW19pM107CiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTsKICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7CiAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLl9wYXR0ZXJuc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkgewogICAgICAgICAgICB2YXIgcGF0dGVybiA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgICAgdmFyIG1hdGNoID0gaXNFbGVtZW50TWF0Y2hpbmcoc2luZ2xlRWxlbWVudCwgcGF0dGVybik7CgogICAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgICByZXN1bHRzLnB1c2goewogICAgICAgICAgICAgICAgZWxlbWVudDogc2luZ2xlRWxlbWVudCwKICAgICAgICAgICAgICAgIHBhdHRlcm46IHBhdHRlcm4sCiAgICAgICAgICAgICAgICBtYXRjaDogbWF0Y2gKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTsKICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikgewogICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdHMubGVuZ3RoID4gMCA/IHJlc3VsdHMgOiBudWxsOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBuYW1lIG9mIHRoZSBlbGVtZW50IHRvIG1hdGNoIGlmIHRoZXJlIGlzIGV4YWN0bHkgb25lIHBhdHRlcm4gYWRkZWQgdG8gdGhlIG1hdGNoZXIgaW5zdGFuY2UKICAgICAqIGFuZCBpdCBtYXRjaGVzIGVsZW1lbnQgbmFtZSBkZWZpbmVkIGJ5IGBzdHJpbmdgIChub3QgYFJlZ0V4cGApLiBPdGhlcndpc2UsIHJldHVybnMgYG51bGxgLgogICAgICoKICAgICAqIEByZXR1cm5zIHtTdHJpbmd8bnVsbH0gRWxlbWVudCBuYW1lIHRyeWluZyB0byBtYXRjaC4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRFbGVtZW50TmFtZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RWxlbWVudE5hbWUoKSB7CiAgICAgIGlmICh0aGlzLl9wYXR0ZXJucy5sZW5ndGggIT09IDEpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgdmFyIHBhdHRlcm4gPSB0aGlzLl9wYXR0ZXJuc1swXTsKICAgICAgdmFyIG5hbWUgPSBwYXR0ZXJuLm5hbWU7CiAgICAgIHJldHVybiB0eXBlb2YgcGF0dGVybiAhPSAnZnVuY3Rpb24nICYmIG5hbWUgJiYgIShuYW1lIGluc3RhbmNlb2YgUmVnRXhwKSA/IG5hbWUgOiBudWxsOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE1hdGNoZXI7Cn0oKTsgLy8gUmV0dXJucyBtYXRjaCBpbmZvcm1hdGlvbiBpZiB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2VsZW1lbnR+RWxlbWVudCBlbGVtZW50fSBpcyBtYXRjaGluZyBwcm92aWRlZCBwYXR0ZXJuLgovLyBJZiBlbGVtZW50IGNhbm5vdCBiZSBtYXRjaGVkIHRvIHByb3ZpZGVkIHBhdHRlcm4gLSByZXR1cm5zIGBudWxsYC4KLy8KLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSBlbGVtZW50Ci8vIEBwYXJhbSB7T2JqZWN0fFN0cmluZ3xSZWdFeHB8RnVuY3Rpb259IHBhdHRlcm4KLy8gQHJldHVybnMge09iamVjdHxudWxsfSBSZXR1cm5zIG9iamVjdCB3aXRoIG1hdGNoIGluZm9ybWF0aW9uIG9yIG51bGwgaWYgZWxlbWVudCBpcyBub3QgbWF0Y2hpbmcuCgoKZXhwb3J0IHsgTWF0Y2hlciBhcyBkZWZhdWx0IH07CgpmdW5jdGlvbiBpc0VsZW1lbnRNYXRjaGluZyhlbGVtZW50LCBwYXR0ZXJuKSB7CiAgLy8gSWYgcGF0dGVybiBpcyBwcm92aWRlZCBhcyBmdW5jdGlvbiAtIHJldHVybiByZXN1bHQgb2YgdGhhdCBmdW5jdGlvbjsKICBpZiAodHlwZW9mIHBhdHRlcm4gPT0gJ2Z1bmN0aW9uJykgewogICAgcmV0dXJuIHBhdHRlcm4oZWxlbWVudCk7CiAgfQoKICB2YXIgbWF0Y2ggPSB7fTsgLy8gQ2hlY2sgZWxlbWVudCdzIG5hbWUuCgogIGlmIChwYXR0ZXJuLm5hbWUpIHsKICAgIG1hdGNoLm5hbWUgPSBtYXRjaE5hbWUocGF0dGVybi5uYW1lLCBlbGVtZW50Lm5hbWUpOwoKICAgIGlmICghbWF0Y2gubmFtZSkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9IC8vIENoZWNrIGVsZW1lbnQncyBhdHRyaWJ1dGVzLgoKCiAgaWYgKHBhdHRlcm4uYXR0cmlidXRlcykgewogICAgbWF0Y2guYXR0cmlidXRlcyA9IG1hdGNoQXR0cmlidXRlcyhwYXR0ZXJuLmF0dHJpYnV0ZXMsIGVsZW1lbnQpOwoKICAgIGlmICghbWF0Y2guYXR0cmlidXRlcykgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9IC8vIENoZWNrIGVsZW1lbnQncyBjbGFzc2VzLgoKCiAgaWYgKHBhdHRlcm4uY2xhc3NlcykgewogICAgbWF0Y2guY2xhc3NlcyA9IG1hdGNoQ2xhc3NlcyhwYXR0ZXJuLmNsYXNzZXMsIGVsZW1lbnQpOwoKICAgIGlmICghbWF0Y2guY2xhc3NlcykgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSAvLyBDaGVjayBlbGVtZW50J3Mgc3R5bGVzLgoKCiAgaWYgKHBhdHRlcm4uc3R5bGVzKSB7CiAgICBtYXRjaC5zdHlsZXMgPSBtYXRjaFN0eWxlcyhwYXR0ZXJuLnN0eWxlcywgZWxlbWVudCk7CgogICAgaWYgKCFtYXRjaC5zdHlsZXMpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KCiAgcmV0dXJuIG1hdGNoOwp9IC8vIENoZWNrcyBpZiBuYW1lIGNhbiBiZSBtYXRjaGVkIGJ5IHByb3ZpZGVkIHBhdHRlcm4uCi8vCi8vIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gcGF0dGVybgovLyBAcGFyYW0ge1N0cmluZ30gbmFtZQovLyBAcmV0dXJucyB7Qm9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgbmFtZSBjYW4gYmUgbWF0Y2hlZCwgYGZhbHNlYCBvdGhlcndpc2UuCgoKZnVuY3Rpb24gbWF0Y2hOYW1lKHBhdHRlcm4sIG5hbWUpIHsKICAvLyBJZiBwYXR0ZXJuIGlzIHByb3ZpZGVkIGFzIFJlZ0V4cCAtIHRlc3QgYWdhaW5zdCB0aGlzIHJlZ2V4cC4KICBpZiAocGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKTsKICB9CgogIHJldHVybiBwYXR0ZXJuID09PSBuYW1lOwp9IC8vIENoZWNrcyBpZiBhdHRyaWJ1dGVzIG9mIHByb3ZpZGVkIGVsZW1lbnQgY2FuIGJlIG1hdGNoZWQgYWdhaW5zdCBwcm92aWRlZCBwYXR0ZXJucy4KLy8KLy8gQHBhcmFtIHtPYmplY3R9IHBhdHRlcm5zIE9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IGF0dHJpYnV0ZXMgdG8gbWF0Y2guIEVhY2gga2V5IG9mIHRoZSBvYmplY3Qgd2lsbCBiZQovLyB1c2VkIGFzIGF0dHJpYnV0ZSBuYW1lLiBWYWx1ZSBvZiBlYWNoIGtleSBjYW4gYmUgYSBzdHJpbmcgb3IgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QgYXR0cmlidXRlIHZhbHVlLgovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB3aGljaCBhdHRyaWJ1dGVzIHdpbGwgYmUgdGVzdGVkLgovLyBAcmV0dXJucyB7QXJyYXl8bnVsbH0gUmV0dXJucyBhcnJheSB3aXRoIG1hdGNoZWQgYXR0cmlidXRlIG5hbWVzIG9yIGBudWxsYCBpZiBubyBhdHRyaWJ1dGVzIHdlcmUgbWF0Y2hlZC4KCgpmdW5jdGlvbiBtYXRjaEF0dHJpYnV0ZXMocGF0dGVybnMsIGVsZW1lbnQpIHsKICB2YXIgbWF0Y2ggPSBbXTsKCiAgZm9yICh2YXIgbmFtZSBpbiBwYXR0ZXJucykgewogICAgdmFyIHBhdHRlcm4gPSBwYXR0ZXJuc1tuYW1lXTsKCiAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUobmFtZSkpIHsKICAgICAgdmFyIGF0dHJpYnV0ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpOwoKICAgICAgaWYgKHBhdHRlcm4gPT09IHRydWUpIHsKICAgICAgICBtYXRjaC5wdXNoKG5hbWUpOwogICAgICB9IGVsc2UgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICBpZiAocGF0dGVybi50ZXN0KGF0dHJpYnV0ZSkpIHsKICAgICAgICAgIG1hdGNoLnB1c2gobmFtZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IHBhdHRlcm4pIHsKICAgICAgICBtYXRjaC5wdXNoKG5hbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9CgogIHJldHVybiBtYXRjaDsKfSAvLyBDaGVja3MgaWYgY2xhc3NlcyBvZiBwcm92aWRlZCBlbGVtZW50IGNhbiBiZSBtYXRjaGVkIGFnYWluc3QgcHJvdmlkZWQgcGF0dGVybnMuCi8vCi8vIEBwYXJhbSB7QXJyYXkuPFN0cmluZ3xSZWdFeHA+fSBwYXR0ZXJucyBBcnJheSBvZiBzdHJpbmdzIG9yIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdG8gbWF0Y2ggYWdhaW5zdCBlbGVtZW50J3MgY2xhc3Nlcy4KLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgd2hpY2ggY2xhc3NlcyB3aWxsIGJlIHRlc3RlZC4KLy8gQHJldHVybnMge0FycmF5fG51bGx9IFJldHVybnMgYXJyYXkgd2l0aCBtYXRjaGVkIGNsYXNzIG5hbWVzIG9yIGBudWxsYCBpZiBubyBjbGFzc2VzIHdlcmUgbWF0Y2hlZC4KCgpmdW5jdGlvbiBtYXRjaENsYXNzZXMocGF0dGVybnMsIGVsZW1lbnQpIHsKICB2YXIgbWF0Y2ggPSBbXTsKICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlOwogIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTsKICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHBhdHRlcm5zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7CiAgICAgIHZhciBwYXR0ZXJuID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHsKICAgICAgICB2YXIgY2xhc3NlcyA9IGVsZW1lbnQuZ2V0Q2xhc3NOYW1lcygpOwogICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7CiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlOwogICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gY2xhc3Nlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkgewogICAgICAgICAgICB2YXIgbmFtZSA9IF9zdGVwNC52YWx1ZTsKCiAgICAgICAgICAgIGlmIChwYXR0ZXJuLnRlc3QobmFtZSkpIHsKICAgICAgICAgICAgICBtYXRjaC5wdXNoKG5hbWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlOwogICAgICAgICAgX2l0ZXJhdG9yRXJyb3I0ID0gZXJyOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ICYmIF9pdGVyYXRvcjQucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7CiAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I0OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAobWF0Y2gubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5oYXNDbGFzcyhwYXR0ZXJuKSkgewogICAgICAgIG1hdGNoLnB1c2gocGF0dGVybik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7CiAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7CiAgICAgIH0KICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHsKICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiBtYXRjaDsKfSAvLyBDaGVja3MgaWYgc3R5bGVzIG9mIHByb3ZpZGVkIGVsZW1lbnQgY2FuIGJlIG1hdGNoZWQgYWdhaW5zdCBwcm92aWRlZCBwYXR0ZXJucy4KLy8KLy8gQHBhcmFtIHtPYmplY3R9IHBhdHRlcm5zIE9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHN0eWxlcyB0byBtYXRjaC4gRWFjaCBrZXkgb2YgdGhlIG9iamVjdCB3aWxsIGJlCi8vIHVzZWQgYXMgc3R5bGUgbmFtZS4gVmFsdWUgb2YgZWFjaCBrZXkgY2FuIGJlIGEgc3RyaW5nIG9yIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBhZ2FpbnN0IHN0eWxlIHZhbHVlLgovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB3aGljaCBzdHlsZXMgd2lsbCBiZSB0ZXN0ZWQuCi8vIEByZXR1cm5zIHtBcnJheXxudWxsfSBSZXR1cm5zIGFycmF5IHdpdGggbWF0Y2hlZCBzdHlsZSBuYW1lcyBvciBgbnVsbGAgaWYgbm8gc3R5bGVzIHdlcmUgbWF0Y2hlZC4KCgpmdW5jdGlvbiBtYXRjaFN0eWxlcyhwYXR0ZXJucywgZWxlbWVudCkgewogIHZhciBtYXRjaCA9IFtdOwoKICBmb3IgKHZhciBuYW1lIGluIHBhdHRlcm5zKSB7CiAgICB2YXIgcGF0dGVybiA9IHBhdHRlcm5zW25hbWVdOwoKICAgIGlmIChlbGVtZW50Lmhhc1N0eWxlKG5hbWUpKSB7CiAgICAgIHZhciBzdHlsZSA9IGVsZW1lbnQuZ2V0U3R5bGUobmFtZSk7CgogICAgICBpZiAocGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkgewogICAgICAgIGlmIChwYXR0ZXJuLnRlc3Qoc3R5bGUpKSB7CiAgICAgICAgICBtYXRjaC5wdXNoKG5hbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoc3R5bGUgPT09IHBhdHRlcm4pIHsKICAgICAgICBtYXRjaC5wdXNoKG5hbWUpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9CgogIHJldHVybiBtYXRjaDsKfQovKioKICogQW4gZW50aXR5IHRoYXQgaXMgYSB2YWxpZCBwYXR0ZXJuIHJlY29nbml6ZWQgYnkgYSBtYXRjaGVyLiBgTWF0Y2hlclBhdHRlcm5gIGlzIHVzZWQgYnkge0BsaW5rIH5NYXRjaGVyfSB0byByZWNvZ25pemUKICogaWYgYSB2aWV3IGVsZW1lbnQgZml0cyBpbiBhIGdyb3VwIG9mIHZpZXcgZWxlbWVudHMgZGVzY3JpYmVkIGJ5IHRoZSBwYXR0ZXJuLgogKgogKiBgTWF0Y2hlclBhdHRlcm5gIGNhbiBiZSBnaXZlbiBhcyBhIGBTdHJpbmdgLCBhIGBSZWdFeHBgLCBhbiBgT2JqZWN0YCBvciBhIGBGdW5jdGlvbmAuCiAqCiAqIElmIGBNYXRjaGVyUGF0dGVybmAgaXMgZ2l2ZW4gYXMgYSBgU3RyaW5nYCBvciBgUmVnRXhwYCwgaXQgd2lsbCBtYXRjaCBhbnkgdmlldyBlbGVtZW50IHRoYXQgaGFzIGEgbWF0Y2hpbmcgbmFtZToKICoKICoJCS8vIE1hdGNoIGFueSBlbGVtZW50IHdpdGggbmFtZSBlcXVhbCB0byAnZGl2Jy4KICoJCWNvbnN0IHBhdHRlcm4gPSAnZGl2JzsKICoKICoJCS8vIE1hdGNoIGFueSBlbGVtZW50IHdoaWNoIG5hbWUgc3RhcnRzIG9uICdwJy4KICoJCWNvbnN0IHBhdHRlcm4gPSAvXnAvOwogKgogKiBJZiBgTWF0Y2hlclBhdHRlcm5gIGlzIGdpdmVuIGFzIGFuIGBPYmplY3RgLCBhbGwgdGhlIG9iamVjdCdzIHByb3BlcnRpZXMgd2lsbCBiZSBtYXRjaGVkIHdpdGggdmlldyBlbGVtZW50IHByb3BlcnRpZXMuCiAqCiAqCQkvLyBNYXRjaCB2aWV3IGVsZW1lbnQncyBuYW1lLgogKgkJY29uc3QgcGF0dGVybiA9IHsgbmFtZTogL15wLyB9OwogKgogKgkJLy8gTWF0Y2ggdmlldyBlbGVtZW50IHdoaWNoIGhhcyBtYXRjaGluZyBhdHRyaWJ1dGVzLgogKgkJY29uc3QgcGF0dGVybiA9IHsKICoJCQlhdHRyaWJ1dGVzOiB7CiAqCQkJCXRpdGxlOiAnZm9vYmFyJywJLy8gQXR0cmlidXRlIHRpdGxlIHNob3VsZCBlcXVhbCAnZm9vYmFyJy4KICoJCQkJZm9vOiAvXlx3Ky8sCQkvLyBBdHRyaWJ1dGUgZm9vIHNob3VsZCBtYXRjaCAvXlx3Ky8gcmVnZXhwLgogKgkJCQliYXI6IHRydWUJCQkvLyBBdHRyaWJ1dGUgYmFyIHNob3VsZCBiZSBzZXQgKGNhbiBiZSBlbXB0eSkuCiAqCQkJfQogKgkJfTsKICoKICoJCS8vIE1hdGNoIHZpZXcgZWxlbWVudCB3aGljaCBoYXMgZ2l2ZW4gY2xhc3MuCiAqCQljb25zdCBwYXR0ZXJuID0gewogKgkJCWNsYXNzZXM6ICdmb29iYXInCiAqCQl9OwogKgogKgkJLy8gTWF0Y2ggdmlldyBlbGVtZW50IGNsYXNzIHVzaW5nIHJlZ3VsYXIgZXhwcmVzc2lvbi4KICoJCWNvbnN0IHBhdHRlcm4gPSB7CiAqCQkJY2xhc3NlczogL2Zvby4uLi8KICoJCX07CiAqCiAqCQkvLyBNdWx0aXBsZSBjbGFzc2VzIHRvIG1hdGNoLgogKgkJY29uc3QgcGF0dGVybiA9IHsKICoJCQljbGFzc2VzOiBbICdiYXonLCAnYmFyJywgL2Zvby4uLi8gXQogKgkJfTsKICoKICoJCS8vIE1hdGNoIHZpZXcgZWxlbWVudCB3aGljaCBoYXMgZ2l2ZW4gc3R5bGVzLgogKgkJY29uc3QgcGF0dGVybiA9IHsKICoJCQlzdHlsZXM6IHsKICoJCQkJcG9zaXRpb246ICdhYnNvbHV0ZScsCiAqCQkJCWNvbG9yOiAvXlx3KmJsdWUkLwogKgkJCX0KICoJCX07CiAqCiAqCQkvLyBQYXR0ZXJuIHdpdGggbXVsdGlwbGUgcHJvcGVydGllcy4KICoJCWNvbnN0IHBhdHRlcm4gPSB7CiAqCQkJbmFtZTogJ3NwYW4nLAogKgkJCXN0eWxlczogewogKgkJCQknZm9udC13ZWlnaHQnOiAnYm9sZCcKICoJCQl9LAogKgkJCWNsYXNzZXM6ICdoaWdobGlnaHRlZCcKICoJCX07CiAqCiAqIElmIGBNYXRjaGVyUGF0dGVybmAgaXMgZ2l2ZW4gYXMgYSBgRnVuY3Rpb25gLCB0aGUgZnVuY3Rpb24gdGFrZXMgYSB2aWV3IGVsZW1lbnQgYXMgYSBmaXJzdCBhbmQgb25seSBwYXJhbWV0ZXIgYW5kCiAqIHRoZSBmdW5jdGlvbiBzaG91bGQgZGVjaWRlIHdoZXRoZXIgdGhhdCBlbGVtZW50IG1hdGNoZXMuIElmIHNvLCBpdCBzaG91bGQgcmV0dXJuIHdoYXQgcGFydCBvZiB0aGUgdmlldyBlbGVtZW50IGhhcyBiZWVuIG1hdGNoZWQuCiAqIE90aGVyd2lzZSwgdGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYG51bGxgLiBUaGUgcmV0dXJuZWQgcmVzdWx0IHdpbGwgYmUgaW5jbHVkZWQgaW4gYG1hdGNoYCBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0CiAqIHJldHVybmVkIGJ5IHtAbGluayB+TWF0Y2hlciNtYXRjaH0gY2FsbC4KICoKICoJCS8vIE1hdGNoIGFuIGVtcHR5IDxkaXY+IGVsZW1lbnQuCiAqCQljb25zdCBwYXR0ZXJuID0gZWxlbWVudCA9PiB7CiAqCQkJaWYgKCBlbGVtZW50Lm5hbWUgPT0gJ2RpdicgJiYgZWxlbWVudC5jaGlsZENvdW50ID4gMCApIHsKICoJCQkJLy8gUmV0dXJuIHdoaWNoIHBhcnQgb2YgdGhlIGVsZW1lbnQgd2FzIG1hdGNoZWQuCiAqCQkJCXJldHVybiB7IG5hbWU6IHRydWUgfTsKICoJCQl9CiAqCiAqCQkJcmV0dXJuIG51bGw7CiAqCQl9OwogKgogKgkJLy8gTWF0Y2ggYSA8cD4gZWxlbWVudCB3aXRoIGJpZyBmb250ICgiaGVhZGluZy1saWtlIiBlbGVtZW50KS4KICoJCWNvbnN0IHBhdHRlcm4gPSBlbGVtZW50ID0+IHsKICoJCQlpZiAoIGVsZW1lbnQubmFtZSA9PSAncCcgKSB7CiAqCQkJCWNvbnN0IGZvbnRTaXplID0gZWxlbWVudC5nZXRTdHlsZSggJ2ZvbnQtc2l6ZScgKTsKICoJCQkJY29uc3Qgc2l6ZSA9IGZvbnRTaXplLm1hdGNoKCAvKFxkKykvcHggKTsKICoKICoJCQkJaWYgKCBzaXplICYmIE51bWJlciggc2l6ZVsgMSBdICkgPiAyNiApIHsKICoJCQkJCXJldHVybiB7IG5hbWU6IHRydWUsIGF0dHJpYnV0ZTogWyAnZm9udC1zaXplJyBdIH07CiAqCQkJCX0KICoJCQl9CiAqCiAqCQkJcmV0dXJuIG51bGw7CiAqCQl9OwogKgogKiBgTWF0Y2hlclBhdHRlcm5gIGlzIGRlZmluZWQgaW4gYSB3YXkgdGhhdCBpdCBpcyBhIHN1cGVyc2V0IG9mIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudGRlZmluaXRpb25+RWxlbWVudERlZmluaXRpb259LAogKiB0aGF0IGlzLCBldmVyeSBgRWxlbWVudERlZmluaXRpb25gIGFsc28gY2FuIGJlIHVzZWQgYXMgYSBgTWF0Y2hlclBhdHRlcm5gLgogKgogKiBAdHlwZWRlZiB7U3RyaW5nfFJlZ0V4cHxPYmplY3R8RnVuY3Rpb259IG1vZHVsZTplbmdpbmUvdmlldy9tYXRjaGVyfk1hdGNoZXJQYXR0ZXJuCiAqCiAqIEBwcm9wZXJ0eSB7U3RyaW5nfFJlZ0V4cH0gW25hbWVdIFZpZXcgZWxlbWVudCBuYW1lIHRvIG1hdGNoLgogKiBAcHJvcGVydHkge1N0cmluZ3xSZWdFeHB8QXJyYXkuPFN0cmluZ3xSZWdFeHA+fSBbY2xhc3Nlc10gVmlldyBlbGVtZW50J3MgY2xhc3MgbmFtZShzKSB0byBtYXRjaC4KICogQHByb3BlcnR5IHtPYmplY3R9IFtzdHlsZXNdIE9iamVjdCB3aXRoIGtleS12YWx1ZSBwYWlycyByZXByZXNlbnRpbmcgc3R5bGVzIHRvIG1hdGNoLgogKiBFYWNoIG9iamVjdCBrZXkgcmVwcmVzZW50cyBzdHlsZSBuYW1lLiBWYWx1ZSBjYW4gYmUgZ2l2ZW4gYXMgYFN0cmluZ2Agb3IgYFJlZ0V4cGAuCiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbYXR0cmlidXRlc10gT2JqZWN0IHdpdGgga2V5LXZhbHVlIHBhaXJzIHJlcHJlc2VudGluZyBhdHRyaWJ1dGVzIHRvIG1hdGNoLgogKiBFYWNoIG9iamVjdCBrZXkgcmVwcmVzZW50cyBhdHRyaWJ1dGUgbmFtZS4gVmFsdWUgY2FuIGJlIGdpdmVuIGFzIGBTdHJpbmdgIG9yIGBSZWdFeHBgLgogKi8="},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-engine/src/view/matcher.js"],"names":["Matcher","_patterns","add","pattern","item","RegExp","name","classes","push","element","singleElement","match","isElementMatching","results","length","matchName","attributes","matchAttributes","matchClasses","styles","matchStyles","test","patterns","hasAttribute","attribute","getAttribute","getClassNames","hasClass","hasStyle","style","getStyle"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/view/matcher\n */\n\n/**\n * View matcher class.\n * Instance of this class can be used to find {@link module:engine/view/element~Element elements} that match given pattern.\n */\nexport default class Matcher {\n\t/**\n\t * Creates new instance of Matcher.\n\t *\n\t * @param {String|RegExp|Object} [pattern] Match patterns. See {@link module:engine/view/matcher~Matcher#add add method} for\n\t * more information.\n\t */\n\tconstructor( ...pattern ) {\n\t\t/**\n\t\t * @private\n\t\t * @type {Array<String|RegExp|Object>}\n\t\t */\n\t\tthis._patterns = [];\n\n\t\tthis.add( ...pattern );\n\t}\n\n\t/**\n\t * Adds pattern or patterns to matcher instance.\n\t *\n\t *\t\t// String.\n\t *\t\tmatcher.add( 'div' );\n\t *\n\t *\t\t// Regular expression.\n\t *\t\tmatcher.add( /^\\w/ );\n\t *\n\t *\t\t// Single class.\n\t *\t\tmatcher.add( {\n\t *\t\t\tclasses: 'foobar'\n\t *\t\t} );\n\t *\n\t * See {@link module:engine/view/matcher~MatcherPattern} for more examples.\n\t *\n\t * Multiple patterns can be added in one call:\n\t *\n\t * \t\tmatcher.add( 'div', { classes: 'foobar' } );\n\t *\n\t * @param {Object|String|RegExp|Function} pattern Object describing pattern details. If string or regular expression\n\t * is provided it will be used to match element's name. Pattern can be also provided in a form\n\t * of a function - then this function will be called with each {@link module:engine/view/element~Element element} as a parameter.\n\t * Function's return value will be stored under `match` key of the object returned from\n\t * {@link module:engine/view/matcher~Matcher#match match} or {@link module:engine/view/matcher~Matcher#matchAll matchAll} methods.\n\t * @param {String|RegExp} [pattern.name] Name or regular expression to match element's name.\n\t * @param {Object} [pattern.attributes] Object with key-value pairs representing attributes to match. Each object key\n\t * represents attribute name. Value under that key can be either:\n\t * * `true` - then attribute is just required (can be empty),\n\t * * a string - then attribute has to be equal, or\n\t * * a regular expression - then attribute has to match the expression.\n\t * @param {String|RegExp|Array} [pattern.classes] Class name or array of class names to match. Each name can be\n\t * provided in a form of string or regular expression.\n\t * @param {Object} [pattern.styles] Object with key-value pairs representing styles to match. Each object key\n\t * represents style name. Value under that key can be either a string or a regular expression and it will be used\n\t * to match style value.\n\t */\n\tadd( ...pattern ) {\n\t\tfor ( let item of pattern ) {\n\t\t\t// String or RegExp pattern is used as element's name.\n\t\t\tif ( typeof item == 'string' || item instanceof RegExp ) {\n\t\t\t\titem = { name: item };\n\t\t\t}\n\n\t\t\t// Single class name/RegExp can be provided.\n\t\t\tif ( item.classes && ( typeof item.classes == 'string' || item.classes instanceof RegExp ) ) {\n\t\t\t\titem.classes = [ item.classes ];\n\t\t\t}\n\n\t\t\tthis._patterns.push( item );\n\t\t}\n\t}\n\n\t/**\n\t * Matches elements for currently stored patterns. Returns match information about first found\n\t * {@link module:engine/view/element~Element element}, otherwise returns `null`.\n\t *\n\t * Example of returned object:\n\t *\n\t *\t\t{\n\t *\t\t\telement: <instance of found element>,\n\t *\t\t\tpattern: <pattern used to match found element>,\n\t *\t\t\tmatch: {\n\t *\t\t\t\tname: true,\n\t *\t\t\t\tattributes: [ 'title', 'href' ],\n\t *\t\t\t\tclasses: [ 'foo' ],\n\t *\t\t\t\tstyles: [ 'color', 'position' ]\n\t *\t\t\t}\n\t *\t\t}\n\t *\n\t * @see module:engine/view/matcher~Matcher#add\n\t * @see module:engine/view/matcher~Matcher#matchAll\n\t * @param {...module:engine/view/element~Element} element View element to match against stored patterns.\n\t * @returns {Object|null} result\n\t * @returns {module:engine/view/element~Element} result.element Matched view element.\n\t * @returns {Object|String|RegExp|Function} result.pattern Pattern that was used to find matched element.\n\t * @returns {Object} result.match Object representing matched element parts.\n\t * @returns {Boolean} [result.match.name] True if name of the element was matched.\n\t * @returns {Array} [result.match.attributes] Array with matched attribute names.\n\t * @returns {Array} [result.match.classes] Array with matched class names.\n\t * @returns {Array} [result.match.styles] Array with matched style names.\n\t */\n\tmatch( ...element ) {\n\t\tfor ( const singleElement of element ) {\n\t\t\tfor ( const pattern of this._patterns ) {\n\t\t\t\tconst match = isElementMatching( singleElement, pattern );\n\n\t\t\t\tif ( match ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\telement: singleElement,\n\t\t\t\t\t\tpattern,\n\t\t\t\t\t\tmatch\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Matches elements for currently stored patterns. Returns array of match information with all found\n\t * {@link module:engine/view/element~Element elements}. If no element is found - returns `null`.\n\t *\n\t * @see module:engine/view/matcher~Matcher#add\n\t * @see module:engine/view/matcher~Matcher#match\n\t * @param {...module:engine/view/element~Element} element View element to match against stored patterns.\n\t * @returns {Array.<Object>|null} Array with match information about found elements or `null`. For more information\n\t * see {@link module:engine/view/matcher~Matcher#match match method} description.\n\t */\n\tmatchAll( ...element ) {\n\t\tconst results = [];\n\n\t\tfor ( const singleElement of element ) {\n\t\t\tfor ( const pattern of this._patterns ) {\n\t\t\t\tconst match = isElementMatching( singleElement, pattern );\n\n\t\t\t\tif ( match ) {\n\t\t\t\t\tresults.push( {\n\t\t\t\t\t\telement: singleElement,\n\t\t\t\t\t\tpattern,\n\t\t\t\t\t\tmatch\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn results.length > 0 ? results : null;\n\t}\n\n\t/**\n\t * Returns the name of the element to match if there is exactly one pattern added to the matcher instance\n\t * and it matches element name defined by `string` (not `RegExp`). Otherwise, returns `null`.\n\t *\n\t * @returns {String|null} Element name trying to match.\n\t */\n\tgetElementName() {\n\t\tif ( this._patterns.length !== 1 ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst pattern = this._patterns[ 0 ];\n\t\tconst name = pattern.name;\n\n\t\treturn ( typeof pattern != 'function' && name && !( name instanceof RegExp ) ) ? name : null;\n\t}\n}\n\n// Returns match information if {@link module:engine/view/element~Element element} is matching provided pattern.\n// If element cannot be matched to provided pattern - returns `null`.\n//\n// @param {module:engine/view/element~Element} element\n// @param {Object|String|RegExp|Function} pattern\n// @returns {Object|null} Returns object with match information or null if element is not matching.\nfunction isElementMatching( element, pattern ) {\n\t// If pattern is provided as function - return result of that function;\n\tif ( typeof pattern == 'function' ) {\n\t\treturn pattern( element );\n\t}\n\n\tconst match = {};\n\t// Check element's name.\n\tif ( pattern.name ) {\n\t\tmatch.name = matchName( pattern.name, element.name );\n\n\t\tif ( !match.name ) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t// Check element's attributes.\n\tif ( pattern.attributes ) {\n\t\tmatch.attributes = matchAttributes( pattern.attributes, element );\n\n\t\tif ( !match.attributes ) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t// Check element's classes.\n\tif ( pattern.classes ) {\n\t\tmatch.classes = matchClasses( pattern.classes, element );\n\n\t\tif ( !match.classes ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// Check element's styles.\n\tif ( pattern.styles ) {\n\t\tmatch.styles = matchStyles( pattern.styles, element );\n\n\t\tif ( !match.styles ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn match;\n}\n\n// Checks if name can be matched by provided pattern.\n//\n// @param {String|RegExp} pattern\n// @param {String} name\n// @returns {Boolean} Returns `true` if name can be matched, `false` otherwise.\nfunction matchName( pattern, name ) {\n\t// If pattern is provided as RegExp - test against this regexp.\n\tif ( pattern instanceof RegExp ) {\n\t\treturn pattern.test( name );\n\t}\n\n\treturn pattern === name;\n}\n\n// Checks if attributes of provided element can be matched against provided patterns.\n//\n// @param {Object} patterns Object with information about attributes to match. Each key of the object will be\n// used as attribute name. Value of each key can be a string or regular expression to match against attribute value.\n// @param {module:engine/view/element~Element} element Element which attributes will be tested.\n// @returns {Array|null} Returns array with matched attribute names or `null` if no attributes were matched.\nfunction matchAttributes( patterns, element ) {\n\tconst match = [];\n\n\tfor ( const name in patterns ) {\n\t\tconst pattern = patterns[ name ];\n\n\t\tif ( element.hasAttribute( name ) ) {\n\t\t\tconst attribute = element.getAttribute( name );\n\n\t\t\tif ( pattern === true ) {\n\t\t\t\tmatch.push( name );\n\t\t\t} else if ( pattern instanceof RegExp ) {\n\t\t\t\tif ( pattern.test( attribute ) ) {\n\t\t\t\t\tmatch.push( name );\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else if ( attribute === pattern ) {\n\t\t\t\tmatch.push( name );\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn match;\n}\n\n// Checks if classes of provided element can be matched against provided patterns.\n//\n// @param {Array.<String|RegExp>} patterns Array of strings or regular expressions to match against element's classes.\n// @param {module:engine/view/element~Element} element Element which classes will be tested.\n// @returns {Array|null} Returns array with matched class names or `null` if no classes were matched.\nfunction matchClasses( patterns, element ) {\n\tconst match = [];\n\n\tfor ( const pattern of patterns ) {\n\t\tif ( pattern instanceof RegExp ) {\n\t\t\tconst classes = element.getClassNames();\n\n\t\t\tfor ( const name of classes ) {\n\t\t\t\tif ( pattern.test( name ) ) {\n\t\t\t\t\tmatch.push( name );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( match.length === 0 ) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else if ( element.hasClass( pattern ) ) {\n\t\t\tmatch.push( pattern );\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn match;\n}\n\n// Checks if styles of provided element can be matched against provided patterns.\n//\n// @param {Object} patterns Object with information about styles to match. Each key of the object will be\n// used as style name. Value of each key can be a string or regular expression to match against style value.\n// @param {module:engine/view/element~Element} element Element which styles will be tested.\n// @returns {Array|null} Returns array with matched style names or `null` if no styles were matched.\nfunction matchStyles( patterns, element ) {\n\tconst match = [];\n\n\tfor ( const name in patterns ) {\n\t\tconst pattern = patterns[ name ];\n\n\t\tif ( element.hasStyle( name ) ) {\n\t\t\tconst style = element.getStyle( name );\n\n\t\t\tif ( pattern instanceof RegExp ) {\n\t\t\t\tif ( pattern.test( style ) ) {\n\t\t\t\t\tmatch.push( name );\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else if ( style === pattern ) {\n\t\t\t\tmatch.push( name );\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\treturn match;\n}\n\n/**\n * An entity that is a valid pattern recognized by a matcher. `MatcherPattern` is used by {@link ~Matcher} to recognize\n * if a view element fits in a group of view elements described by the pattern.\n *\n * `MatcherPattern` can be given as a `String`, a `RegExp`, an `Object` or a `Function`.\n *\n * If `MatcherPattern` is given as a `String` or `RegExp`, it will match any view element that has a matching name:\n *\n *\t\t// Match any element with name equal to 'div'.\n *\t\tconst pattern = 'div';\n *\n *\t\t// Match any element which name starts on 'p'.\n *\t\tconst pattern = /^p/;\n *\n * If `MatcherPattern` is given as an `Object`, all the object's properties will be matched with view element properties.\n *\n *\t\t// Match view element's name.\n *\t\tconst pattern = { name: /^p/ };\n *\n *\t\t// Match view element which has matching attributes.\n *\t\tconst pattern = {\n *\t\t\tattributes: {\n *\t\t\t\ttitle: 'foobar',\t// Attribute title should equal 'foobar'.\n *\t\t\t\tfoo: /^\\w+/,\t\t// Attribute foo should match /^\\w+/ regexp.\n *\t\t\t\tbar: true\t\t\t// Attribute bar should be set (can be empty).\n *\t\t\t}\n *\t\t};\n *\n *\t\t// Match view element which has given class.\n *\t\tconst pattern = {\n *\t\t\tclasses: 'foobar'\n *\t\t};\n *\n *\t\t// Match view element class using regular expression.\n *\t\tconst pattern = {\n *\t\t\tclasses: /foo.../\n *\t\t};\n *\n *\t\t// Multiple classes to match.\n *\t\tconst pattern = {\n *\t\t\tclasses: [ 'baz', 'bar', /foo.../ ]\n *\t\t};\n *\n *\t\t// Match view element which has given styles.\n *\t\tconst pattern = {\n *\t\t\tstyles: {\n *\t\t\t\tposition: 'absolute',\n *\t\t\t\tcolor: /^\\w*blue$/\n *\t\t\t}\n *\t\t};\n *\n *\t\t// Pattern with multiple properties.\n *\t\tconst pattern = {\n *\t\t\tname: 'span',\n *\t\t\tstyles: {\n *\t\t\t\t'font-weight': 'bold'\n *\t\t\t},\n *\t\t\tclasses: 'highlighted'\n *\t\t};\n *\n * If `MatcherPattern` is given as a `Function`, the function takes a view element as a first and only parameter and\n * the function should decide whether that element matches. If so, it should return what part of the view element has been matched.\n * Otherwise, the function should return `null`. The returned result will be included in `match` property of the object\n * returned by {@link ~Matcher#match} call.\n *\n *\t\t// Match an empty <div> element.\n *\t\tconst pattern = element => {\n *\t\t\tif ( element.name == 'div' && element.childCount > 0 ) {\n *\t\t\t\t// Return which part of the element was matched.\n *\t\t\t\treturn { name: true };\n *\t\t\t}\n *\n *\t\t\treturn null;\n *\t\t};\n *\n *\t\t// Match a <p> element with big font (\"heading-like\" element).\n *\t\tconst pattern = element => {\n *\t\t\tif ( element.name == 'p' ) {\n *\t\t\t\tconst fontSize = element.getStyle( 'font-size' );\n *\t\t\t\tconst size = fontSize.match( /(\\d+)/px );\n *\n *\t\t\t\tif ( size && Number( size[ 1 ] ) > 26 ) {\n *\t\t\t\t\treturn { name: true, attribute: [ 'font-size' ] };\n *\t\t\t\t}\n *\t\t\t}\n *\n *\t\t\treturn null;\n *\t\t};\n *\n * `MatcherPattern` is defined in a way that it is a superset of {@link module:engine/view/elementdefinition~ElementDefinition},\n * that is, every `ElementDefinition` also can be used as a `MatcherPattern`.\n *\n * @typedef {String|RegExp|Object|Function} module:engine/view/matcher~MatcherPattern\n *\n * @property {String|RegExp} [name] View element name to match.\n * @property {String|RegExp|Array.<String|RegExp>} [classes] View element's class name(s) to match.\n * @property {Object} [styles] Object with key-value pairs representing styles to match.\n * Each object key represents style name. Value can be given as `String` or `RegExp`.\n * @property {Object} [attributes] Object with key-value pairs representing attributes to match.\n * Each object key represents attribute name. Value can be given as `String` or `RegExp`.\n */\n"]}]}