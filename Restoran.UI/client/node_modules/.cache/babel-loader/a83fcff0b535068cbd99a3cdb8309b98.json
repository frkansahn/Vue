{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\model\\utils\\deletecontent.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\model\\utils\\deletecontent.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1581760786382},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwoKLyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDIwLCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGVuZ2luZS9tb2RlbC91dGlscy9kZWxldGVjb250ZW50CiAqLwppbXBvcnQgTGl2ZVBvc2l0aW9uIGZyb20gJy4uL2xpdmVwb3NpdGlvbic7CmltcG9ydCBSYW5nZSBmcm9tICcuLi9yYW5nZSc7CmltcG9ydCBEb2N1bWVudFNlbGVjdGlvbiBmcm9tICcuLi9kb2N1bWVudHNlbGVjdGlvbic7Ci8qKgogKiBEZWxldGVzIGNvbnRlbnQgb2YgdGhlIHNlbGVjdGlvbiBhbmQgbWVyZ2Ugc2libGluZ3MuIFRoZSByZXN1bHRpbmcgc2VsZWN0aW9uIGlzIGFsd2F5cyBjb2xsYXBzZWQuCiAqCiAqICoqTm90ZToqKiBVc2Uge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWwjZGVsZXRlQ29udGVudH0gaW5zdGVhZCBvZiB0aGlzIGZ1bmN0aW9uLgogKiBUaGlzIGZ1bmN0aW9uIGlzIG9ubHkgZXhwb3NlZCB0byBiZSByZXVzYWJsZSBpbiBhbGdvcml0aG1zCiAqIHdoaWNoIGNoYW5nZSB0aGUge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWwjZGVsZXRlQ29udGVudH0KICogbWV0aG9kJ3MgYmVoYXZpb3IuCiAqCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9tb2RlbH5Nb2RlbH0gbW9kZWwgVGhlIG1vZGVsIGluIGNvbnRleHQgb2Ygd2hpY2ggdGhlIGluc2VydGlvbgogKiBzaG91bGQgYmUgcGVyZm9ybWVkLgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvc2VsZWN0aW9uflNlbGVjdGlvbnxtb2R1bGU6ZW5naW5lL21vZGVsL2RvY3VtZW50c2VsZWN0aW9ufkRvY3VtZW50U2VsZWN0aW9ufSBzZWxlY3Rpb24KICogU2VsZWN0aW9uIG9mIHdoaWNoIHRoZSBjb250ZW50IHNob3VsZCBiZSBkZWxldGVkLgogKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdCiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubGVhdmVVbm1lcmdlZD1mYWxzZV0gV2hldGhlciB0byBtZXJnZSBlbGVtZW50cyBhZnRlciByZW1vdmluZyB0aGUgY29udGVudCBvZiB0aGUgc2VsZWN0aW9uLgogKgogKiBGb3IgZXhhbXBsZSBgPGhlYWRpbmc+eFt4PC9oZWFkaW5nPjxwYXJhZ3JhcGg+eV15PC9wYXJhZ3JhcGg+YCB3aWxsIGJlY29tZToKICoKICogKiBgPGhlYWRpbmc+eF55PC9oZWFkaW5nPmAgd2l0aCB0aGUgb3B0aW9uIGRpc2FibGVkIChgbGVhdmVVbm1lcmdlZCA9PSBmYWxzZWApCiAqICogYDxoZWFkaW5nPnhePC9oZWFkaW5nPjxwYXJhZ3JhcGg+eTwvcGFyYWdyYXBoPmAgd2l0aCBlbmFibGVkIChgbGVhdmVVbm1lcmdlZCA9PSB0cnVlYCkuCiAqCiAqIE5vdGU6IHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL3NjaGVtYX5TY2hlbWEjaXNPYmplY3Qgb2JqZWN0fSBhbmQge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvc2NoZW1hflNjaGVtYSNpc0xpbWl0IGxpbWl0fQogKiBlbGVtZW50cyB3aWxsIG5vdCBiZSBtZXJnZWQuCiAqCiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZG9Ob3RSZXNldEVudGlyZUNvbnRlbnQ9ZmFsc2VdIFdoZXRoZXIgdG8gc2tpcCByZXBsYWNpbmcgdGhlIGVudGlyZSBjb250ZW50IHdpdGggYQogKiBwYXJhZ3JhcGggd2hlbiB0aGUgZW50aXJlIGNvbnRlbnQgd2FzIHNlbGVjdGVkLgogKgogKiBGb3IgZXhhbXBsZSBgPGhlYWRpbmc+W3g8L2hlYWRpbmc+PHBhcmFncmFwaD55XTwvcGFyYWdyYXBoPmAgd2lsbCBiZWNvbWU6CiAqCiAqICogYDxwYXJhZ3JhcGg+XjwvcGFyYWdyYXBoPmAgd2l0aCB0aGUgb3B0aW9uIGRpc2FibGVkIChgZG9Ob3RSZXNldEVudGlyZUNvbnRlbnQgPT0gZmFsc2VgKQogKiAqIGA8aGVhZGluZz5ePC9oZWFkaW5nPmAgd2l0aCBlbmFibGVkIChgZG9Ob3RSZXNldEVudGlyZUNvbnRlbnQgPT0gdHJ1ZWApLgogKgogKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRvTm90QXV0b3BhcmFncmFwaD1mYWxzZV0gV2hldGhlciB0byBjcmVhdGUgYSBwYXJhZ3JhcGggaWYgYWZ0ZXIgY29udGVudCBkZWxldGlvbiBzZWxlY3Rpb24gaXMgbW92ZWQKICogdG8gYSBwbGFjZSB3aGVyZSB0ZXh0IGNhbm5vdCBiZSBpbnNlcnRlZC4KICoKICogRm9yIGV4YW1wbGUgYDxwYXJhZ3JhcGg+eDwvcGFyYWdyYXBoPls8aW1hZ2Ugc3JjPSJmb28uanBnIj48L2ltYWdlPl1gIHdpbGwgYmVjb21lOgogKgogKiAqIGA8cGFyYWdyYXBoPng8L3BhcmFncmFwaD48cGFyYWdyYXBoPltdPC9wYXJhZ3JhcGg+YCB3aXRoIHRoZSBvcHRpb24gZGlzYWJsZWQgKGBkb05vdEF1dG9wYXJhZ3JhcGggPT0gZmFsc2VgKQogKiAqIGA8cGFyYWdyYXBoPng8L3BhcmFncmFwaD5bXWAgd2l0aCB0aGUgb3B0aW9uIGVuYWJsZWQgKGBkb05vdEF1dG9wYXJhZ3JhcGggPT0gdHJ1ZWApLgogKgogKiBJZiB5b3UgdXNlIHRoaXMgb3B0aW9uIHlvdSBuZWVkIHRvIG1ha2Ugc3VyZSB0byBoYW5kbGUgaW52YWxpZCBzZWxlY3Rpb25zIHlvdXJzZWxmIG9yIGxlYXZlCiAqIHRoZW0gdG8gdGhlIHNlbGVjdGlvbiBwb3N0LWZpeGVyIChtYXkgbm90IGFsd2F5cyB3b3JrKS4KICoKICogKipOb3RlOioqIGlmIHRoZXJlIGlzIG5vIHZhbGlkIHBvc2l0aW9uIGZvciB0aGUgc2VsZWN0aW9uLCB0aGUgcGFyYWdyYXBoIHdpbGwgYWx3YXlzIGJlIGNyZWF0ZWQ6CiAqCiAqIGBbPGltYWdlIHNyYz0iZm9vLmpwZyI+PC9pbWFnZT5dYCAtPiBgPHBhcmFncmFwaD5bXTwvcGFyYWdyYXBoPmAuCiAqLwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVsZXRlQ29udGVudChtb2RlbCwgc2VsZWN0aW9uKSB7CiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwoKICBpZiAoc2VsZWN0aW9uLmlzQ29sbGFwc2VkKSB7CiAgICByZXR1cm47CiAgfQoKICB2YXIgc2VsUmFuZ2UgPSBzZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpOyAvLyBJZiB0aGUgc2VsZWN0aW9uIGlzIGFscmVhZHkgcmVtb3ZlZCwgZG9uJ3QgZG8gYW55dGhpbmcuCgogIGlmIChzZWxSYW5nZS5yb290LnJvb3ROYW1lID09ICckZ3JhdmV5YXJkJykgewogICAgcmV0dXJuOwogIH0KCiAgdmFyIHNjaGVtYSA9IG1vZGVsLnNjaGVtYTsKICBtb2RlbC5jaGFuZ2UoZnVuY3Rpb24gKHdyaXRlcikgewogICAgLy8gMS4gUmVwbGFjZSB0aGUgZW50aXJlIGNvbnRlbnQgd2l0aCBwYXJhZ3JhcGguCiAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ja2VkaXRvci9ja2VkaXRvcjUtZW5naW5lL2lzc3Vlcy8xMDEyI2lzc3VlY29tbWVudC0zMTUwMTc1OTQuCiAgICBpZiAoIW9wdGlvbnMuZG9Ob3RSZXNldEVudGlyZUNvbnRlbnQgJiYgc2hvdWxkRW50aXJlQ29udGVudEJlUmVwbGFjZWRXaXRoUGFyYWdyYXBoKHNjaGVtYSwgc2VsZWN0aW9uKSkgewogICAgICByZXBsYWNlRW50aXJlQ29udGVudFdpdGhQYXJhZ3JhcGgod3JpdGVyLCBzZWxlY3Rpb24sIHNjaGVtYSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgc3RhcnRQb3MgPSBzZWxSYW5nZS5zdGFydDsKICAgIHZhciBlbmRQb3MgPSBMaXZlUG9zaXRpb24uZnJvbVBvc2l0aW9uKHNlbFJhbmdlLmVuZCwgJ3RvTmV4dCcpOyAvLyAyLiBSZW1vdmUgdGhlIGNvbnRlbnQgaWYgdGhlcmUgaXMgYW55LgoKICAgIGlmICghc2VsUmFuZ2Uuc3RhcnQuaXNUb3VjaGluZyhzZWxSYW5nZS5lbmQpKSB7CiAgICAgIHdyaXRlci5yZW1vdmUoc2VsUmFuZ2UpOwogICAgfSAvLyAzLiBNZXJnZSBlbGVtZW50cyBpbiB0aGUgcmlnaHQgYnJhbmNoIHRvIHRoZSBlbGVtZW50cyBpbiB0aGUgbGVmdCBicmFuY2guCiAgICAvLyBUaGUgb25seSByZWFzb25hYmxlIChpbiB0ZXJtcyBvZiBkYXRhIGFuZCBzZWxlY3Rpb24gY29ycmVjdG5lc3MpIGNhc2UgaW4gd2hpY2ggd2UgbmVlZCB0byBkbyB0aGF0IGlzOgogICAgLy8KICAgIC8vIDxoZWFkaW5nIHR5cGU9MT5Gb1s8L2hlYWRpbmc+PHBhcmFncmFwaD5dYXI8L3BhcmFncmFwaD4gPT4gPGhlYWRpbmcgdHlwZT0xPkZvXmFyPC9oZWFkaW5nPgogICAgLy8KICAgIC8vIEhvd2V2ZXIsIHRoZSBhbGdvcml0aG0gc3VwcG9ydHMgYWxzbyBtZXJnaW5nIGRlZXBlciBzdHJ1Y3R1cmVzICh1cCB0byB0aGUgZGVwdGggb2YgdGhlIHNoYWxsb3dlciBicmFuY2gpLAogICAgLy8gYXMgaXQncyBoYXJkIHRvIGltYWdpbmUgd2hhdCBzaG91bGQgYWN0dWFsbHkgYmUgdGhlIGRlZmF1bHQgYmVoYXZpb3IuIFVzdWFsbHksIHNwZWNpZmljIGZlYXR1cmVzIHdpbGwKICAgIC8vIHdhbnQgdG8gb3ZlcnJpZGUgdGhhdCBiZWhhdmlvciBhbnl3YXkuCgoKICAgIGlmICghb3B0aW9ucy5sZWF2ZVVubWVyZ2VkKSB7CiAgICAgIG1lcmdlQnJhbmNoZXMod3JpdGVyLCBzdGFydFBvcywgZW5kUG9zKTsgLy8gVE1QIHRoaXMgd2lsbCBiZSByZXBsYWNlZCB3aXRoIGEgcG9zdGZpeGVyLgogICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGFuZCBzdHJpcCBkaXNhbGxvd2VkIGF0dHJpYnV0ZXMgaW4gYWxsIG5lc3RlZCBub2RlcyBiZWNhdXNlIGFmdGVyIG1lcmdlCiAgICAgIC8vIHNvbWUgYXR0cmlidXRlcyBjb3VsZCBlbmQgdXAgaW4gYSBwYXRoIHdoZXJlIGFyZSBkaXNhbGxvd2VkLgogICAgICAvLwogICAgICAvLyBlLmcuIGJvbGQgaXMgZGlzYWxsb3dlZCBmb3IgPEgxPgogICAgICAvLyA8aDE+Rm97bzwvaDE+PHA+Yn1hPGI+cjwvYj48cD4gLT4gPGgxPkZve31hPGI+cjwvYj48aDE+IC0+IDxoMT5Gb3t9YXI8aDE+LgoKICAgICAgc2NoZW1hLnJlbW92ZURpc2FsbG93ZWRBdHRyaWJ1dGVzKHN0YXJ0UG9zLnBhcmVudC5nZXRDaGlsZHJlbigpLCB3cml0ZXIpOwogICAgfQoKICAgIGNvbGxhcHNlU2VsZWN0aW9uQXQod3JpdGVyLCBzZWxlY3Rpb24sIHN0YXJ0UG9zKTsgLy8gNC4gQWRkIGEgcGFyYWdyYXBoIHRvIHNldCBzZWxlY3Rpb24gaW4gaXQuCiAgICAvLyBDaGVjayBpZiBhIHRleHQgaXMgYWxsb3dlZCBpbiB0aGUgbmV3IGNvbnRhaW5lci4gSWYgbm90LCB0cnkgdG8gY3JlYXRlIGEgbmV3IHBhcmFncmFwaCAoaWYgaXQncyBhbGxvd2VkIGhlcmUpLgogICAgLy8gSWYgYXV0b3BhcmFncmFwaGluZyBpcyBvZmYsIHdlIGFzc3VtZSB0aGF0IHlvdSBrbm93IHdoYXQgeW91IGRvIHNvIHdlIGxlYXZlIHRoZSBzZWxlY3Rpb24gd2hlcmV2ZXIgaXQgd2FzLgoKICAgIGlmICghb3B0aW9ucy5kb05vdEF1dG9wYXJhZ3JhcGggJiYgc2hvdWxkQXV0b3BhcmFncmFwaChzY2hlbWEsIHN0YXJ0UG9zKSkgewogICAgICBpbnNlcnRQYXJhZ3JhcGgod3JpdGVyLCBzdGFydFBvcywgc2VsZWN0aW9uKTsKICAgIH0KCiAgICBlbmRQb3MuZGV0YWNoKCk7CiAgfSk7Cn0gLy8gVGhpcyBmdW5jdGlvbiBpcyBhIHJlc3VsdCBvZiByZWFjaGluZyB0aGUgQmFsbG1lcidzIHBlYWsgZm9yIGp1c3QgdGhlIHJpZ2h0IGFtb3VudCBvZiB0aW1lLgovLyBFdmVuIEkgaGFkIHRyb3VibGVzIGRvY3VtZW50aW5nIGl0IGFmdGVyIGEgd2hpbGUgYW5kIGFmdGVyIHJlYWRpbmcgaXQgYWdhaW4gSSBjb3VsZG4ndCBiZWxpZXZlIHRoYXQgaXQgcmVhbGx5IHdvcmtzLgoKZnVuY3Rpb24gbWVyZ2VCcmFuY2hlcyh3cml0ZXIsIHN0YXJ0UG9zLCBlbmRQb3MpIHsKICB2YXIgc3RhcnRQYXJlbnQgPSBzdGFydFBvcy5wYXJlbnQ7CiAgdmFyIGVuZFBhcmVudCA9IGVuZFBvcy5wYXJlbnQ7IC8vIElmIGJvdGggcG9zaXRpb25zIGVuZGVkIHVwIGluIHRoZSBzYW1lIHBhcmVudCwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbW9yZSB0byBtZXJnZToKICAvLyA8JHJvb3Q+PHA+eFtdPC9wPjxwPnt9eTwvcD48LyRyb290PiA9PiA8JHJvb3Q+PHA+eHk8L3A+W117fTwvJHJvb3Q+CgogIGlmIChzdGFydFBhcmVudCA9PSBlbmRQYXJlbnQpIHsKICAgIHJldHVybjsKICB9IC8vIElmIG9uZSBvZiB0aGUgcG9zaXRpb25zIGlzIGEgbGltaXQgZWxlbWVudCwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgdG8gbWVyZ2UgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIGNyb3NzIHRoZSBsaW1pdCBib3VuZGFyaWVzLgoKCiAgaWYgKHdyaXRlci5tb2RlbC5zY2hlbWEuaXNMaW1pdChzdGFydFBhcmVudCkgfHwgd3JpdGVyLm1vZGVsLnNjaGVtYS5pc0xpbWl0KGVuZFBhcmVudCkpIHsKICAgIHJldHVybjsKICB9IC8vIENoZWNrIGlmIG9wZXJhdGlvbnMgd2UnbGwgbmVlZCB0byBkbyB3b24ndCBuZWVkIHRvIGNyb3NzIG9iamVjdCBvciBsaW1pdCBib3VuZGFyaWVzLgogIC8vIEUuZy4sIHdlIGNhbid0IG1lcmdlIGVuZFBhcmVudCBpbnRvIHN0YXJ0UGFyZW50IGluIHRoaXMgY2FzZToKICAvLyA8bGltaXQ+PHN0YXJ0UGFyZW50PnhbXTwvc3RhcnRQYXJlbnQ+PC9saW1pdD48ZW5kUGFyZW50Pnt9PC9lbmRQYXJlbnQ+CgoKICBpZiAoIWNoZWNrQ2FuQmVNZXJnZWQoc3RhcnRQb3MsIGVuZFBvcywgd3JpdGVyLm1vZGVsLnNjaGVtYSkpIHsKICAgIHJldHVybjsKICB9IC8vIFJlbWVtYmVyIG5leHQgcG9zaXRpb25zIHRvIG1lcmdlLiBGb3IgZXhhbXBsZToKICAvLyA8YT48Yj54W108L2I+PC9hPjxjPjxkPnt9eTwvZD48L2M+CiAgLy8gd2lsbCBiZWNvbWU6CiAgLy8gPGE+PGI+eHk8L2I+W108L2E+PGM+e308L2M+CgoKICBzdGFydFBvcyA9IHdyaXRlci5jcmVhdGVQb3NpdGlvbkFmdGVyKHN0YXJ0UGFyZW50KTsKICBlbmRQb3MgPSB3cml0ZXIuY3JlYXRlUG9zaXRpb25CZWZvcmUoZW5kUGFyZW50KTsKCiAgaWYgKCFlbmRQb3MuaXNFcXVhbChzdGFydFBvcykpIHsKICAgIC8vIEluIHRoaXMgY2FzZSwgYmVmb3JlIHdlIG1lcmdlLCB3ZSBuZWVkIHRvIG1vdmUgYGVuZFBhcmVudGAgdG8gdGhlIGBzdGFydFBvc2A6CiAgICAvLyA8YT48Yj54W108L2I+PC9hPjxjPjxkPnt9eTwvZD48L2M+CiAgICAvLyBiZWNvbWVzOgogICAgLy8gPGE+PGI+eDwvYj5bXTxkPnk8L2Q+PC9hPjxjPnt9PC9jPgogICAgd3JpdGVyLmluc2VydChlbmRQYXJlbnQsIHN0YXJ0UG9zKTsKICB9IC8vIE1lcmdlIHR3byBzaWJsaW5nczoKICAvLyA8YT54PC9hPltdPGI+eTwvYj4gLT4gPGE+eHk8L2E+ICh0aGUgdXN1YWwgY2FzZSkKICAvLyA8YT48Yj54PC9iPltdPGQ+eTwvZD48L2E+PGM+PC9jPiAtPiA8YT48Yj54eTwvYj5bXTwvYT48Yz48L2M+ICh0aGlzIGlzIHRoZSAibW92ZSBwYXJlbnQiIGNhc2Ugc2hvd24gYWJvdmUpCgoKICB3cml0ZXIubWVyZ2Uoc3RhcnRQb3MpOyAvLyBSZW1vdmUgZW1wdHkgZW5kIGFuY2VzdG9yczoKICAvLyA8YT5mb1tvPC9hPjxiPjxhPjxjPmJhcl08L2M+PC9hPjwvYj4KICAvLyBiZWNvbWVzOgogIC8vIDxhPmZvW108L2E+PGI+PGE+e308L2E+PC9iPgogIC8vIFNvIHdlIGNhbiByZW1vdmUgPGE+IGFuZCA8Yj4uCgogIHdoaWxlIChlbmRQb3MucGFyZW50LmlzRW1wdHkpIHsKICAgIHZhciBwYXJlbnRUb1JlbW92ZSA9IGVuZFBvcy5wYXJlbnQ7CiAgICBlbmRQb3MgPSB3cml0ZXIuY3JlYXRlUG9zaXRpb25CZWZvcmUocGFyZW50VG9SZW1vdmUpOwogICAgd3JpdGVyLnJlbW92ZShwYXJlbnRUb1JlbW92ZSk7CiAgfSAvLyBDb250aW51ZSBtZXJnaW5nIG5leHQgbGV2ZWwuCgoKICBtZXJnZUJyYW5jaGVzKHdyaXRlciwgc3RhcnRQb3MsIGVuZFBvcyk7Cn0KCmZ1bmN0aW9uIHNob3VsZEF1dG9wYXJhZ3JhcGgoc2NoZW1hLCBwb3NpdGlvbikgewogIHZhciBpc1RleHRBbGxvd2VkID0gc2NoZW1hLmNoZWNrQ2hpbGQocG9zaXRpb24sICckdGV4dCcpOwogIHZhciBpc1BhcmFncmFwaEFsbG93ZWQgPSBzY2hlbWEuY2hlY2tDaGlsZChwb3NpdGlvbiwgJ3BhcmFncmFwaCcpOwogIHJldHVybiAhaXNUZXh0QWxsb3dlZCAmJiBpc1BhcmFncmFwaEFsbG93ZWQ7Cn0gLy8gQ2hlY2sgaWYgcGFyZW50cyBvZiB0d28gcG9zaXRpb25zIGNhbiBiZSBtZXJnZWQgYnkgY2hlY2tpbmcgaWYgdGhlcmUgYXJlIG5vIGxpbWl0L29iamVjdAovLyBib3VuZGFyaWVzIGJldHdlZW4gdGhvc2UgdHdvIHBvc2l0aW9ucy4KLy8KLy8gRS5nLiBpbiA8YlE+PHA+eFtdPC9wPjwvYlE+PHdpZGdldD48Y2FwdGlvbj57fTwvY2FwdGlvbj48L3dpZGdldD4KLy8gd2UnbGwgY2hlY2sgPHA+LCA8YlE+LCA8d2lkZ2V0PiBhbmQgPGNhcHRpb24+LgovLyBVc3VhbGx5LCB3aWRnZXQgYW5kIGNhcHRpb24gYXJlIG1hcmtlZCBhcyBvYmplY3RzL2xpbWl0cyBpbiB0aGUgc2NoZW1hLCBzbyBpbiB0aGlzIGNhc2UgbWVyZ2luZyB3aWxsIGJlIGJsb2NrZWQuCgoKZnVuY3Rpb24gY2hlY2tDYW5CZU1lcmdlZChsZWZ0UG9zLCByaWdodFBvcywgc2NoZW1hKSB7CiAgdmFyIHJhbmdlVG9DaGVjayA9IG5ldyBSYW5nZShsZWZ0UG9zLCByaWdodFBvcyk7CiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlOwogIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHJhbmdlVG9DaGVjay5nZXRXYWxrZXIoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgdmFyIHZhbHVlID0gX3N0ZXAudmFsdWU7CgogICAgICBpZiAoc2NoZW1hLmlzTGltaXQodmFsdWUuaXRlbSkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgIF9pdGVyYXRvckVycm9yID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICB9CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIHRydWU7Cn0KCmZ1bmN0aW9uIGluc2VydFBhcmFncmFwaCh3cml0ZXIsIHBvc2l0aW9uLCBzZWxlY3Rpb24pIHsKICB2YXIgcGFyYWdyYXBoID0gd3JpdGVyLmNyZWF0ZUVsZW1lbnQoJ3BhcmFncmFwaCcpOwogIHdyaXRlci5pbnNlcnQocGFyYWdyYXBoLCBwb3NpdGlvbik7CiAgY29sbGFwc2VTZWxlY3Rpb25BdCh3cml0ZXIsIHNlbGVjdGlvbiwgd3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQocGFyYWdyYXBoLCAwKSk7Cn0KCmZ1bmN0aW9uIHJlcGxhY2VFbnRpcmVDb250ZW50V2l0aFBhcmFncmFwaCh3cml0ZXIsIHNlbGVjdGlvbikgewogIHZhciBsaW1pdEVsZW1lbnQgPSB3cml0ZXIubW9kZWwuc2NoZW1hLmdldExpbWl0RWxlbWVudChzZWxlY3Rpb24pOwogIHdyaXRlci5yZW1vdmUod3JpdGVyLmNyZWF0ZVJhbmdlSW4obGltaXRFbGVtZW50KSk7CiAgaW5zZXJ0UGFyYWdyYXBoKHdyaXRlciwgd3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQobGltaXRFbGVtZW50LCAwKSwgc2VsZWN0aW9uKTsKfSAvLyBXZSB3YW50IHRvIHJlcGxhY2UgdGhlIGVudGlyZSBjb250ZW50IHdpdGggYSBwYXJhZ3JhcGggd2hlbjoKLy8gKiB0aGUgZW50aXJlIGNvbnRlbnQgaXMgc2VsZWN0ZWQsCi8vICogc2VsZWN0aW9uIGNvbnRhaW5zIGF0IGxlYXN0IHR3byBlbGVtZW50cywKLy8gKiB3aGV0aGVyIHRoZSBwYXJhZ3JhcGggaXMgYWxsb3dlZCBpbiBzY2hlbWEgaW4gdGhlIGNvbW1vbiBhbmNlc3Rvci4KCgpmdW5jdGlvbiBzaG91bGRFbnRpcmVDb250ZW50QmVSZXBsYWNlZFdpdGhQYXJhZ3JhcGgoc2NoZW1hLCBzZWxlY3Rpb24pIHsKICB2YXIgbGltaXRFbGVtZW50ID0gc2NoZW1hLmdldExpbWl0RWxlbWVudChzZWxlY3Rpb24pOwoKICBpZiAoIXNlbGVjdGlvbi5jb250YWluc0VudGlyZUNvbnRlbnQobGltaXRFbGVtZW50KSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFyIHJhbmdlID0gc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKTsKCiAgaWYgKHJhbmdlLnN0YXJ0LnBhcmVudCA9PSByYW5nZS5lbmQucGFyZW50KSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICByZXR1cm4gc2NoZW1hLmNoZWNrQ2hpbGQobGltaXRFbGVtZW50LCAncGFyYWdyYXBoJyk7Cn0gLy8gSGVscGVyIGZ1bmN0aW9uIHRoYXQgc2V0cyB0aGUgc2VsZWN0aW9uLiBEZXBlbmRpbmcgd2hldGhlciBnaXZlbiBgc2VsZWN0aW9uYCBpcyBhIGRvY3VtZW50IHNlbGVjdGlvbiBvciBub3QsCi8vIHVzZXMgYSBkaWZmZXJlbnQgbWV0aG9kIHRvIHNldCBpdC4KCgpmdW5jdGlvbiBjb2xsYXBzZVNlbGVjdGlvbkF0KHdyaXRlciwgc2VsZWN0aW9uLCBwb3NpdGlvbk9yUmFuZ2UpIHsKICBpZiAoc2VsZWN0aW9uIGluc3RhbmNlb2YgRG9jdW1lbnRTZWxlY3Rpb24pIHsKICAgIHdyaXRlci5zZXRTZWxlY3Rpb24ocG9zaXRpb25PclJhbmdlKTsKICB9IGVsc2UgewogICAgc2VsZWN0aW9uLnNldFRvKHBvc2l0aW9uT3JSYW5nZSk7CiAgfQp9"},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-engine/src/model/utils/deletecontent.js"],"names":["LivePosition","Range","DocumentSelection","deleteContent","model","selection","options","isCollapsed","selRange","getFirstRange","root","rootName","schema","change","writer","doNotResetEntireContent","shouldEntireContentBeReplacedWithParagraph","replaceEntireContentWithParagraph","startPos","start","endPos","fromPosition","end","isTouching","remove","leaveUnmerged","mergeBranches","removeDisallowedAttributes","parent","getChildren","collapseSelectionAt","doNotAutoparagraph","shouldAutoparagraph","insertParagraph","detach","startParent","endParent","isLimit","checkCanBeMerged","createPositionAfter","createPositionBefore","isEqual","insert","merge","isEmpty","parentToRemove","position","isTextAllowed","checkChild","isParagraphAllowed","leftPos","rightPos","rangeToCheck","getWalker","value","item","paragraph","createElement","createPositionAt","limitElement","getLimitElement","createRangeIn","containsEntireContent","range","positionOrRange","setSelection","setTo"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/utils/deletecontent\n */\n\nimport LivePosition from '../liveposition';\nimport Range from '../range';\nimport DocumentSelection from '../documentselection';\n\n/**\n * Deletes content of the selection and merge siblings. The resulting selection is always collapsed.\n *\n * **Note:** Use {@link module:engine/model/model~Model#deleteContent} instead of this function.\n * This function is only exposed to be reusable in algorithms\n * which change the {@link module:engine/model/model~Model#deleteContent}\n * method's behavior.\n *\n * @param {module:engine/model/model~Model} model The model in context of which the insertion\n * should be performed.\n * @param {module:engine/model/selection~Selection|module:engine/model/documentselection~DocumentSelection} selection\n * Selection of which the content should be deleted.\n * @param {Object} [options]\n * @param {Boolean} [options.leaveUnmerged=false] Whether to merge elements after removing the content of the selection.\n *\n * For example `<heading>x[x</heading><paragraph>y]y</paragraph>` will become:\n *\n * * `<heading>x^y</heading>` with the option disabled (`leaveUnmerged == false`)\n * * `<heading>x^</heading><paragraph>y</paragraph>` with enabled (`leaveUnmerged == true`).\n *\n * Note: {@link module:engine/model/schema~Schema#isObject object} and {@link module:engine/model/schema~Schema#isLimit limit}\n * elements will not be merged.\n *\n * @param {Boolean} [options.doNotResetEntireContent=false] Whether to skip replacing the entire content with a\n * paragraph when the entire content was selected.\n *\n * For example `<heading>[x</heading><paragraph>y]</paragraph>` will become:\n *\n * * `<paragraph>^</paragraph>` with the option disabled (`doNotResetEntireContent == false`)\n * * `<heading>^</heading>` with enabled (`doNotResetEntireContent == true`).\n *\n * @param {Boolean} [options.doNotAutoparagraph=false] Whether to create a paragraph if after content deletion selection is moved\n * to a place where text cannot be inserted.\n *\n * For example `<paragraph>x</paragraph>[<image src=\"foo.jpg\"></image>]` will become:\n *\n * * `<paragraph>x</paragraph><paragraph>[]</paragraph>` with the option disabled (`doNotAutoparagraph == false`)\n * * `<paragraph>x</paragraph>[]` with the option enabled (`doNotAutoparagraph == true`).\n *\n * If you use this option you need to make sure to handle invalid selections yourself or leave\n * them to the selection post-fixer (may not always work).\n *\n * **Note:** if there is no valid position for the selection, the paragraph will always be created:\n *\n * `[<image src=\"foo.jpg\"></image>]` -> `<paragraph>[]</paragraph>`.\n */\nexport default function deleteContent( model, selection, options = {} ) {\n\tif ( selection.isCollapsed ) {\n\t\treturn;\n\t}\n\n\tconst selRange = selection.getFirstRange();\n\n\t// If the selection is already removed, don't do anything.\n\tif ( selRange.root.rootName == '$graveyard' ) {\n\t\treturn;\n\t}\n\n\tconst schema = model.schema;\n\n\tmodel.change( writer => {\n\t\t// 1. Replace the entire content with paragraph.\n\t\t// See: https://github.com/ckeditor/ckeditor5-engine/issues/1012#issuecomment-315017594.\n\t\tif ( !options.doNotResetEntireContent && shouldEntireContentBeReplacedWithParagraph( schema, selection ) ) {\n\t\t\treplaceEntireContentWithParagraph( writer, selection, schema );\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst startPos = selRange.start;\n\t\tconst endPos = LivePosition.fromPosition( selRange.end, 'toNext' );\n\n\t\t// 2. Remove the content if there is any.\n\t\tif ( !selRange.start.isTouching( selRange.end ) ) {\n\t\t\twriter.remove( selRange );\n\t\t}\n\n\t\t// 3. Merge elements in the right branch to the elements in the left branch.\n\t\t// The only reasonable (in terms of data and selection correctness) case in which we need to do that is:\n\t\t//\n\t\t// <heading type=1>Fo[</heading><paragraph>]ar</paragraph> => <heading type=1>Fo^ar</heading>\n\t\t//\n\t\t// However, the algorithm supports also merging deeper structures (up to the depth of the shallower branch),\n\t\t// as it's hard to imagine what should actually be the default behavior. Usually, specific features will\n\t\t// want to override that behavior anyway.\n\t\tif ( !options.leaveUnmerged ) {\n\t\t\tmergeBranches( writer, startPos, endPos );\n\n\t\t\t// TMP this will be replaced with a postfixer.\n\t\t\t// We need to check and strip disallowed attributes in all nested nodes because after merge\n\t\t\t// some attributes could end up in a path where are disallowed.\n\t\t\t//\n\t\t\t// e.g. bold is disallowed for <H1>\n\t\t\t// <h1>Fo{o</h1><p>b}a<b>r</b><p> -> <h1>Fo{}a<b>r</b><h1> -> <h1>Fo{}ar<h1>.\n\t\t\tschema.removeDisallowedAttributes( startPos.parent.getChildren(), writer );\n\t\t}\n\n\t\tcollapseSelectionAt( writer, selection, startPos );\n\n\t\t// 4. Add a paragraph to set selection in it.\n\t\t// Check if a text is allowed in the new container. If not, try to create a new paragraph (if it's allowed here).\n\t\t// If autoparagraphing is off, we assume that you know what you do so we leave the selection wherever it was.\n\t\tif ( !options.doNotAutoparagraph && shouldAutoparagraph( schema, startPos ) ) {\n\t\t\tinsertParagraph( writer, startPos, selection );\n\t\t}\n\n\t\tendPos.detach();\n\t} );\n}\n\n// This function is a result of reaching the Ballmer's peak for just the right amount of time.\n// Even I had troubles documenting it after a while and after reading it again I couldn't believe that it really works.\nfunction mergeBranches( writer, startPos, endPos ) {\n\tconst startParent = startPos.parent;\n\tconst endParent = endPos.parent;\n\n\t// If both positions ended up in the same parent, then there's nothing more to merge:\n\t// <$root><p>x[]</p><p>{}y</p></$root> => <$root><p>xy</p>[]{}</$root>\n\tif ( startParent == endParent ) {\n\t\treturn;\n\t}\n\n\t// If one of the positions is a limit element, then there's nothing to merge because we don't want to cross the limit boundaries.\n\tif ( writer.model.schema.isLimit( startParent ) || writer.model.schema.isLimit( endParent ) ) {\n\t\treturn;\n\t}\n\n\t// Check if operations we'll need to do won't need to cross object or limit boundaries.\n\t// E.g., we can't merge endParent into startParent in this case:\n\t// <limit><startParent>x[]</startParent></limit><endParent>{}</endParent>\n\tif ( !checkCanBeMerged( startPos, endPos, writer.model.schema ) ) {\n\t\treturn;\n\t}\n\n\t// Remember next positions to merge. For example:\n\t// <a><b>x[]</b></a><c><d>{}y</d></c>\n\t// will become:\n\t// <a><b>xy</b>[]</a><c>{}</c>\n\tstartPos = writer.createPositionAfter( startParent );\n\tendPos = writer.createPositionBefore( endParent );\n\n\tif ( !endPos.isEqual( startPos ) ) {\n\t\t// In this case, before we merge, we need to move `endParent` to the `startPos`:\n\t\t// <a><b>x[]</b></a><c><d>{}y</d></c>\n\t\t// becomes:\n\t\t// <a><b>x</b>[]<d>y</d></a><c>{}</c>\n\t\twriter.insert( endParent, startPos );\n\t}\n\n\t// Merge two siblings:\n\t// <a>x</a>[]<b>y</b> -> <a>xy</a> (the usual case)\n\t// <a><b>x</b>[]<d>y</d></a><c></c> -> <a><b>xy</b>[]</a><c></c> (this is the \"move parent\" case shown above)\n\twriter.merge( startPos );\n\n\t// Remove empty end ancestors:\n\t// <a>fo[o</a><b><a><c>bar]</c></a></b>\n\t// becomes:\n\t// <a>fo[]</a><b><a>{}</a></b>\n\t// So we can remove <a> and <b>.\n\twhile ( endPos.parent.isEmpty ) {\n\t\tconst parentToRemove = endPos.parent;\n\n\t\tendPos = writer.createPositionBefore( parentToRemove );\n\n\t\twriter.remove( parentToRemove );\n\t}\n\n\t// Continue merging next level.\n\tmergeBranches( writer, startPos, endPos );\n}\n\nfunction shouldAutoparagraph( schema, position ) {\n\tconst isTextAllowed = schema.checkChild( position, '$text' );\n\tconst isParagraphAllowed = schema.checkChild( position, 'paragraph' );\n\n\treturn !isTextAllowed && isParagraphAllowed;\n}\n\n// Check if parents of two positions can be merged by checking if there are no limit/object\n// boundaries between those two positions.\n//\n// E.g. in <bQ><p>x[]</p></bQ><widget><caption>{}</caption></widget>\n// we'll check <p>, <bQ>, <widget> and <caption>.\n// Usually, widget and caption are marked as objects/limits in the schema, so in this case merging will be blocked.\nfunction checkCanBeMerged( leftPos, rightPos, schema ) {\n\tconst rangeToCheck = new Range( leftPos, rightPos );\n\n\tfor ( const value of rangeToCheck.getWalker() ) {\n\t\tif ( schema.isLimit( value.item ) ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nfunction insertParagraph( writer, position, selection ) {\n\tconst paragraph = writer.createElement( 'paragraph' );\n\n\twriter.insert( paragraph, position );\n\n\tcollapseSelectionAt( writer, selection, writer.createPositionAt( paragraph, 0 ) );\n}\n\nfunction replaceEntireContentWithParagraph( writer, selection ) {\n\tconst limitElement = writer.model.schema.getLimitElement( selection );\n\n\twriter.remove( writer.createRangeIn( limitElement ) );\n\tinsertParagraph( writer, writer.createPositionAt( limitElement, 0 ), selection );\n}\n\n// We want to replace the entire content with a paragraph when:\n// * the entire content is selected,\n// * selection contains at least two elements,\n// * whether the paragraph is allowed in schema in the common ancestor.\nfunction shouldEntireContentBeReplacedWithParagraph( schema, selection ) {\n\tconst limitElement = schema.getLimitElement( selection );\n\n\tif ( !selection.containsEntireContent( limitElement ) ) {\n\t\treturn false;\n\t}\n\n\tconst range = selection.getFirstRange();\n\n\tif ( range.start.parent == range.end.parent ) {\n\t\treturn false;\n\t}\n\n\treturn schema.checkChild( limitElement, 'paragraph' );\n}\n\n// Helper function that sets the selection. Depending whether given `selection` is a document selection or not,\n// uses a different method to set it.\nfunction collapseSelectionAt( writer, selection, positionOrRange ) {\n\tif ( selection instanceof DocumentSelection ) {\n\t\twriter.setSelection( positionOrRange );\n\t} else {\n\t\tselection.setTo( positionOrRange );\n\t}\n}\n"]}]}