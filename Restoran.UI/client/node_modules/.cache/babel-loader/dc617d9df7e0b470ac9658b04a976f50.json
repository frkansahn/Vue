{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-image\\src\\image\\utils.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-image\\src\\image\\utils.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1581760786382},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CgovKioKICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMjAsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kIG9yIGh0dHBzOi8vY2tlZGl0b3IuY29tL2xlZ2FsL2NrZWRpdG9yLW9zcy1saWNlbnNlCiAqLwoKLyoqCiAqIEBtb2R1bGUgaW1hZ2UvaW1hZ2UvdXRpbHMKICovCmltcG9ydCB7IGZpbmRPcHRpbWFsSW5zZXJ0aW9uUG9zaXRpb24sIGlzV2lkZ2V0LCB0b1dpZGdldCB9IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtd2lkZ2V0L3NyYy91dGlscyc7Ci8qKgogKiBDb252ZXJ0cyBhIGdpdmVuIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSB0byBhbiBpbWFnZSB3aWRnZXQ6CiAqICogQWRkcyBhIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50I19zZXRDdXN0b21Qcm9wZXJ0eSBjdXN0b20gcHJvcGVydHl9IGFsbG93aW5nIHRvIHJlY29nbml6ZSB0aGUgaW1hZ2Ugd2lkZ2V0IGVsZW1lbnQuCiAqICogQ2FsbHMgdGhlIHtAbGluayBtb2R1bGU6d2lkZ2V0L3V0aWxzfnRvV2lkZ2V0fSBmdW5jdGlvbiB3aXRoIHRoZSBwcm9wZXIgZWxlbWVudCdzIGxhYmVsIGNyZWF0b3IuCiAqCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2VsZW1lbnR+RWxlbWVudH0gdmlld0VsZW1lbnQKICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZG93bmNhc3R3cml0ZXJ+RG93bmNhc3RXcml0ZXJ9IHdyaXRlciBBbiBpbnN0YW5jZSBvZiB0aGUgdmlldyB3cml0ZXIuCiAqIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBUaGUgZWxlbWVudCdzIGxhYmVsLiBJdCB3aWxsIGJlIGNvbmNhdGVuYXRlZCB3aXRoIHRoZSBpbWFnZSBgYWx0YCBhdHRyaWJ1dGUgaWYgb25lIGlzIHByZXNlbnQuCiAqIEByZXR1cm5zIHttb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fQogKi8KCmV4cG9ydCBmdW5jdGlvbiB0b0ltYWdlV2lkZ2V0KHZpZXdFbGVtZW50LCB3cml0ZXIsIGxhYmVsKSB7CiAgd3JpdGVyLnNldEN1c3RvbVByb3BlcnR5KCdpbWFnZScsIHRydWUsIHZpZXdFbGVtZW50KTsKICByZXR1cm4gdG9XaWRnZXQodmlld0VsZW1lbnQsIHdyaXRlciwgewogICAgbGFiZWw6IGxhYmVsQ3JlYXRvcgogIH0pOwoKICBmdW5jdGlvbiBsYWJlbENyZWF0b3IoKSB7CiAgICB2YXIgaW1nRWxlbWVudCA9IGdldFZpZXdJbWdGcm9tV2lkZ2V0KHZpZXdFbGVtZW50KTsKICAgIHZhciBhbHRUZXh0ID0gaW1nRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2FsdCcpOwogICAgcmV0dXJuIGFsdFRleHQgPyAiIi5jb25jYXQoYWx0VGV4dCwgIiAiKS5jb25jYXQobGFiZWwpIDogbGFiZWw7CiAgfQp9Ci8qKgogKiBDaGVja3MgaWYgYSBnaXZlbiB2aWV3IGVsZW1lbnQgaXMgYW4gaW1hZ2Ugd2lkZ2V0LgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IHZpZXdFbGVtZW50CiAqIEByZXR1cm5zIHtCb29sZWFufQogKi8KCmV4cG9ydCBmdW5jdGlvbiBpc0ltYWdlV2lkZ2V0KHZpZXdFbGVtZW50KSB7CiAgcmV0dXJuICEhdmlld0VsZW1lbnQuZ2V0Q3VzdG9tUHJvcGVydHkoJ2ltYWdlJykgJiYgaXNXaWRnZXQodmlld0VsZW1lbnQpOwp9Ci8qKgogKiBSZXR1cm5zIGFuIGltYWdlIHdpZGdldCBlZGl0aW5nIHZpZXcgZWxlbWVudCBpZiBvbmUgaXMgc2VsZWN0ZWQuCiAqCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L3NlbGVjdGlvbn5TZWxlY3Rpb258bW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50c2VsZWN0aW9ufkRvY3VtZW50U2VsZWN0aW9ufSBzZWxlY3Rpb24KICogQHJldHVybnMge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR8bnVsbH0KICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRJbWFnZVdpZGdldChzZWxlY3Rpb24pIHsKICB2YXIgdmlld0VsZW1lbnQgPSBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7CgogIGlmICh2aWV3RWxlbWVudCAmJiBpc0ltYWdlV2lkZ2V0KHZpZXdFbGVtZW50KSkgewogICAgcmV0dXJuIHZpZXdFbGVtZW50OwogIH0KCiAgcmV0dXJuIG51bGw7Cn0KLyoqCiAqIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgbW9kZWwgZWxlbWVudCBpcyBhbiBgaW1hZ2VgLgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvZWxlbWVudH5FbGVtZW50fSBtb2RlbEVsZW1lbnQKICogQHJldHVybnMge0Jvb2xlYW59CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGlzSW1hZ2UobW9kZWxFbGVtZW50KSB7CiAgcmV0dXJuICEhbW9kZWxFbGVtZW50ICYmIG1vZGVsRWxlbWVudC5pcygnaW1hZ2UnKTsKfQovKioKICogSGFuZGxlcyBpbnNlcnRpbmcgc2luZ2xlIGZpbGUuIFRoaXMgbWV0aG9kIHVuaWZpZXMgaW1hZ2UgaW5zZXJ0aW9uIHVzaW5nIHtAbGluayBtb2R1bGU6d2lkZ2V0L3V0aWxzfmZpbmRPcHRpbWFsSW5zZXJ0aW9uUG9zaXRpb259IG1ldGhvZC4KICoKICoJCW1vZGVsLmNoYW5nZSggd3JpdGVyID0+IHsKICoJCQlpbnNlcnRJbWFnZSggd3JpdGVyLCBtb2RlbCwgeyBzcmM6ICdwYXRoL3RvL2ltYWdlLmpwZycgfSApOwogKgkJfSApOwogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvd3JpdGVyfldyaXRlcn0gd3JpdGVyCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9tb2RlbH5Nb2RlbH0gbW9kZWwKICogQHBhcmFtIHtPYmplY3R9IFthdHRyaWJ1dGVzPXt9XSBBdHRyaWJ1dGVzIG9mIGluc2VydGVkIGltYWdlCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGluc2VydEltYWdlKHdyaXRlciwgbW9kZWwpIHsKICB2YXIgYXR0cmlidXRlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgdmFyIGltYWdlRWxlbWVudCA9IHdyaXRlci5jcmVhdGVFbGVtZW50KCdpbWFnZScsIGF0dHJpYnV0ZXMpOwogIHZhciBpbnNlcnRBdFNlbGVjdGlvbiA9IGZpbmRPcHRpbWFsSW5zZXJ0aW9uUG9zaXRpb24obW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLCBtb2RlbCk7CiAgbW9kZWwuaW5zZXJ0Q29udGVudChpbWFnZUVsZW1lbnQsIGluc2VydEF0U2VsZWN0aW9uKTsgLy8gSW5zZXJ0aW5nIGFuIGltYWdlIG1pZ2h0J3ZlIGZhaWxlZCBkdWUgdG8gc2NoZW1hIHJlZ3VsYXRpb25zLgoKICBpZiAoaW1hZ2VFbGVtZW50LnBhcmVudCkgewogICAgd3JpdGVyLnNldFNlbGVjdGlvbihpbWFnZUVsZW1lbnQsICdvbicpOwogIH0KfQovKioKICogQ2hlY2tzIGlmIGltYWdlIGNhbiBiZSBpbnNlcnRlZCBhdCBjdXJyZW50IG1vZGVsIHNlbGVjdGlvbi4KICoKICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL21vZGVsfk1vZGVsfSBtb2RlbAogKiBAcmV0dXJucyB7Qm9vbGVhbn0KICovCgpleHBvcnQgZnVuY3Rpb24gaXNJbWFnZUFsbG93ZWQobW9kZWwpIHsKICB2YXIgc2NoZW1hID0gbW9kZWwuc2NoZW1hOwogIHZhciBzZWxlY3Rpb24gPSBtb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247CiAgcmV0dXJuIGlzSW1hZ2VBbGxvd2VkSW5QYXJlbnQoc2VsZWN0aW9uLCBzY2hlbWEsIG1vZGVsKSAmJiAhY2hlY2tTZWxlY3Rpb25Pbk9iamVjdChzZWxlY3Rpb24sIHNjaGVtYSkgJiYgaXNJbk90aGVySW1hZ2Uoc2VsZWN0aW9uKTsKfQovKioKICogR2V0IHZpZXcgYDxpbWc+YCBlbGVtZW50IGZyb20gdGhlIHZpZXcgd2lkZ2V0IChgPGZpZ3VyZT5gKS4KICoKICogQXNzdW1pbmcgdGhhdCBpbWFnZSBpcyBhbHdheXMgYSBmaXJzdCBjaGlsZCBvZiBhIHdpZGdldCAoaWUuIGBmaWd1cmVWaWV3LmdldENoaWxkKCAwIClgKSBpcyB1bnNhZmUgYXMgb3RoZXIgZmVhdHVyZXMgbWlnaHQKICogaW5qZWN0IHRoZWlyIG93biBlbGVtZW50cyB0byB0aGUgd2lkZ2V0LgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IGZpZ3VyZVZpZXcKICogQHJldHVybnMge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldFZpZXdJbWdGcm9tV2lkZ2V0KGZpZ3VyZVZpZXcpIHsKICByZXR1cm4gQXJyYXkuZnJvbShmaWd1cmVWaWV3LmdldENoaWxkcmVuKCkpLmZpbmQoZnVuY3Rpb24gKHZpZXdDaGlsZCkgewogICAgcmV0dXJuIHZpZXdDaGlsZC5pcygnaW1nJyk7CiAgfSk7Cn0gLy8gQ2hlY2tzIGlmIGltYWdlIGlzIGFsbG93ZWQgYnkgc2NoZW1hIGluIG9wdGltYWwgaW5zZXJ0aW9uIHBhcmVudC4KLy8KLy8gQHJldHVybnMge0Jvb2xlYW59CgpmdW5jdGlvbiBpc0ltYWdlQWxsb3dlZEluUGFyZW50KHNlbGVjdGlvbiwgc2NoZW1hLCBtb2RlbCkgewogIHZhciBwYXJlbnQgPSBnZXRJbnNlcnRJbWFnZVBhcmVudChzZWxlY3Rpb24sIG1vZGVsKTsKICByZXR1cm4gc2NoZW1hLmNoZWNrQ2hpbGQocGFyZW50LCAnaW1hZ2UnKTsKfSAvLyBDaGVjayBpZiBzZWxlY3Rpb24gaXMgb24gb2JqZWN0LgovLwovLyBAcmV0dXJucyB7Qm9vbGVhbn0KCgpmdW5jdGlvbiBjaGVja1NlbGVjdGlvbk9uT2JqZWN0KHNlbGVjdGlvbiwgc2NoZW1hKSB7CiAgdmFyIHNlbGVjdGVkRWxlbWVudCA9IHNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTsKICByZXR1cm4gc2VsZWN0ZWRFbGVtZW50ICYmIHNjaGVtYS5pc09iamVjdChzZWxlY3RlZEVsZW1lbnQpOwp9IC8vIENoZWNrcyBpZiBzZWxlY3Rpb24gaXMgcGxhY2VkIGluIG90aGVyIGltYWdlIChpZS4gaW4gY2FwdGlvbikuCgoKZnVuY3Rpb24gaXNJbk90aGVySW1hZ2Uoc2VsZWN0aW9uKSB7CiAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShzZWxlY3Rpb24uZm9jdXMuZ2V0QW5jZXN0b3JzKCkpLmV2ZXJ5KGZ1bmN0aW9uIChhbmNlc3RvcikgewogICAgcmV0dXJuICFhbmNlc3Rvci5pcygnaW1hZ2UnKTsKICB9KTsKfSAvLyBSZXR1cm5zIGEgbm9kZSB0aGF0IHdpbGwgYmUgdXNlZCB0byBpbnNlcnQgaW1hZ2Ugd2l0aCBgbW9kZWwuaW5zZXJ0Q29udGVudGAgdG8gY2hlY2sgaWYgaW1hZ2UgY2FuIGJlIHBsYWNlZCB0aGVyZS4KCgpmdW5jdGlvbiBnZXRJbnNlcnRJbWFnZVBhcmVudChzZWxlY3Rpb24sIG1vZGVsKSB7CiAgdmFyIGluc2VydEF0ID0gZmluZE9wdGltYWxJbnNlcnRpb25Qb3NpdGlvbihzZWxlY3Rpb24sIG1vZGVsKTsKICB2YXIgcGFyZW50ID0gaW5zZXJ0QXQucGFyZW50OwoKICBpZiAocGFyZW50LmlzRW1wdHkgJiYgIXBhcmVudC5pcygnJHJvb3QnKSkgewogICAgcmV0dXJuIHBhcmVudC5wYXJlbnQ7CiAgfQoKICByZXR1cm4gcGFyZW50Owp9"},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-image/src/image/utils.js"],"names":["findOptimalInsertionPosition","isWidget","toWidget","toImageWidget","viewElement","writer","label","setCustomProperty","labelCreator","imgElement","getViewImgFromWidget","altText","getAttribute","isImageWidget","getCustomProperty","getSelectedImageWidget","selection","getSelectedElement","isImage","modelElement","is","insertImage","model","attributes","imageElement","createElement","insertAtSelection","document","insertContent","parent","setSelection","isImageAllowed","schema","isImageAllowedInParent","checkSelectionOnObject","isInOtherImage","figureView","Array","from","getChildren","find","viewChild","getInsertImageParent","checkChild","selectedElement","isObject","focus","getAncestors","every","ancestor","insertAt","isEmpty"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module image/image/utils\n */\n\nimport { findOptimalInsertionPosition, isWidget, toWidget } from '@ckeditor/ckeditor5-widget/src/utils';\n\n/**\n * Converts a given {@link module:engine/view/element~Element} to an image widget:\n * * Adds a {@link module:engine/view/element~Element#_setCustomProperty custom property} allowing to recognize the image widget element.\n * * Calls the {@link module:widget/utils~toWidget} function with the proper element's label creator.\n *\n * @param {module:engine/view/element~Element} viewElement\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer An instance of the view writer.\n * @param {String} label The element's label. It will be concatenated with the image `alt` attribute if one is present.\n * @returns {module:engine/view/element~Element}\n */\nexport function toImageWidget( viewElement, writer, label ) {\n\twriter.setCustomProperty( 'image', true, viewElement );\n\n\treturn toWidget( viewElement, writer, { label: labelCreator } );\n\n\tfunction labelCreator() {\n\t\tconst imgElement = getViewImgFromWidget( viewElement );\n\t\tconst altText = imgElement.getAttribute( 'alt' );\n\n\t\treturn altText ? `${ altText } ${ label }` : label;\n\t}\n}\n\n/**\n * Checks if a given view element is an image widget.\n *\n * @param {module:engine/view/element~Element} viewElement\n * @returns {Boolean}\n */\nexport function isImageWidget( viewElement ) {\n\treturn !!viewElement.getCustomProperty( 'image' ) && isWidget( viewElement );\n}\n\n/**\n * Returns an image widget editing view element if one is selected.\n *\n * @param {module:engine/view/selection~Selection|module:engine/view/documentselection~DocumentSelection} selection\n * @returns {module:engine/view/element~Element|null}\n */\nexport function getSelectedImageWidget( selection ) {\n\tconst viewElement = selection.getSelectedElement();\n\n\tif ( viewElement && isImageWidget( viewElement ) ) {\n\t\treturn viewElement;\n\t}\n\n\treturn null;\n}\n\n/**\n * Checks if the provided model element is an `image`.\n *\n * @param {module:engine/model/element~Element} modelElement\n * @returns {Boolean}\n */\nexport function isImage( modelElement ) {\n\treturn !!modelElement && modelElement.is( 'image' );\n}\n\n/**\n * Handles inserting single file. This method unifies image insertion using {@link module:widget/utils~findOptimalInsertionPosition} method.\n *\n *\t\tmodel.change( writer => {\n *\t\t\tinsertImage( writer, model, { src: 'path/to/image.jpg' } );\n *\t\t} );\n *\n * @param {module:engine/model/writer~Writer} writer\n * @param {module:engine/model/model~Model} model\n * @param {Object} [attributes={}] Attributes of inserted image\n */\nexport function insertImage( writer, model, attributes = {} ) {\n\tconst imageElement = writer.createElement( 'image', attributes );\n\n\tconst insertAtSelection = findOptimalInsertionPosition( model.document.selection, model );\n\n\tmodel.insertContent( imageElement, insertAtSelection );\n\n\t// Inserting an image might've failed due to schema regulations.\n\tif ( imageElement.parent ) {\n\t\twriter.setSelection( imageElement, 'on' );\n\t}\n}\n\n/**\n * Checks if image can be inserted at current model selection.\n *\n * @param {module:engine/model/model~Model} model\n * @returns {Boolean}\n */\nexport function isImageAllowed( model ) {\n\tconst schema = model.schema;\n\tconst selection = model.document.selection;\n\n\treturn isImageAllowedInParent( selection, schema, model ) &&\n\t\t!checkSelectionOnObject( selection, schema ) &&\n\t\tisInOtherImage( selection );\n}\n\n/**\n * Get view `<img>` element from the view widget (`<figure>`).\n *\n * Assuming that image is always a first child of a widget (ie. `figureView.getChild( 0 )`) is unsafe as other features might\n * inject their own elements to the widget.\n *\n * @param {module:engine/view/element~Element} figureView\n * @returns {module:engine/view/element~Element}\n */\nexport function getViewImgFromWidget( figureView ) {\n\treturn Array.from( figureView.getChildren() ).find( viewChild => viewChild.is( 'img' ) );\n}\n\n// Checks if image is allowed by schema in optimal insertion parent.\n//\n// @returns {Boolean}\nfunction isImageAllowedInParent( selection, schema, model ) {\n\tconst parent = getInsertImageParent( selection, model );\n\n\treturn schema.checkChild( parent, 'image' );\n}\n\n// Check if selection is on object.\n//\n// @returns {Boolean}\nfunction checkSelectionOnObject( selection, schema ) {\n\tconst selectedElement = selection.getSelectedElement();\n\n\treturn selectedElement && schema.isObject( selectedElement );\n}\n\n// Checks if selection is placed in other image (ie. in caption).\nfunction isInOtherImage( selection ) {\n\treturn [ ...selection.focus.getAncestors() ].every( ancestor => !ancestor.is( 'image' ) );\n}\n\n// Returns a node that will be used to insert image with `model.insertContent` to check if image can be placed there.\nfunction getInsertImageParent( selection, model ) {\n\tconst insertAt = findOptimalInsertionPosition( selection, model );\n\n\tconst parent = insertAt.parent;\n\n\tif ( parent.isEmpty && !parent.is( '$root' ) ) {\n\t\treturn parent.parent;\n\t}\n\n\treturn parent;\n}\n"]}]}