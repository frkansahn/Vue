{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-image\\src\\image\\imageediting.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-image\\src\\image\\imageediting.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1581760786382},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CgovKioKICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMjAsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kIG9yIGh0dHBzOi8vY2tlZGl0b3IuY29tL2xlZ2FsL2NrZWRpdG9yLW9zcy1saWNlbnNlCiAqLwoKLyoqCiAqIEBtb2R1bGUgaW1hZ2UvaW1hZ2UvaW1hZ2VlZGl0aW5nCiAqLwppbXBvcnQgUGx1Z2luIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtY29yZS9zcmMvcGx1Z2luJzsKaW1wb3J0IEltYWdlTG9hZE9ic2VydmVyIGZyb20gJy4vaW1hZ2Vsb2Fkb2JzZXJ2ZXInOwppbXBvcnQgeyB2aWV3RmlndXJlVG9Nb2RlbCwgbW9kZWxUb1ZpZXdBdHRyaWJ1dGVDb252ZXJ0ZXIsIHNyY3NldEF0dHJpYnV0ZUNvbnZlcnRlciB9IGZyb20gJy4vY29udmVydGVycyc7CmltcG9ydCB7IHRvSW1hZ2VXaWRnZXQgfSBmcm9tICcuL3V0aWxzJzsKaW1wb3J0IEltYWdlSW5zZXJ0Q29tbWFuZCBmcm9tICcuL2ltYWdlaW5zZXJ0Y29tbWFuZCc7Ci8qKgogKiBUaGUgaW1hZ2UgZW5naW5lIHBsdWdpbi4KICoKICogSXQgcmVnaXN0ZXJzOgogKgogKiAqIGA8aW1hZ2U+YCBhcyBhIGJsb2NrIGVsZW1lbnQgaW4gdGhlIGRvY3VtZW50IHNjaGVtYSwgYW5kIGFsbG93cyBgYWx0YCwgYHNyY2AgYW5kIGBzcmNzZXRgIGF0dHJpYnV0ZXMuCiAqICogY29udmVydGVycyBmb3IgZWRpdGluZyBhbmQgZGF0YSBwaXBlbGluZXMuCiAqICogYCdpbWFnZUluc2VydCdgIGNvbW1hbmQuCiAqCiAqIEBleHRlbmRzIG1vZHVsZTpjb3JlL3BsdWdpbn5QbHVnaW4KICovCgp2YXIgSW1hZ2VFZGl0aW5nID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1BsdWdpbikgewogIF9pbmhlcml0cyhJbWFnZUVkaXRpbmcsIF9QbHVnaW4pOwoKICBmdW5jdGlvbiBJbWFnZUVkaXRpbmcoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW1hZ2VFZGl0aW5nKTsKCiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEltYWdlRWRpdGluZykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoSW1hZ2VFZGl0aW5nLCBbewogICAga2V5OiAiaW5pdCIsCgogICAgLyoqCiAgICAgKiBAaW5oZXJpdERvYwogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yOwogICAgICB2YXIgc2NoZW1hID0gZWRpdG9yLm1vZGVsLnNjaGVtYTsKICAgICAgdmFyIHQgPSBlZGl0b3IudDsKICAgICAgdmFyIGNvbnZlcnNpb24gPSBlZGl0b3IuY29udmVyc2lvbjsgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ja2VkaXRvci9ja2VkaXRvcjUtaW1hZ2UvaXNzdWVzLzE0Mi4KCiAgICAgIGVkaXRvci5lZGl0aW5nLnZpZXcuYWRkT2JzZXJ2ZXIoSW1hZ2VMb2FkT2JzZXJ2ZXIpOyAvLyBDb25maWd1cmUgc2NoZW1hLgoKICAgICAgc2NoZW1hLnJlZ2lzdGVyKCdpbWFnZScsIHsKICAgICAgICBpc09iamVjdDogdHJ1ZSwKICAgICAgICBpc0Jsb2NrOiB0cnVlLAogICAgICAgIGFsbG93V2hlcmU6ICckYmxvY2snLAogICAgICAgIGFsbG93QXR0cmlidXRlczogWydhbHQnLCAnc3JjJywgJ3NyY3NldCddCiAgICAgIH0pOwogICAgICBjb252ZXJzaW9uLmZvcignZGF0YURvd25jYXN0JykuZWxlbWVudFRvRWxlbWVudCh7CiAgICAgICAgbW9kZWw6ICdpbWFnZScsCiAgICAgICAgdmlldzogZnVuY3Rpb24gdmlldyhtb2RlbEVsZW1lbnQsIHZpZXdXcml0ZXIpIHsKICAgICAgICAgIHJldHVybiBjcmVhdGVJbWFnZVZpZXdFbGVtZW50KHZpZXdXcml0ZXIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGNvbnZlcnNpb24uZm9yKCdlZGl0aW5nRG93bmNhc3QnKS5lbGVtZW50VG9FbGVtZW50KHsKICAgICAgICBtb2RlbDogJ2ltYWdlJywKICAgICAgICB2aWV3OiBmdW5jdGlvbiB2aWV3KG1vZGVsRWxlbWVudCwgdmlld1dyaXRlcikgewogICAgICAgICAgcmV0dXJuIHRvSW1hZ2VXaWRnZXQoY3JlYXRlSW1hZ2VWaWV3RWxlbWVudCh2aWV3V3JpdGVyKSwgdmlld1dyaXRlciwgdCgnaW1hZ2Ugd2lkZ2V0JykpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGNvbnZlcnNpb24uZm9yKCdkb3duY2FzdCcpLmFkZChtb2RlbFRvVmlld0F0dHJpYnV0ZUNvbnZlcnRlcignc3JjJykpLmFkZChtb2RlbFRvVmlld0F0dHJpYnV0ZUNvbnZlcnRlcignYWx0JykpLmFkZChzcmNzZXRBdHRyaWJ1dGVDb252ZXJ0ZXIoKSk7CiAgICAgIGNvbnZlcnNpb24uZm9yKCd1cGNhc3QnKS5lbGVtZW50VG9FbGVtZW50KHsKICAgICAgICB2aWV3OiB7CiAgICAgICAgICBuYW1lOiAnaW1nJywKICAgICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgICAgc3JjOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtb2RlbDogZnVuY3Rpb24gbW9kZWwodmlld0ltYWdlLCBtb2RlbFdyaXRlcikgewogICAgICAgICAgcmV0dXJuIG1vZGVsV3JpdGVyLmNyZWF0ZUVsZW1lbnQoJ2ltYWdlJywgewogICAgICAgICAgICBzcmM6IHZpZXdJbWFnZS5nZXRBdHRyaWJ1dGUoJ3NyYycpCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHsKICAgICAgICB2aWV3OiB7CiAgICAgICAgICBuYW1lOiAnaW1nJywKICAgICAgICAgIGtleTogJ2FsdCcKICAgICAgICB9LAogICAgICAgIG1vZGVsOiAnYWx0JwogICAgICB9KS5hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh7CiAgICAgICAgdmlldzogewogICAgICAgICAgbmFtZTogJ2ltZycsCiAgICAgICAgICBrZXk6ICdzcmNzZXQnCiAgICAgICAgfSwKICAgICAgICBtb2RlbDogewogICAgICAgICAga2V5OiAnc3Jjc2V0JywKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh2aWV3SW1hZ2UpIHsKICAgICAgICAgICAgdmFyIHZhbHVlID0gewogICAgICAgICAgICAgIGRhdGE6IHZpZXdJbWFnZS5nZXRBdHRyaWJ1dGUoJ3NyY3NldCcpCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBpZiAodmlld0ltYWdlLmhhc0F0dHJpYnV0ZSgnd2lkdGgnKSkgewogICAgICAgICAgICAgIHZhbHVlLndpZHRoID0gdmlld0ltYWdlLmdldEF0dHJpYnV0ZSgnd2lkdGgnKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuYWRkKHZpZXdGaWd1cmVUb01vZGVsKCkpOyAvLyBSZWdpc3RlciBpbWFnZVVwbG9hZCBjb21tYW5kLgoKICAgICAgZWRpdG9yLmNvbW1hbmRzLmFkZCgnaW1hZ2VJbnNlcnQnLCBuZXcgSW1hZ2VJbnNlcnRDb21tYW5kKGVkaXRvcikpOwogICAgfQogIH1dLCBbewogICAga2V5OiAicGx1Z2luTmFtZSIsCgogICAgLyoqCiAgICAgKiBAaW5oZXJpdERvYwogICAgICovCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuICdJbWFnZUVkaXRpbmcnOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEltYWdlRWRpdGluZzsKfShQbHVnaW4pOyAvLyBDcmVhdGVzIGEgdmlldyBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgaW1hZ2UuCi8vCi8vCQk8ZmlndXJlIGNsYXNzPSJpbWFnZSI+PGltZz48L2ltZz48L2ZpZ3VyZT4KLy8KLy8gTm90ZSB0aGF0IGBhbHRgIGFuZCBgc3JjYCBhdHRyaWJ1dGVzIGFyZSBjb252ZXJ0ZWQgc2VwYXJhdGVseSwgc28gdGhleSBhcmUgbm90IGluY2x1ZGVkLgovLwovLyBAcHJpdmF0ZQovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9kb3duY2FzdHdyaXRlcn5Eb3duY2FzdFdyaXRlcn0gd3JpdGVyCi8vIEByZXR1cm5zIHttb2R1bGU6ZW5naW5lL3ZpZXcvY29udGFpbmVyZWxlbWVudH5Db250YWluZXJFbGVtZW50fQoKCmV4cG9ydCB7IEltYWdlRWRpdGluZyBhcyBkZWZhdWx0IH07CmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbWFnZVZpZXdFbGVtZW50KHdyaXRlcikgewogIHZhciBlbXB0eUVsZW1lbnQgPSB3cml0ZXIuY3JlYXRlRW1wdHlFbGVtZW50KCdpbWcnKTsKICB2YXIgZmlndXJlID0gd3JpdGVyLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoJ2ZpZ3VyZScsIHsKICAgIGNsYXNzOiAnaW1hZ2UnCiAgfSk7CiAgd3JpdGVyLmluc2VydCh3cml0ZXIuY3JlYXRlUG9zaXRpb25BdChmaWd1cmUsIDApLCBlbXB0eUVsZW1lbnQpOwogIHJldHVybiBmaWd1cmU7Cn0="},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-image/src/image/imageediting.js"],"names":["Plugin","ImageLoadObserver","viewFigureToModel","modelToViewAttributeConverter","srcsetAttributeConverter","toImageWidget","ImageInsertCommand","ImageEditing","editor","schema","model","t","conversion","editing","view","addObserver","register","isObject","isBlock","allowWhere","allowAttributes","for","elementToElement","modelElement","viewWriter","createImageViewElement","add","name","attributes","src","viewImage","modelWriter","createElement","getAttribute","attributeToAttribute","key","value","data","hasAttribute","width","commands","writer","emptyElement","createEmptyElement","figure","createContainerElement","class","insert","createPositionAt"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module image/image/imageediting\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport ImageLoadObserver from './imageloadobserver';\n\nimport {\n\tviewFigureToModel,\n\tmodelToViewAttributeConverter,\n\tsrcsetAttributeConverter\n} from './converters';\n\nimport { toImageWidget } from './utils';\n\nimport ImageInsertCommand from './imageinsertcommand';\n\n/**\n * The image engine plugin.\n *\n * It registers:\n *\n * * `<image>` as a block element in the document schema, and allows `alt`, `src` and `srcset` attributes.\n * * converters for editing and data pipelines.\n * * `'imageInsert'` command.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class ImageEditing extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'ImageEditing';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst schema = editor.model.schema;\n\t\tconst t = editor.t;\n\t\tconst conversion = editor.conversion;\n\n\t\t// See https://github.com/ckeditor/ckeditor5-image/issues/142.\n\t\teditor.editing.view.addObserver( ImageLoadObserver );\n\n\t\t// Configure schema.\n\t\tschema.register( 'image', {\n\t\t\tisObject: true,\n\t\t\tisBlock: true,\n\t\t\tallowWhere: '$block',\n\t\t\tallowAttributes: [ 'alt', 'src', 'srcset' ]\n\t\t} );\n\n\t\tconversion.for( 'dataDowncast' ).elementToElement( {\n\t\t\tmodel: 'image',\n\t\t\tview: ( modelElement, viewWriter ) => createImageViewElement( viewWriter )\n\t\t} );\n\n\t\tconversion.for( 'editingDowncast' ).elementToElement( {\n\t\t\tmodel: 'image',\n\t\t\tview: ( modelElement, viewWriter ) => toImageWidget( createImageViewElement( viewWriter ), viewWriter, t( 'image widget' ) )\n\t\t} );\n\n\t\tconversion.for( 'downcast' )\n\t\t\t.add( modelToViewAttributeConverter( 'src' ) )\n\t\t\t.add( modelToViewAttributeConverter( 'alt' ) )\n\t\t\t.add( srcsetAttributeConverter() );\n\n\t\tconversion.for( 'upcast' )\n\t\t\t.elementToElement( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'img',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tsrc: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmodel: ( viewImage, modelWriter ) => modelWriter.createElement( 'image', { src: viewImage.getAttribute( 'src' ) } )\n\t\t\t} )\n\t\t\t.attributeToAttribute( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'img',\n\t\t\t\t\tkey: 'alt'\n\t\t\t\t},\n\t\t\t\tmodel: 'alt'\n\t\t\t} )\n\t\t\t.attributeToAttribute( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'img',\n\t\t\t\t\tkey: 'srcset'\n\t\t\t\t},\n\t\t\t\tmodel: {\n\t\t\t\t\tkey: 'srcset',\n\t\t\t\t\tvalue: viewImage => {\n\t\t\t\t\t\tconst value = {\n\t\t\t\t\t\t\tdata: viewImage.getAttribute( 'srcset' )\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif ( viewImage.hasAttribute( 'width' ) ) {\n\t\t\t\t\t\t\tvalue.width = viewImage.getAttribute( 'width' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.add( viewFigureToModel() );\n\n\t\t// Register imageUpload command.\n\t\teditor.commands.add( 'imageInsert', new ImageInsertCommand( editor ) );\n\t}\n}\n\n// Creates a view element representing the image.\n//\n//\t\t<figure class=\"image\"><img></img></figure>\n//\n// Note that `alt` and `src` attributes are converted separately, so they are not included.\n//\n// @private\n// @param {module:engine/view/downcastwriter~DowncastWriter} writer\n// @returns {module:engine/view/containerelement~ContainerElement}\nexport function createImageViewElement( writer ) {\n\tconst emptyElement = writer.createEmptyElement( 'img' );\n\tconst figure = writer.createContainerElement( 'figure', { class: 'image' } );\n\n\twriter.insert( writer.createPositionAt( figure, 0 ), emptyElement );\n\n\treturn figure;\n}\n"]}]}