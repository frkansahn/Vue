{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-undo\\src\\basecommand.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-undo\\src\\basecommand.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1581760786382},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy53ZWFrLXNldCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKCi8qKgogKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAyMCwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cHM6Ly9ja2VkaXRvci5jb20vbGVnYWwvY2tlZGl0b3Itb3NzLWxpY2Vuc2UKICovCgovKioKICogQG1vZHVsZSB1bmRvL2Jhc2Vjb21tYW5kCiAqLwppbXBvcnQgQ29tbWFuZCBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LWNvcmUvc3JjL2NvbW1hbmQnOwppbXBvcnQgeyB0cmFuc2Zvcm1TZXRzIH0gZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1lbmdpbmUvc3JjL21vZGVsL29wZXJhdGlvbi90cmFuc2Zvcm0nOwovKioKICogQmFzZSBjbGFzcyBmb3IgdW5kbyBmZWF0dXJlIGNvbW1hbmRzOiB7QGxpbmsgbW9kdWxlOnVuZG8vdW5kb2NvbW1hbmR+VW5kb0NvbW1hbmR9IGFuZCB7QGxpbmsgbW9kdWxlOnVuZG8vcmVkb2NvbW1hbmR+UmVkb0NvbW1hbmR9LgogKgogKiBAcHJvdGVjdGVkCiAqIEBleHRlbmRzIG1vZHVsZTpjb3JlL2NvbW1hbmR+Q29tbWFuZAogKi8KCnZhciBCYXNlQ29tbWFuZCA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9Db21tYW5kKSB7CiAgX2luaGVyaXRzKEJhc2VDb21tYW5kLCBfQ29tbWFuZCk7CgogIGZ1bmN0aW9uIEJhc2VDb21tYW5kKGVkaXRvcikgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlQ29tbWFuZCk7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQmFzZUNvbW1hbmQpLmNhbGwodGhpcywgZWRpdG9yKSk7CiAgICAvKioKICAgICAqIFN0YWNrIG9mIGl0ZW1zIHN0b3JlZCBieSB0aGUgY29tbWFuZC4gVGhlc2UgYXJlIHBhaXJzIG9mOgogICAgICoKICAgICAqICoge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvYmF0Y2h+QmF0Y2ggYmF0Y2h9IHNhdmVkIGJ5IHRoZSBjb21tYW5kLAogICAgICogKiB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9zZWxlY3Rpb25+U2VsZWN0aW9uIHNlbGVjdGlvbn0gc3RhdGUgYXQgdGhlIG1vbWVudCBvZiBzYXZpbmcgdGhlIGJhdGNoLgogICAgICoKICAgICAqIEBwcm90ZWN0ZWQKICAgICAqIEBtZW1iZXIge0FycmF5fSAjX3N0YWNrCiAgICAgKi8KCiAgICBfdGhpcy5fc3RhY2sgPSBbXTsKICAgIC8qKgogICAgICogU3RvcmVzIGFsbCBiYXRjaGVzIHRoYXQgd2VyZSBjcmVhdGVkIGJ5IHRoaXMgY29tbWFuZC4KICAgICAqCiAgICAgKiBAcHJvdGVjdGVkCiAgICAgKiBAbWVtYmVyIHtXZWFrU2V0Ljxtb2R1bGU6ZW5naW5lL21vZGVsL2JhdGNofkJhdGNoPn0gI19jcmVhdGVkQmF0Y2hlcwogICAgICovCgogICAgX3RoaXMuX2NyZWF0ZWRCYXRjaGVzID0gbmV3IFdlYWtTZXQoKTsgLy8gUmVmcmVzaCBzdGF0ZSwgc28gdGhlIGNvbW1hbmQgaXMgaW5hY3RpdmUgcmlnaHQgYWZ0ZXIgaW5pdGlhbGl6YXRpb24uCgogICAgX3RoaXMucmVmcmVzaCgpOwoKICAgIHJldHVybiBfdGhpczsKICB9CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KCgogIF9jcmVhdGVDbGFzcyhCYXNlQ29tbWFuZCwgW3sKICAgIGtleTogInJlZnJlc2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIHRoaXMuaXNFbmFibGVkID0gdGhpcy5fc3RhY2subGVuZ3RoID4gMDsKICAgIH0KICAgIC8qKgogICAgICogU3RvcmVzIGEgYmF0Y2ggaW4gdGhlIGNvbW1hbmQsIHRvZ2V0aGVyIHdpdGggdGhlIHNlbGVjdGlvbiBzdGF0ZSBvZiB0aGUge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnR+RG9jdW1lbnQgZG9jdW1lbnR9CiAgICAgKiBjcmVhdGVkIGJ5IHRoZSBlZGl0b3Igd2hpY2ggdGhpcyBjb21tYW5kIGlzIHJlZ2lzdGVyZWQgdG8uCiAgICAgKgogICAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL2JhdGNofkJhdGNofSBiYXRjaCBUaGUgYmF0Y2ggdG8gYWRkLgogICAgICovCgogIH0sIHsKICAgIGtleTogImFkZEJhdGNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRCYXRjaChiYXRjaCkgewogICAgICB2YXIgZG9jU2VsZWN0aW9uID0gdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uOwogICAgICB2YXIgc2VsZWN0aW9uID0gewogICAgICAgIHJhbmdlczogZG9jU2VsZWN0aW9uLmhhc093blJhbmdlID8gQXJyYXkuZnJvbShkb2NTZWxlY3Rpb24uZ2V0UmFuZ2VzKCkpIDogW10sCiAgICAgICAgaXNCYWNrd2FyZDogZG9jU2VsZWN0aW9uLmlzQmFja3dhcmQKICAgICAgfTsKCiAgICAgIHRoaXMuX3N0YWNrLnB1c2goewogICAgICAgIGJhdGNoOiBiYXRjaCwKICAgICAgICBzZWxlY3Rpb246IHNlbGVjdGlvbgogICAgICB9KTsKCiAgICAgIHRoaXMucmVmcmVzaCgpOwogICAgfQogICAgLyoqCiAgICAgKiBSZW1vdmVzIGFsbCBpdGVtcyBmcm9tIHRoZSBzdGFjay4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjbGVhclN0YWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhclN0YWNrKCkgewogICAgICB0aGlzLl9zdGFjayA9IFtdOwogICAgICB0aGlzLnJlZnJlc2goKTsKICAgIH0KICAgIC8qKgogICAgICogUmVzdG9yZXMgdGhlIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL2RvY3VtZW50fkRvY3VtZW50I3NlbGVjdGlvbiBkb2N1bWVudCBzZWxlY3Rpb259IHN0YXRlIGFmdGVyIGEgYmF0Y2ggd2FzIHVuZG9uZS4KICAgICAqCiAgICAgKiBAcHJvdGVjdGVkCiAgICAgKiBAcGFyYW0ge0FycmF5Ljxtb2R1bGU6ZW5naW5lL21vZGVsL3JhbmdlflJhbmdlPn0gcmFuZ2VzIFJhbmdlcyB0byBiZSByZXN0b3JlZC4KICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNCYWNrd2FyZCBBIGZsYWcgZGVzY3JpYmluZyB3aGV0aGVyIHRoZSByZXN0b3JlZCByYW5nZSB3YXMgc2VsZWN0ZWQgZm9yd2FyZCBvciBiYWNrd2FyZC4KICAgICAqIEBwYXJhbSB7QXJyYXkuPG1vZHVsZTplbmdpbmUvbW9kZWwvb3BlcmF0aW9uL29wZXJhdGlvbn5PcGVyYXRpb24+fSBvcGVyYXRpb25zIE9wZXJhdGlvbnMgd2hpY2ggaGFzIGJlZW4gYXBwbGllZAogICAgICogc2luY2Ugc2VsZWN0aW9uIGhhcyBiZWVuIHN0b3JlZC4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfcmVzdG9yZVNlbGVjdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc3RvcmVTZWxlY3Rpb24ocmFuZ2VzLCBpc0JhY2t3YXJkLCBvcGVyYXRpb25zKSB7CiAgICAgIHZhciBtb2RlbCA9IHRoaXMuZWRpdG9yLm1vZGVsOwogICAgICB2YXIgZG9jdW1lbnQgPSBtb2RlbC5kb2N1bWVudDsgLy8gVGhpcyB3aWxsIGtlZXAgdGhlIHRyYW5zZm9ybWVkIHNlbGVjdGlvbiByYW5nZXMuCgogICAgICB2YXIgc2VsZWN0aW9uUmFuZ2VzID0gW107IC8vIFRyYW5zZm9ybSBhbGwgcmFuZ2VzIGZyb20gdGhlIHJlc3RvcmVkIHNlbGVjdGlvbi4KCiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTsKICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gcmFuZ2VzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkgewogICAgICAgICAgdmFyIHJhbmdlID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB2YXIgdHJhbnNmb3JtZWQgPSB0cmFuc2Zvcm1TZWxlY3Rpb25SYW5nZShyYW5nZSwgb3BlcmF0aW9ucyk7IC8vIEZvciBlYWNoIGByYW5nZWAgZnJvbSBgcmFuZ2VzYCwgd2UgdGFrZSBvbmx5IG9uZSB0cmFuc2Zvcm1lZCByYW5nZS4KICAgICAgICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB3ZSB3YW50IHRvIHByZXZlbnQgc2l0dWF0aW9uIHdoZXJlIHNpbmdsZS1yYW5nZSBzZWxlY3Rpb24KICAgICAgICAgIC8vIGdvdCB0cmFuc2Zvcm1lZCB0byBtdWx0aS1yYW5nZSBzZWxlY3Rpb24uIFdlIHdpbGwgdGFrZSB0aGUgZmlyc3QgcmFuZ2UgdGhhdAogICAgICAgICAgLy8gaXMgbm90IGluIHRoZSBncmF2ZXlhcmQuCgogICAgICAgICAgdmFyIG5ld1JhbmdlID0gdHJhbnNmb3JtZWQuZmluZChmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLnN0YXJ0LnJvb3QgIT0gZG9jdW1lbnQuZ3JhdmV5YXJkOwogICAgICAgICAgfSk7IC8vIGB0cmFuc2Zvcm1lZFJhbmdlYCBtaWdodCBiZSBgdW5kZWZpbmVkYCBpZiB0cmFuc2Zvcm1lZCByYW5nZSBlbmRlZCB1cCBpbiBncmF2ZXlhcmQuCgogICAgICAgICAgaWYgKG5ld1JhbmdlKSB7CiAgICAgICAgICAgIHNlbGVjdGlvblJhbmdlcy5wdXNoKG5ld1JhbmdlKTsKICAgICAgICAgIH0KICAgICAgICB9IC8vIGBzZWxlY3Rpb25SYW5nZXNgIG1heSBiZSBlbXB0eSBpZiBhbGwgcmFuZ2VzIGVuZGVkIHVwIGluIGdyYXZleWFyZC4gSWYgdGhhdCBpcyB0aGUgY2FzZSwgZG8gbm90IHJlc3RvcmUgc2VsZWN0aW9uLgoKICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHNlbGVjdGlvblJhbmdlcy5sZW5ndGgpIHsKICAgICAgICBtb2RlbC5jaGFuZ2UoZnVuY3Rpb24gKHdyaXRlcikgewogICAgICAgICAgd3JpdGVyLnNldFNlbGVjdGlvbihzZWxlY3Rpb25SYW5nZXMsIHsKICAgICAgICAgICAgYmFja3dhcmQ6IGlzQmFja3dhcmQKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIFVuZG9lcyBhIGJhdGNoIGJ5IHJldmVyc2luZyB0aGF0IGJhdGNoLCB0cmFuc2Zvcm1pbmcgcmV2ZXJzZWQgYmF0Y2ggYW5kIGZpbmFsbHkgYXBwbHlpbmcgaXQuCiAgICAgKiBUaGlzIGlzIGEgaGVscGVyIG1ldGhvZCBmb3Ige0BsaW5rICNleGVjdXRlfS4KICAgICAqCiAgICAgKiBAcHJvdGVjdGVkCiAgICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvYmF0Y2h+QmF0Y2h9IGJhdGNoVG9VbmRvIFRoZSBiYXRjaCB0byBiZSB1bmRvbmUuCiAgICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvYmF0Y2h+QmF0Y2h9IHVuZG9pbmdCYXRjaCBUaGUgYmF0Y2ggdGhhdCB3aWxsIGNvbnRhaW4gdW5kb2luZyBjaGFuZ2VzLgogICAgICovCgogIH0sIHsKICAgIGtleTogIl91bmRvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5kbyhiYXRjaFRvVW5kbywgdW5kb2luZ0JhdGNoKSB7CiAgICAgIHZhciBtb2RlbCA9IHRoaXMuZWRpdG9yLm1vZGVsOwogICAgICB2YXIgZG9jdW1lbnQgPSBtb2RlbC5kb2N1bWVudDsgLy8gQWxsIGNoYW5nZXMgZG9uZSBieSB0aGUgY29tbWFuZCBleGVjdXRpb24gd2lsbCBiZSBzYXZlZCBhcyBvbmUgYmF0Y2guCgogICAgICB0aGlzLl9jcmVhdGVkQmF0Y2hlcy5hZGQodW5kb2luZ0JhdGNoKTsKCiAgICAgIHZhciBvcGVyYXRpb25zVG9VbmRvID0gYmF0Y2hUb1VuZG8ub3BlcmF0aW9ucy5zbGljZSgpLmZpbHRlcihmdW5jdGlvbiAob3BlcmF0aW9uKSB7CiAgICAgICAgcmV0dXJuIG9wZXJhdGlvbi5pc0RvY3VtZW50T3BlcmF0aW9uOwogICAgICB9KTsKICAgICAgb3BlcmF0aW9uc1RvVW5kby5yZXZlcnNlKCk7IC8vIFdlIHdpbGwgcHJvY2VzcyBlYWNoIG9wZXJhdGlvbiBmcm9tIGBiYXRjaFRvVW5kb2AsIGluIHJldmVyc2Ugb3JkZXIuIElmIHRoZXJlIHdlcmUgb3BlcmF0aW9ucyBBLCBCIGFuZCBDIGluIHVuZG9uZSBiYXRjaCwKICAgICAgLy8gd2UgbmVlZCB0byByZXZlcnQgdGhlbSBpbiByZXZlcnNlIG9yZGVyLCBzbyBmaXJzdCBDJyAocmV2ZXJzZWQgQyksIHRoZW4gQicsIHRoZW4gQScuCgogICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlOwogICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7CiAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBvcGVyYXRpb25zVG9VbmRvW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7CiAgICAgICAgICB2YXIgb3BlcmF0aW9uVG9VbmRvID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgdmFyIG5leHRCYXNlVmVyc2lvbiA9IG9wZXJhdGlvblRvVW5kby5iYXNlVmVyc2lvbiArIDE7CiAgICAgICAgICB2YXIgaGlzdG9yeU9wZXJhdGlvbnMgPSBBcnJheS5mcm9tKGRvY3VtZW50Lmhpc3RvcnkuZ2V0T3BlcmF0aW9ucyhuZXh0QmFzZVZlcnNpb24pKTsKICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZFNldHMgPSB0cmFuc2Zvcm1TZXRzKFtvcGVyYXRpb25Ub1VuZG8uZ2V0UmV2ZXJzZWQoKV0sIGhpc3RvcnlPcGVyYXRpb25zLCB7CiAgICAgICAgICAgIHVzZVJlbGF0aW9uczogdHJ1ZSwKICAgICAgICAgICAgZG9jdW1lbnQ6IHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LAogICAgICAgICAgICBwYWRXaXRoTm9PcHM6IGZhbHNlLAogICAgICAgICAgICBmb3JjZVdlYWtSZW1vdmU6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIHJldmVyc2VkT3BlcmF0aW9ucyA9IHRyYW5zZm9ybWVkU2V0cy5vcGVyYXRpb25zQTsgLy8gQWZ0ZXIgcmV2ZXJzZWQgb3BlcmF0aW9uIGhhcyBiZWVuIHRyYW5zZm9ybWVkIGJ5IGFsbCBoaXN0b3J5IG9wZXJhdGlvbnMsIGFwcGx5IGl0LgoKICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7CiAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSByZXZlcnNlZE9wZXJhdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHsKICAgICAgICAgICAgICB2YXIgb3BlcmF0aW9uID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgICAgIC8vIEJlZm9yZSBhcHBseWluZywgYWRkIHRoZSBvcGVyYXRpb24gdG8gdGhlIGB1bmRvaW5nQmF0Y2hgLgogICAgICAgICAgICAgIHVuZG9pbmdCYXRjaC5hZGRPcGVyYXRpb24ob3BlcmF0aW9uKTsKICAgICAgICAgICAgICBtb2RlbC5hcHBseU9wZXJhdGlvbihvcGVyYXRpb24pOwogICAgICAgICAgICAgIGRvY3VtZW50Lmhpc3Rvcnkuc2V0T3BlcmF0aW9uQXNVbmRvbmUob3BlcmF0aW9uVG9VbmRvLCBvcGVyYXRpb24pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTsKICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHsKICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7CiAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTsKICAgICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikgewogICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQmFzZUNvbW1hbmQ7Cn0oQ29tbWFuZCk7IC8vIFRyYW5zZm9ybXMgZ2l2ZW4gcmFuZ2UgYHJhbmdlYCBieSBnaXZlbiBgb3BlcmF0aW9uc2AuCi8vIFJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBvbmUgb3IgbW9yZSByYW5nZXMsIHdoaWNoIGFyZSByZXN1bHQgb2YgdGhlIHRyYW5zZm9ybWF0aW9uLgoKCmV4cG9ydCB7IEJhc2VDb21tYW5kIGFzIGRlZmF1bHQgfTsKCmZ1bmN0aW9uIHRyYW5zZm9ybVNlbGVjdGlvblJhbmdlKHJhbmdlLCBvcGVyYXRpb25zKSB7CiAgdmFyIHRyYW5zZm9ybWVkID0gcmFuZ2UuZ2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbnMob3BlcmF0aW9ucyk7IC8vIEFmdGVyIGByYW5nZWAgZ290IHRyYW5zZm9ybWVkLCB3ZSBoYXZlIGFuIGFycmF5IG9mIHJhbmdlcy4gU29tZSBvZiB0aG9zZQogIC8vIHJhbmdlcyBtYXkgYmUgInRvdWNoaW5nIiAtLSB0aGV5IGNhbiBiZSBuZXh0IHRvIGVhY2ggb3RoZXIgYW5kIGNvdWxkIGJlIG1lcmdlZC4KICAvLyBGaXJzdCwgd2UgaGF2ZSB0byBzb3J0IHRob3NlIHJhbmdlcyB0byBhc3N1cmUgdGhhdCB0aGV5IGFyZSBpbiBvcmRlci4KCiAgdHJhbnNmb3JtZWQuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgcmV0dXJuIGEuc3RhcnQuaXNCZWZvcmUoYi5zdGFydCkgPyAtMSA6IDE7CiAgfSk7IC8vIFRoZW4sIHdlIGNoZWNrIGlmIHR3byBjb25zZWN1dGl2ZSByYW5nZXMgYXJlIHRvdWNoaW5nLgoKICBmb3IgKHZhciBpID0gMTsgaSA8IHRyYW5zZm9ybWVkLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgYSA9IHRyYW5zZm9ybWVkW2kgLSAxXTsKICAgIHZhciBiID0gdHJhbnNmb3JtZWRbaV07CgogICAgaWYgKGEuZW5kLmlzVG91Y2hpbmcoYi5zdGFydCkpIHsKICAgICAgLy8gQW5kIGpvaW4gdGhlbSB0b2dldGhlciBpZiB0aGV5IGFyZS4KICAgICAgYS5lbmQgPSBiLmVuZDsKICAgICAgdHJhbnNmb3JtZWQuc3BsaWNlKGksIDEpOwogICAgICBpLS07CiAgICB9CiAgfQoKICByZXR1cm4gdHJhbnNmb3JtZWQ7Cn0="},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-undo/src/basecommand.js"],"names":["Command","transformSets","BaseCommand","editor","_stack","_createdBatches","WeakSet","refresh","isEnabled","length","batch","docSelection","model","document","selection","ranges","hasOwnRange","Array","from","getRanges","isBackward","push","operations","selectionRanges","range","transformed","transformSelectionRange","newRange","find","start","root","graveyard","change","writer","setSelection","backward","batchToUndo","undoingBatch","add","operationsToUndo","slice","filter","operation","isDocumentOperation","reverse","operationToUndo","nextBaseVersion","baseVersion","historyOperations","history","getOperations","transformedSets","getReversed","useRelations","padWithNoOps","forceWeakRemove","reversedOperations","operationsA","addOperation","applyOperation","setOperationAsUndone","getTransformedByOperations","sort","a","b","isBefore","i","end","isTouching","splice"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module undo/basecommand\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command';\nimport { transformSets } from '@ckeditor/ckeditor5-engine/src/model/operation/transform';\n\n/**\n * Base class for undo feature commands: {@link module:undo/undocommand~UndoCommand} and {@link module:undo/redocommand~RedoCommand}.\n *\n * @protected\n * @extends module:core/command~Command\n */\nexport default class BaseCommand extends Command {\n\tconstructor( editor ) {\n\t\tsuper( editor );\n\n\t\t/**\n\t\t * Stack of items stored by the command. These are pairs of:\n\t\t *\n\t\t * * {@link module:engine/model/batch~Batch batch} saved by the command,\n\t\t * * {@link module:engine/model/selection~Selection selection} state at the moment of saving the batch.\n\t\t *\n\t\t * @protected\n\t\t * @member {Array} #_stack\n\t\t */\n\t\tthis._stack = [];\n\n\t\t/**\n\t\t * Stores all batches that were created by this command.\n\t\t *\n\t\t * @protected\n\t\t * @member {WeakSet.<module:engine/model/batch~Batch>} #_createdBatches\n\t\t */\n\t\tthis._createdBatches = new WeakSet();\n\n\t\t// Refresh state, so the command is inactive right after initialization.\n\t\tthis.refresh();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trefresh() {\n\t\tthis.isEnabled = this._stack.length > 0;\n\t}\n\n\t/**\n\t * Stores a batch in the command, together with the selection state of the {@link module:engine/model/document~Document document}\n\t * created by the editor which this command is registered to.\n\t *\n\t * @param {module:engine/model/batch~Batch} batch The batch to add.\n\t */\n\taddBatch( batch ) {\n\t\tconst docSelection = this.editor.model.document.selection;\n\n\t\tconst selection = {\n\t\t\tranges: docSelection.hasOwnRange ? Array.from( docSelection.getRanges() ) : [],\n\t\t\tisBackward: docSelection.isBackward\n\t\t};\n\n\t\tthis._stack.push( { batch, selection } );\n\t\tthis.refresh();\n\t}\n\n\t/**\n\t * Removes all items from the stack.\n\t */\n\tclearStack() {\n\t\tthis._stack = [];\n\t\tthis.refresh();\n\t}\n\n\t/**\n\t * Restores the {@link module:engine/model/document~Document#selection document selection} state after a batch was undone.\n\t *\n\t * @protected\n\t * @param {Array.<module:engine/model/range~Range>} ranges Ranges to be restored.\n\t * @param {Boolean} isBackward A flag describing whether the restored range was selected forward or backward.\n\t * @param {Array.<module:engine/model/operation/operation~Operation>} operations Operations which has been applied\n\t * since selection has been stored.\n\t */\n\t_restoreSelection( ranges, isBackward, operations ) {\n\t\tconst model = this.editor.model;\n\t\tconst document = model.document;\n\n\t\t// This will keep the transformed selection ranges.\n\t\tconst selectionRanges = [];\n\n\t\t// Transform all ranges from the restored selection.\n\t\tfor ( const range of ranges ) {\n\t\t\tconst transformed = transformSelectionRange( range, operations );\n\n\t\t\t// For each `range` from `ranges`, we take only one transformed range.\n\t\t\t// This is because we want to prevent situation where single-range selection\n\t\t\t// got transformed to multi-range selection. We will take the first range that\n\t\t\t// is not in the graveyard.\n\t\t\tconst newRange = transformed.find(\n\t\t\t\trange => range.start.root != document.graveyard\n\t\t\t);\n\n\t\t\t// `transformedRange` might be `undefined` if transformed range ended up in graveyard.\n\t\t\tif ( newRange ) {\n\t\t\t\tselectionRanges.push( newRange );\n\t\t\t}\n\t\t}\n\n\t\t// `selectionRanges` may be empty if all ranges ended up in graveyard. If that is the case, do not restore selection.\n\t\tif ( selectionRanges.length ) {\n\t\t\tmodel.change( writer => {\n\t\t\t\twriter.setSelection( selectionRanges, { backward: isBackward } );\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Undoes a batch by reversing that batch, transforming reversed batch and finally applying it.\n\t * This is a helper method for {@link #execute}.\n\t *\n\t * @protected\n\t * @param {module:engine/model/batch~Batch} batchToUndo The batch to be undone.\n\t * @param {module:engine/model/batch~Batch} undoingBatch The batch that will contain undoing changes.\n\t */\n\t_undo( batchToUndo, undoingBatch ) {\n\t\tconst model = this.editor.model;\n\t\tconst document = model.document;\n\n\t\t// All changes done by the command execution will be saved as one batch.\n\t\tthis._createdBatches.add( undoingBatch );\n\n\t\tconst operationsToUndo = batchToUndo.operations.slice().filter( operation => operation.isDocumentOperation );\n\t\toperationsToUndo.reverse();\n\n\t\t// We will process each operation from `batchToUndo`, in reverse order. If there were operations A, B and C in undone batch,\n\t\t// we need to revert them in reverse order, so first C' (reversed C), then B', then A'.\n\t\tfor ( const operationToUndo of operationsToUndo ) {\n\t\t\tconst nextBaseVersion = operationToUndo.baseVersion + 1;\n\t\t\tconst historyOperations = Array.from( document.history.getOperations( nextBaseVersion ) );\n\n\t\t\tconst transformedSets = transformSets(\n\t\t\t\t[ operationToUndo.getReversed() ],\n\t\t\t\thistoryOperations,\n\t\t\t\t{\n\t\t\t\t\tuseRelations: true,\n\t\t\t\t\tdocument: this.editor.model.document,\n\t\t\t\t\tpadWithNoOps: false,\n\t\t\t\t\tforceWeakRemove: true\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst reversedOperations = transformedSets.operationsA;\n\n\t\t\t// After reversed operation has been transformed by all history operations, apply it.\n\t\t\tfor ( const operation of reversedOperations ) {\n\t\t\t\t// Before applying, add the operation to the `undoingBatch`.\n\t\t\t\tundoingBatch.addOperation( operation );\n\t\t\t\tmodel.applyOperation( operation );\n\n\t\t\t\tdocument.history.setOperationAsUndone( operationToUndo, operation );\n\t\t\t}\n\t\t}\n\t}\n}\n\n// Transforms given range `range` by given `operations`.\n// Returns an array containing one or more ranges, which are result of the transformation.\nfunction transformSelectionRange( range, operations ) {\n\tconst transformed = range.getTransformedByOperations( operations );\n\n\t// After `range` got transformed, we have an array of ranges. Some of those\n\t// ranges may be \"touching\" -- they can be next to each other and could be merged.\n\t// First, we have to sort those ranges to assure that they are in order.\n\ttransformed.sort( ( a, b ) => a.start.isBefore( b.start ) ? -1 : 1 );\n\n\t// Then, we check if two consecutive ranges are touching.\n\tfor ( let i = 1; i < transformed.length; i++ ) {\n\t\tconst a = transformed[ i - 1 ];\n\t\tconst b = transformed[ i ];\n\n\t\tif ( a.end.isTouching( b.start ) ) {\n\t\t\t// And join them together if they are.\n\t\t\ta.end = b.end;\n\t\t\ttransformed.splice( i, 1 );\n\t\t\ti--;\n\t\t}\n\t}\n\n\treturn transformed;\n}\n"]}]}