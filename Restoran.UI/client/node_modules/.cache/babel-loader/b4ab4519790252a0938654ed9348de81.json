{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-typing\\src\\delete.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-typing\\src\\delete.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1581760786382},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKCi8qKgogKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAyMCwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cHM6Ly9ja2VkaXRvci5jb20vbGVnYWwvY2tlZGl0b3Itb3NzLWxpY2Vuc2UKICovCgovKioKICogQG1vZHVsZSB0eXBpbmcvZGVsZXRlCiAqLwppbXBvcnQgUGx1Z2luIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtY29yZS9zcmMvcGx1Z2luJzsKaW1wb3J0IERlbGV0ZUNvbW1hbmQgZnJvbSAnLi9kZWxldGVjb21tYW5kJzsKaW1wb3J0IERlbGV0ZU9ic2VydmVyIGZyb20gJy4vZGVsZXRlb2JzZXJ2ZXInOwppbXBvcnQgZW52IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL2Vudic7Ci8qKgogKiBUaGUgZGVsZXRlIGFuZCBiYWNrc3BhY2UgZmVhdHVyZS4gSGFuZGxlcyB0aGUgPGtiZD5EZWxldGU8L2tiZD4gYW5kIDxrYmQ+QmFja3NwYWNlPC9rYmQ+IGtleXMgaW4gdGhlIGVkaXRvci4KICoKICogQGV4dGVuZHMgbW9kdWxlOmNvcmUvcGx1Z2luflBsdWdpbgogKi8KCnZhciBEZWxldGUgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfUGx1Z2luKSB7CiAgX2luaGVyaXRzKERlbGV0ZSwgX1BsdWdpbik7CgogIGZ1bmN0aW9uIERlbGV0ZSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEZWxldGUpOwoKICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoRGVsZXRlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICB9CgogIF9jcmVhdGVDbGFzcyhEZWxldGUsIFt7CiAgICBrZXk6ICJpbml0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7CiAgICAgIHZhciB2aWV3ID0gZWRpdG9yLmVkaXRpbmcudmlldzsKICAgICAgdmFyIHZpZXdEb2N1bWVudCA9IHZpZXcuZG9jdW1lbnQ7CiAgICAgIHZpZXcuYWRkT2JzZXJ2ZXIoRGVsZXRlT2JzZXJ2ZXIpOwogICAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdmb3J3YXJkRGVsZXRlJywgbmV3IERlbGV0ZUNvbW1hbmQoZWRpdG9yLCAnZm9yd2FyZCcpKTsKICAgICAgZWRpdG9yLmNvbW1hbmRzLmFkZCgnZGVsZXRlJywgbmV3IERlbGV0ZUNvbW1hbmQoZWRpdG9yLCAnYmFja3dhcmQnKSk7CiAgICAgIHRoaXMubGlzdGVuVG8odmlld0RvY3VtZW50LCAnZGVsZXRlJywgZnVuY3Rpb24gKGV2dCwgZGF0YSkgewogICAgICAgIHZhciBkZWxldGVDb21tYW5kUGFyYW1zID0gewogICAgICAgICAgdW5pdDogZGF0YS51bml0LAogICAgICAgICAgc2VxdWVuY2U6IGRhdGEuc2VxdWVuY2UKICAgICAgICB9OyAvLyBJZiBhIHNwZWNpZmljICh2aWV3KSBzZWxlY3Rpb24gdG8gcmVtb3ZlIHdhcyBzZXQsIGNvbnZlcnQgaXQgdG8gYSBtb2RlbCBzZWxlY3Rpb24gYW5kIHNldCBhcyBhIHBhcmFtZXRlciBmb3IgYERlbGV0ZUNvbW1hbmRgLgoKICAgICAgICBpZiAoZGF0YS5zZWxlY3Rpb25Ub1JlbW92ZSkgewogICAgICAgICAgdmFyIG1vZGVsU2VsZWN0aW9uID0gZWRpdG9yLm1vZGVsLmNyZWF0ZVNlbGVjdGlvbigpOwogICAgICAgICAgdmFyIHJhbmdlcyA9IFtdOwogICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZGF0YS5zZWxlY3Rpb25Ub1JlbW92ZS5nZXRSYW5nZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgICAgICAgICB2YXIgdmlld1JhbmdlID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goZWRpdG9yLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxSYW5nZSh2aWV3UmFuZ2UpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTsKICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBtb2RlbFNlbGVjdGlvbi5zZXRUbyhyYW5nZXMpOwogICAgICAgICAgZGVsZXRlQ29tbWFuZFBhcmFtcy5zZWxlY3Rpb24gPSBtb2RlbFNlbGVjdGlvbjsKICAgICAgICB9CgogICAgICAgIGVkaXRvci5leGVjdXRlKGRhdGEuZGlyZWN0aW9uID09ICdmb3J3YXJkJyA/ICdmb3J3YXJkRGVsZXRlJyA6ICdkZWxldGUnLCBkZWxldGVDb21tYW5kUGFyYW1zKTsKICAgICAgICBkYXRhLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmlldy5zY3JvbGxUb1RoZVNlbGVjdGlvbigpOwogICAgICB9KTsgLy8gQW5kcm9pZCBJTUVzIGhhdmUgYSBxdWlyayAtIHRoZXkgY2hhbmdlIERPTSBzZWxlY3Rpb24gYWZ0ZXIgdGhlIGlucHV0IGNoYW5nZXMgd2VyZSBwZXJmb3JtZWQgYnkgdGhlIGJyb3dzZXIuCiAgICAgIC8vIFRoaXMgaGFwcGVucyBvbiBga2V5dXBgIGV2ZW50LiBBbmRyb2lkIGRvZXNuJ3Qga25vdyBhbnl0aGluZyBhYm91dCBvdXIgZGVsZXRpb24gYW5kIHNlbGVjdGlvbiBoYW5kbGluZy4gRXZlbiBpZiB0aGUgc2VsZWN0aW9uCiAgICAgIC8vIHdhcyBjaGFuZ2VkIGR1cmluZyBpbnB1dCBldmVudHMsIElNRSByZW1lbWJlcnMgdGhlIHBvc2l0aW9uIHdoZXJlIHRoZSBzZWxlY3Rpb24gInNob3VsZCIgYmUgcGxhY2VkIGFuZCBtb3ZlcyBpdCB0aGVyZS4KICAgICAgLy8KICAgICAgLy8gVG8gcHJldmVudCBpbmNvcnJlY3Qgc2VsZWN0aW9uLCB3ZSBzYXZlIHRoZSBzZWxlY3Rpb24gYWZ0ZXIgZGVsZXRpbmcgaGVyZSBhbmQgdGhlbiByZS1zZXQgaXQgb24gYGtleXVwYC4gVGhpcyBoYXMgdG8gYmUgZG9uZQogICAgICAvLyBvbiBET00gc2VsZWN0aW9uIGxldmVsLCBiZWNhdXNlIG9uIGBrZXl1cGAgdGhlIG1vZGVsIHNlbGVjdGlvbiBpcyBzdGlsbCB0aGUgc2FtZSBhcyBpdCB3YXMganVzdCBhZnRlciBkZWxldGlvbiwgc28gaXQKICAgICAgLy8gd291bGRuJ3QgYmUgY2hhbmdlZCBhbmQgdGhlIGZpeCB3b3VsZCBkbyBub3RoaW5nLgogICAgICAvLwoKICAgICAgaWYgKGVudi5pc0FuZHJvaWQpIHsKICAgICAgICB2YXIgZG9tU2VsZWN0aW9uQWZ0ZXJEZWxldGlvbiA9IG51bGw7CiAgICAgICAgdGhpcy5saXN0ZW5Ubyh2aWV3RG9jdW1lbnQsICdkZWxldGUnLCBmdW5jdGlvbiAoZXZ0LCBkYXRhKSB7CiAgICAgICAgICB2YXIgZG9tU2VsZWN0aW9uID0gZGF0YS5kb21UYXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTsKICAgICAgICAgIGRvbVNlbGVjdGlvbkFmdGVyRGVsZXRpb24gPSB7CiAgICAgICAgICAgIGFuY2hvck5vZGU6IGRvbVNlbGVjdGlvbi5hbmNob3JOb2RlLAogICAgICAgICAgICBhbmNob3JPZmZzZXQ6IGRvbVNlbGVjdGlvbi5hbmNob3JPZmZzZXQsCiAgICAgICAgICAgIGZvY3VzTm9kZTogZG9tU2VsZWN0aW9uLmZvY3VzTm9kZSwKICAgICAgICAgICAgZm9jdXNPZmZzZXQ6IGRvbVNlbGVjdGlvbi5mb2N1c09mZnNldAogICAgICAgICAgfTsKICAgICAgICB9LCB7CiAgICAgICAgICBwcmlvcml0eTogJ2xvd2VzdCcKICAgICAgICB9KTsKICAgICAgICB0aGlzLmxpc3RlblRvKHZpZXdEb2N1bWVudCwgJ2tleXVwJywgZnVuY3Rpb24gKGV2dCwgZGF0YSkgewogICAgICAgICAgaWYgKGRvbVNlbGVjdGlvbkFmdGVyRGVsZXRpb24pIHsKICAgICAgICAgICAgdmFyIGRvbVNlbGVjdGlvbiA9IGRhdGEuZG9tVGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCk7CiAgICAgICAgICAgIGRvbVNlbGVjdGlvbi5jb2xsYXBzZShkb21TZWxlY3Rpb25BZnRlckRlbGV0aW9uLmFuY2hvck5vZGUsIGRvbVNlbGVjdGlvbkFmdGVyRGVsZXRpb24uYW5jaG9yT2Zmc2V0KTsKICAgICAgICAgICAgZG9tU2VsZWN0aW9uLmV4dGVuZChkb21TZWxlY3Rpb25BZnRlckRlbGV0aW9uLmZvY3VzTm9kZSwgZG9tU2VsZWN0aW9uQWZ0ZXJEZWxldGlvbi5mb2N1c09mZnNldCk7CiAgICAgICAgICAgIGRvbVNlbGVjdGlvbkFmdGVyRGVsZXRpb24gPSBudWxsOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJwbHVnaW5OYW1lIiwKCiAgICAvKioKICAgICAqIEBpbmhlcml0RG9jCiAgICAgKi8KICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gJ0RlbGV0ZSc7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRGVsZXRlOwp9KFBsdWdpbik7CgpleHBvcnQgeyBEZWxldGUgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-typing/src/delete.js"],"names":["Plugin","DeleteCommand","DeleteObserver","env","Delete","editor","view","editing","viewDocument","document","addObserver","commands","add","listenTo","evt","data","deleteCommandParams","unit","sequence","selectionToRemove","modelSelection","model","createSelection","ranges","getRanges","viewRange","push","mapper","toModelRange","setTo","selection","execute","direction","preventDefault","scrollToTheSelection","isAndroid","domSelectionAfterDeletion","domSelection","domTarget","ownerDocument","defaultView","getSelection","anchorNode","anchorOffset","focusNode","focusOffset","priority","collapse","extend"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module typing/delete\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport DeleteCommand from './deletecommand';\nimport DeleteObserver from './deleteobserver';\nimport env from '@ckeditor/ckeditor5-utils/src/env';\n\n/**\n * The delete and backspace feature. Handles the <kbd>Delete</kbd> and <kbd>Backspace</kbd> keys in the editor.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class Delete extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'Delete';\n\t}\n\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst view = editor.editing.view;\n\t\tconst viewDocument = view.document;\n\n\t\tview.addObserver( DeleteObserver );\n\n\t\teditor.commands.add( 'forwardDelete', new DeleteCommand( editor, 'forward' ) );\n\t\teditor.commands.add( 'delete', new DeleteCommand( editor, 'backward' ) );\n\n\t\tthis.listenTo( viewDocument, 'delete', ( evt, data ) => {\n\t\t\tconst deleteCommandParams = { unit: data.unit, sequence: data.sequence };\n\n\t\t\t// If a specific (view) selection to remove was set, convert it to a model selection and set as a parameter for `DeleteCommand`.\n\t\t\tif ( data.selectionToRemove ) {\n\t\t\t\tconst modelSelection = editor.model.createSelection();\n\t\t\t\tconst ranges = [];\n\n\t\t\t\tfor ( const viewRange of data.selectionToRemove.getRanges() ) {\n\t\t\t\t\tranges.push( editor.editing.mapper.toModelRange( viewRange ) );\n\t\t\t\t}\n\n\t\t\t\tmodelSelection.setTo( ranges );\n\n\t\t\t\tdeleteCommandParams.selection = modelSelection;\n\t\t\t}\n\n\t\t\teditor.execute( data.direction == 'forward' ? 'forwardDelete' : 'delete', deleteCommandParams );\n\n\t\t\tdata.preventDefault();\n\n\t\t\tview.scrollToTheSelection();\n\t\t} );\n\n\t\t// Android IMEs have a quirk - they change DOM selection after the input changes were performed by the browser.\n\t\t// This happens on `keyup` event. Android doesn't know anything about our deletion and selection handling. Even if the selection\n\t\t// was changed during input events, IME remembers the position where the selection \"should\" be placed and moves it there.\n\t\t//\n\t\t// To prevent incorrect selection, we save the selection after deleting here and then re-set it on `keyup`. This has to be done\n\t\t// on DOM selection level, because on `keyup` the model selection is still the same as it was just after deletion, so it\n\t\t// wouldn't be changed and the fix would do nothing.\n\t\t//\n\t\tif ( env.isAndroid ) {\n\t\t\tlet domSelectionAfterDeletion = null;\n\n\t\t\tthis.listenTo( viewDocument, 'delete', ( evt, data ) => {\n\t\t\t\tconst domSelection = data.domTarget.ownerDocument.defaultView.getSelection();\n\n\t\t\t\tdomSelectionAfterDeletion = {\n\t\t\t\t\tanchorNode: domSelection.anchorNode,\n\t\t\t\t\tanchorOffset: domSelection.anchorOffset,\n\t\t\t\t\tfocusNode: domSelection.focusNode,\n\t\t\t\t\tfocusOffset: domSelection.focusOffset\n\t\t\t\t};\n\t\t\t}, { priority: 'lowest' } );\n\n\t\t\tthis.listenTo( viewDocument, 'keyup', ( evt, data ) => {\n\t\t\t\tif ( domSelectionAfterDeletion ) {\n\t\t\t\t\tconst domSelection = data.domTarget.ownerDocument.defaultView.getSelection();\n\n\t\t\t\t\tdomSelection.collapse( domSelectionAfterDeletion.anchorNode, domSelectionAfterDeletion.anchorOffset );\n\t\t\t\t\tdomSelection.extend( domSelectionAfterDeletion.focusNode, domSelectionAfterDeletion.focusOffset );\n\n\t\t\t\t\tdomSelectionAfterDeletion = null;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n}\n"]}]}