{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-widget\\src\\utils.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-widget\\src\\utils.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1581760786382},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDIwLCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHdpZGdldC91dGlscwogKi8KaW1wb3J0IEhpZ2hsaWdodFN0YWNrIGZyb20gJy4vaGlnaGxpZ2h0c3RhY2snOwppbXBvcnQgSWNvblZpZXcgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11aS9zcmMvaWNvbi9pY29udmlldyc7CmltcG9ydCBlbnYgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvZW52JzsKaW1wb3J0IGRyYWdIYW5kbGVJY29uIGZyb20gJy4uL3RoZW1lL2ljb25zL2RyYWctaGFuZGxlLnN2Zyc7Ci8qKgogKiBDU1MgY2xhc3MgYWRkZWQgdG8gZWFjaCB3aWRnZXQgZWxlbWVudC4KICoKICogQGNvbnN0IHtTdHJpbmd9CiAqLwoKZXhwb3J0IHZhciBXSURHRVRfQ0xBU1NfTkFNRSA9ICdjay13aWRnZXQnOwovKioKICogQ1NTIGNsYXNzIGFkZGVkIHRvIGN1cnJlbnRseSBzZWxlY3RlZCB3aWRnZXQgZWxlbWVudC4KICoKICogQGNvbnN0IHtTdHJpbmd9CiAqLwoKZXhwb3J0IHZhciBXSURHRVRfU0VMRUNURURfQ0xBU1NfTkFNRSA9ICdjay13aWRnZXRfc2VsZWN0ZWQnOwovKioKICogUmV0dXJucyBgdHJ1ZWAgaWYgZ2l2ZW4ge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9ub2Rlfk5vZGV9IGlzIGFuIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSBhbmQgYSB3aWRnZXQuCiAqCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L25vZGV+Tm9kZX0gbm9kZQogKiBAcmV0dXJucyB7Qm9vbGVhbn0KICovCgpleHBvcnQgZnVuY3Rpb24gaXNXaWRnZXQobm9kZSkgewogIGlmICghbm9kZS5pcygnZWxlbWVudCcpKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICByZXR1cm4gISFub2RlLmdldEN1c3RvbVByb3BlcnR5KCd3aWRnZXQnKTsKfQovKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovCgovKioKICogQ29udmVydHMgdGhlIGdpdmVuIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSB0byBhIHdpZGdldCBpbiB0aGUgZm9sbG93aW5nIHdheToKICoKICogKiBzZXRzIHRoZSBgY29udGVudGVkaXRhYmxlYCBhdHRyaWJ1dGUgdG8gYCJ0cnVlImAsCiAqICogYWRkcyB0aGUgYGNrLXdpZGdldGAgQ1NTIGNsYXNzLAogKiAqIGFkZHMgYSBjdXN0b20ge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnQjZ2V0RmlsbGVyT2Zmc2V0IGBnZXRGaWxsZXJPZmZzZXQoKWB9IG1ldGhvZCByZXR1cm5pbmcgYG51bGxgLAogKiAqIGFkZHMgYSBjdXN0b20gcHJvcGVydHkgYWxsb3dpbmcgdG8gcmVjb2duaXplIHdpZGdldCBlbGVtZW50cyBieSB1c2luZyB7QGxpbmsgfmlzV2lkZ2V0IGBpc1dpZGdldCgpYH0sCiAqICogaW1wbGVtZW50cyB0aGUge0BsaW5rIH5zZXRIaWdobGlnaHRIYW5kbGluZyB2aWV3IGhpZ2hsaWdodCBvbiB3aWRnZXRzfS4KICoKICogVGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGgKICoge0BsaW5rIG1vZHVsZTplbmdpbmUvY29udmVyc2lvbi9kb3duY2FzdGhlbHBlcnN+RG93bmNhc3RIZWxwZXJzIGRvd25jYXN0IGNvbnZlcnNpb24gaGVscGVyc30KICogbGlrZSB7QGxpbmsgbW9kdWxlOmVuZ2luZS9jb252ZXJzaW9uL2Rvd25jYXN0aGVscGVyc35Eb3duY2FzdEhlbHBlcnMjZWxlbWVudFRvRWxlbWVudCBgZWxlbWVudFRvRWxlbWVudCgpYH0uCiAqIE1vcmVvdmVyLCB0eXBpY2FsbHkgeW91IHdpbGwgd2FudCB0byB1c2UgYHRvV2lkZ2V0KClgIG9ubHkgZm9yIGBlZGl0aW5nRG93bmNhc3RgLCB3aGlsZSBrZWVwaW5nIHRoZSBgZGF0YURvd25jYXN0YCBjbGVhbi4KICoKICogRm9yIGV4YW1wbGUsIGluIG9yZGVyIHRvIGNvbnZlcnQgYSBgPHdpZGdldD5gIG1vZGVsIGVsZW1lbnQgdG8gYDxkaXYgY2xhc3M9IndpZGdldCI+YCBpbiB0aGUgdmlldywgeW91IGNhbiBkZWZpbmUKICogc3VjaCBjb252ZXJ0ZXJzOgogKgogKgkJZWRpdG9yLmNvbnZlcnNpb24uZm9yKCAnZWRpdGluZ0Rvd25jYXN0JyApCiAqCQkJLmVsZW1lbnRUb0VsZW1lbnQoIHsKICoJCQkJbW9kZWw6ICd3aWRnZXQnLAogKgkJCQl2aWV3OiAoIG1vZGVsSXRlbSwgd3JpdGVyICkgPT4gewogKgkJCQkJY29uc3QgZGl2ID0gd3JpdGVyLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoICdkaXYnLCB7IGNsYXNzOiAnd2lkZ2V0JyB9ICk7CiAqCiAqCQkJCQlyZXR1cm4gdG9XaWRnZXQoIGRpdiwgd3JpdGVyLCB7IGxhYmVsOiAnc29tZSB3aWRnZXQnIH0gKTsKICoJCQkJfQogKgkJCX0gKTsKICoKICoJCWVkaXRvci5jb252ZXJzaW9uLmZvciggJ2RhdGFEb3duY2FzdCcgKQogKgkJCS5lbGVtZW50VG9FbGVtZW50KCB7CiAqCQkJCW1vZGVsOiAnd2lkZ2V0JywKICoJCQkJdmlldzogKCBtb2RlbEl0ZW0sIHdyaXRlciApID0+IHsKICoJCQkJCXJldHVybiB3cml0ZXIuY3JlYXRlQ29udGFpbmVyRWxlbWVudCggJ2RpdicsIHsgY2xhc3M6ICd3aWRnZXQnIH0gKTsKICoJCQkJfQogKgkJCX0gKTsKICoKICogU2VlIHRoZSBmdWxsIHNvdXJjZSBjb2RlIG9mIHRoZSB3aWRnZXQgKHdpdGggYSBuZXN0ZWQgZWRpdGFibGUpIHNjaGVtYSBkZWZpbml0aW9uIGFuZCBjb252ZXJ0ZXJzIGluCiAqIFt0aGlzIHNhbXBsZV0oaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yNS13aWRnZXQvYmxvYi9tYXN0ZXIvdGVzdHMvbWFudWFsL3dpZGdldC13aXRoLW5lc3RlZGVkaXRhYmxlLmpzKS4KICoKICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSBlbGVtZW50CiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2Rvd25jYXN0d3JpdGVyfkRvd25jYXN0V3JpdGVyfSB3cml0ZXIKICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XQogKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gW29wdGlvbnMubGFiZWxdIEVsZW1lbnQncyBsYWJlbCBwcm92aWRlZCB0byB0aGUge0BsaW5rIH5zZXRMYWJlbH0gZnVuY3Rpb24uIEl0IGNhbiBiZSBwYXNzZWQgYXMKICogYSBwbGFpbiBzdHJpbmcgb3IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBzdHJpbmcuIEl0IHJlcHJlc2VudHMgdGhlIHdpZGdldCBmb3IgYXNzaXN0aXZlIHRlY2hub2xvZ2llcyAobGlrZSBzY3JlZW4gcmVhZGVycykuCiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaGFzU2VsZWN0aW9uSGFuZGxlPWZhbHNlXSBJZiBgdHJ1ZWAsIHRoZSB3aWRnZXQgd2lsbCBoYXZlIGEgc2VsZWN0aW9uIGhhbmRsZSBhZGRlZC4KICogQHJldHVybnMge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IFJldHVybnMgdGhlIHNhbWUgZWxlbWVudC4KICovCgovKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi8KCmV4cG9ydCBmdW5jdGlvbiB0b1dpZGdldChlbGVtZW50LCB3cml0ZXIpIHsKICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CgogIC8vIFRoZSBzZWxlY3Rpb24gb24gRWRnZSBiZWhhdmVzIGJldHRlciB3aGVuIHRoZSB3aG9sZSBlZGl0b3IgY29udGVudHMgaXMgaW4gYSBzaW5nbGUgY29udGVudGVkaXRhYmxlIGVsZW1lbnQuCiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yNS9pc3N1ZXMvMTA3OQogIGlmICghZW52LmlzRWRnZSkgewogICAgd3JpdGVyLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgJ2ZhbHNlJywgZWxlbWVudCk7CiAgfQoKICB3cml0ZXIuYWRkQ2xhc3MoV0lER0VUX0NMQVNTX05BTUUsIGVsZW1lbnQpOwogIHdyaXRlci5zZXRDdXN0b21Qcm9wZXJ0eSgnd2lkZ2V0JywgdHJ1ZSwgZWxlbWVudCk7CiAgZWxlbWVudC5nZXRGaWxsZXJPZmZzZXQgPSBnZXRGaWxsZXJPZmZzZXQ7CgogIGlmIChvcHRpb25zLmxhYmVsKSB7CiAgICBzZXRMYWJlbChlbGVtZW50LCBvcHRpb25zLmxhYmVsLCB3cml0ZXIpOwogIH0KCiAgaWYgKG9wdGlvbnMuaGFzU2VsZWN0aW9uSGFuZGxlKSB7CiAgICBhZGRTZWxlY3Rpb25IYW5kbGUoZWxlbWVudCwgd3JpdGVyKTsKICB9CgogIHNldEhpZ2hsaWdodEhhbmRsaW5nKGVsZW1lbnQsIHdyaXRlciwgZnVuY3Rpb24gKGVsZW1lbnQsIGRlc2NyaXB0b3IsIHdyaXRlcikgewogICAgcmV0dXJuIHdyaXRlci5hZGRDbGFzcyhub3JtYWxpemVUb0FycmF5KGRlc2NyaXB0b3IuY2xhc3NlcyksIGVsZW1lbnQpOwogIH0sIGZ1bmN0aW9uIChlbGVtZW50LCBkZXNjcmlwdG9yLCB3cml0ZXIpIHsKICAgIHJldHVybiB3cml0ZXIucmVtb3ZlQ2xhc3Mobm9ybWFsaXplVG9BcnJheShkZXNjcmlwdG9yLmNsYXNzZXMpLCBlbGVtZW50KTsKICB9KTsKICByZXR1cm4gZWxlbWVudDsgLy8gTm9ybWFsaXplcyBDU1MgY2xhc3MgaW4gZGVzY3JpcHRvciB0aGF0IGNhbiBiZSBwcm92aWRlZCBpbiBmb3JtIG9mIGFuIGFycmF5IG9yIGEgc3RyaW5nLgoKICBmdW5jdGlvbiBub3JtYWxpemVUb0FycmF5KGNsYXNzZXMpIHsKICAgIHJldHVybiBBcnJheS5pc0FycmF5KGNsYXNzZXMpID8gY2xhc3NlcyA6IFtjbGFzc2VzXTsKICB9Cn0KLyoqCiAqIFNldHMgaGlnaGxpZ2h0IGhhbmRsaW5nIG1ldGhvZHMuIFVzZXMge0BsaW5rIG1vZHVsZTp3aWRnZXQvaGlnaGxpZ2h0c3RhY2t+SGlnaGxpZ2h0U3RhY2t9IHRvCiAqIHByb3Blcmx5IGRldGVybWluZSB3aGljaCBoaWdobGlnaHQgZGVzY3JpcHRvciBzaG91bGQgYmUgdXNlZCBhdCBnaXZlbiB0aW1lLgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IGVsZW1lbnQKICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZG93bmNhc3R3cml0ZXJ+RG93bmNhc3RXcml0ZXJ9IHdyaXRlcgogKiBAcGFyYW0ge0Z1bmN0aW9ufSBhZGQKICogQHBhcmFtIHtGdW5jdGlvbn0gcmVtb3ZlCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodEhhbmRsaW5nKGVsZW1lbnQsIHdyaXRlciwgYWRkLCByZW1vdmUpIHsKICB2YXIgc3RhY2sgPSBuZXcgSGlnaGxpZ2h0U3RhY2soKTsKICBzdGFjay5vbignY2hhbmdlOnRvcCcsIGZ1bmN0aW9uIChldnQsIGRhdGEpIHsKICAgIGlmIChkYXRhLm9sZERlc2NyaXB0b3IpIHsKICAgICAgcmVtb3ZlKGVsZW1lbnQsIGRhdGEub2xkRGVzY3JpcHRvciwgZGF0YS53cml0ZXIpOwogICAgfQoKICAgIGlmIChkYXRhLm5ld0Rlc2NyaXB0b3IpIHsKICAgICAgYWRkKGVsZW1lbnQsIGRhdGEubmV3RGVzY3JpcHRvciwgZGF0YS53cml0ZXIpOwogICAgfQogIH0pOwogIHdyaXRlci5zZXRDdXN0b21Qcm9wZXJ0eSgnYWRkSGlnaGxpZ2h0JywgZnVuY3Rpb24gKGVsZW1lbnQsIGRlc2NyaXB0b3IsIHdyaXRlcikgewogICAgcmV0dXJuIHN0YWNrLmFkZChkZXNjcmlwdG9yLCB3cml0ZXIpOwogIH0sIGVsZW1lbnQpOwogIHdyaXRlci5zZXRDdXN0b21Qcm9wZXJ0eSgncmVtb3ZlSGlnaGxpZ2h0JywgZnVuY3Rpb24gKGVsZW1lbnQsIGlkLCB3cml0ZXIpIHsKICAgIHJldHVybiBzdGFjay5yZW1vdmUoaWQsIHdyaXRlcik7CiAgfSwgZWxlbWVudCk7Cn0KLyoqCiAqIFNldHMgbGFiZWwgZm9yIGdpdmVuIGVsZW1lbnQuCiAqIEl0IGNhbiBiZSBwYXNzZWQgYXMgYSBwbGFpbiBzdHJpbmcgb3IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBzdHJpbmcuIEZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGVhY2ggdGltZSBsYWJlbCBpcyByZXRyaWV2ZWQgYnkKICoge0BsaW5rIH5nZXRMYWJlbCBgZ2V0TGFiZWwoKWB9LgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IGVsZW1lbnQKICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IGxhYmVsT3JDcmVhdG9yCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2Rvd25jYXN0d3JpdGVyfkRvd25jYXN0V3JpdGVyfSB3cml0ZXIKICovCgpleHBvcnQgZnVuY3Rpb24gc2V0TGFiZWwoZWxlbWVudCwgbGFiZWxPckNyZWF0b3IsIHdyaXRlcikgewogIHdyaXRlci5zZXRDdXN0b21Qcm9wZXJ0eSgnd2lkZ2V0TGFiZWwnLCBsYWJlbE9yQ3JlYXRvciwgZWxlbWVudCk7Cn0KLyoqCiAqIFJldHVybnMgdGhlIGxhYmVsIG9mIHRoZSBwcm92aWRlZCBlbGVtZW50LgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IGVsZW1lbnQKICogQHJldHVybnMge1N0cmluZ30KICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0TGFiZWwoZWxlbWVudCkgewogIHZhciBsYWJlbENyZWF0b3IgPSBlbGVtZW50LmdldEN1c3RvbVByb3BlcnR5KCd3aWRnZXRMYWJlbCcpOwoKICBpZiAoIWxhYmVsQ3JlYXRvcikgewogICAgcmV0dXJuICcnOwogIH0KCiAgcmV0dXJuIHR5cGVvZiBsYWJlbENyZWF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGxhYmVsQ3JlYXRvcigpIDogbGFiZWxDcmVhdG9yOwp9Ci8qKgogKiBBZGRzIGZ1bmN0aW9uYWxpdHkgdG8gdGhlIHByb3ZpZGVkIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWRpdGFibGVlbGVtZW50fkVkaXRhYmxlRWxlbWVudH0gdG8gYWN0IGFzIGEgd2lkZ2V0J3MgZWRpdGFibGU6CiAqCiAqICogc2V0cyB0aGUgYGNvbnRlbnRlZGl0YWJsZWAgYXR0cmlidXRlIHRvIGB0cnVlYCB3aGVuIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWRpdGFibGVlbGVtZW50fkVkaXRhYmxlRWxlbWVudCNpc1JlYWRPbmx5fSBpcyBgZmFsc2VgLAogKiBvdGhlcndpc2Ugc2V0cyBpdCB0byBgZmFsc2VgLAogKiAqIGFkZHMgdGhlIGBjay1lZGl0b3JfX2VkaXRhYmxlYCBhbmQgYGNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlYCBDU1MgY2xhc3NlcywKICogKiBhZGRzIHRoZSBgY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZGAgQ1NTIGNsYXNzIHdoZW4gdGhlIGVkaXRhYmxlIGlzIGZvY3VzZWQgYW5kIHJlbW92ZXMgaXQgd2hlbiBpdCBpcyBibHVycmVkLgogKgogKiBTaW1pbGFybHkgdG8ge0BsaW5rIH50b1dpZGdldCBgdG9XaWRnZXQoKWB9IHRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIHVzZWQgaW4gYGRhdGFEb3duY2FzdGAgb25seSBhbmQgaXQgaXMgdXN1YWxseQogKiB1c2VkIHRvZ2V0aGVyIHdpdGgge0BsaW5rIG1vZHVsZTplbmdpbmUvY29udmVyc2lvbi9kb3duY2FzdGhlbHBlcnN+RG93bmNhc3RIZWxwZXJzI2VsZW1lbnRUb0VsZW1lbnQgYGVsZW1lbnRUb0VsZW1lbnQoKWB9LgogKgogKiBGb3IgZXhhbXBsZSwgaW4gb3JkZXIgdG8gY29udmVydCBhIGA8bmVzdGVkPmAgbW9kZWwgZWxlbWVudCB0byBgPGRpdiBjbGFzcz0ibmVzdGVkIj5gIGluIHRoZSB2aWV3LCB5b3UgY2FuIGRlZmluZQogKiBzdWNoIGNvbnZlcnRlcnM6CiAqCiAqCQllZGl0b3IuY29udmVyc2lvbi5mb3IoICdlZGl0aW5nRG93bmNhc3QnICkKICoJCQkuZWxlbWVudFRvRWxlbWVudCggewogKgkJCQltb2RlbDogJ25lc3RlZCcsCiAqCQkJCXZpZXc6ICggbW9kZWxJdGVtLCB3cml0ZXIgKSA9PiB7CiAqCQkJCQljb25zdCBkaXYgPSB3cml0ZXIuY3JlYXRlRWRpdGFibGVFbGVtZW50KCAnZGl2JywgeyBjbGFzczogJ25lc3RlZCcgfSApOwogKgogKgkJCQkJcmV0dXJuIHRvV2lkZ2V0RWRpdGFibGUoIG5lc3RlZCwgd3JpdGVyICk7CiAqCQkJCX0KICoJCQl9ICk7CiAqCiAqCQllZGl0b3IuY29udmVyc2lvbi5mb3IoICdkYXRhRG93bmNhc3QnICkKICoJCQkuZWxlbWVudFRvRWxlbWVudCggewogKgkJCQltb2RlbDogJ25lc3RlZCcsCiAqCQkJCXZpZXc6ICggbW9kZWxJdGVtLCB3cml0ZXIgKSA9PiB7CiAqCQkJCQlyZXR1cm4gd3JpdGVyLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoICdkaXYnLCB7IGNsYXNzOiAnbmVzdGVkJyB9ICk7CiAqCQkJCX0KICoJCQl9ICk7CiAqCiAqIFNlZSB0aGUgZnVsbCBzb3VyY2UgY29kZSBvZiB0aGUgd2lkZ2V0ICh3aXRoIG5lc3RlZCBlZGl0YWJsZSkgc2NoZW1hIGRlZmluaXRpb24gYW5kIGNvbnZlcnRlcnMgaW4KICogW3RoaXMgc2FtcGxlXShodHRwczovL2dpdGh1Yi5jb20vY2tlZGl0b3IvY2tlZGl0b3I1LXdpZGdldC9ibG9iL21hc3Rlci90ZXN0cy9tYW51YWwvd2lkZ2V0LXdpdGgtbmVzdGVkZWRpdGFibGUuanMpLgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9lZGl0YWJsZWVsZW1lbnR+RWRpdGFibGVFbGVtZW50fSBlZGl0YWJsZQogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9kb3duY2FzdHdyaXRlcn5Eb3duY2FzdFdyaXRlcn0gd3JpdGVyCiAqIEByZXR1cm5zIHttb2R1bGU6ZW5naW5lL3ZpZXcvZWRpdGFibGVlbGVtZW50fkVkaXRhYmxlRWxlbWVudH0gUmV0dXJucyB0aGUgc2FtZSBlbGVtZW50IHRoYXQgd2FzIHByb3ZpZGVkIGluIHRoZSBgZWRpdGFibGVgIHBhcmFtZXRlcgogKi8KCmV4cG9ydCBmdW5jdGlvbiB0b1dpZGdldEVkaXRhYmxlKGVkaXRhYmxlLCB3cml0ZXIpIHsKICB3cml0ZXIuYWRkQ2xhc3MoWydjay1lZGl0b3JfX2VkaXRhYmxlJywgJ2NrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlJ10sIGVkaXRhYmxlKTsgLy8gVGhlIHNlbGVjdGlvbiBvbiBFZGdlIGJlaGF2ZXMgYmV0dGVyIHdoZW4gdGhlIHdob2xlIGVkaXRvciBjb250ZW50cyBpcyBpbiBhIHNpbmdsZSBjb250ZW50ZWRpYmxlIGVsZW1lbnQuCiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yNS9pc3N1ZXMvMTA3OQoKICBpZiAoIWVudi5pc0VkZ2UpIHsKICAgIC8vIFNldCBpbml0aWFsIGNvbnRlbnRlZGl0YWJsZSB2YWx1ZS4KICAgIHdyaXRlci5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIGVkaXRhYmxlLmlzUmVhZE9ubHkgPyAnZmFsc2UnIDogJ3RydWUnLCBlZGl0YWJsZSk7IC8vIEJpbmQgdGhlIGNvbnRlbnRlZGl0YWJsZSBwcm9wZXJ0eSB0byBlbGVtZW50I2lzUmVhZE9ubHkuCgogICAgZWRpdGFibGUub24oJ2NoYW5nZTppc1JlYWRPbmx5JywgZnVuY3Rpb24gKGV2dCwgcHJvcGVydHksIGlzKSB7CiAgICAgIHdyaXRlci5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIGlzID8gJ2ZhbHNlJyA6ICd0cnVlJywgZWRpdGFibGUpOwogICAgfSk7CiAgfQoKICBlZGl0YWJsZS5vbignY2hhbmdlOmlzRm9jdXNlZCcsIGZ1bmN0aW9uIChldnQsIHByb3BlcnR5LCBpcykgewogICAgaWYgKGlzKSB7CiAgICAgIHdyaXRlci5hZGRDbGFzcygnY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZCcsIGVkaXRhYmxlKTsKICAgIH0gZWxzZSB7CiAgICAgIHdyaXRlci5yZW1vdmVDbGFzcygnY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZCcsIGVkaXRhYmxlKTsKICAgIH0KICB9KTsKICByZXR1cm4gZWRpdGFibGU7Cn0KLyoqCiAqIFJldHVybnMgYSBtb2RlbCBwb3NpdGlvbiB3aGljaCBpcyBvcHRpbWFsIChpbiB0ZXJtcyBvZiBVWCkgZm9yIGluc2VydGluZyBhIHdpZGdldCBibG9jay4KICoKICogRm9yIGluc3RhbmNlLCBpZiBhIHNlbGVjdGlvbiBpcyBpbiB0aGUgbWlkZGxlIG9mIGEgcGFyYWdyYXBoLCB0aGUgcG9zaXRpb24gYmVmb3JlIHRoaXMgcGFyYWdyYXBoCiAqIHdpbGwgYmUgcmV0dXJuZWQgc28gdGhhdCBpdCBpcyBub3Qgc3BsaXQuIElmIHRoZSBzZWxlY3Rpb24gaXMgYXQgdGhlIGVuZCBvZiBhIHBhcmFncmFwaCwKICogdGhlIHBvc2l0aW9uIGFmdGVyIHRoaXMgcGFyYWdyYXBoIHdpbGwgYmUgcmV0dXJuZWQuCiAqCiAqIE5vdGU6IElmIHRoZSBzZWxlY3Rpb24gaXMgcGxhY2VkIGluIGFuIGVtcHR5IGJsb2NrLCB0aGF0IGJsb2NrIHdpbGwgYmUgcmV0dXJuZWQuIElmIHRoYXQgcG9zaXRpb24KICogaXMgdGhlbiBwYXNzZWQgdG8ge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWwjaW5zZXJ0Q29udGVudH0sCiAqIHRoZSBibG9jayB3aWxsIGJlIGZ1bGx5IHJlcGxhY2VkIGJ5IHRoZSBpbWFnZS4KICoKICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL3NlbGVjdGlvbn5TZWxlY3Rpb258bW9kdWxlOmVuZ2luZS9tb2RlbC9kb2N1bWVudHNlbGVjdGlvbn5Eb2N1bWVudFNlbGVjdGlvbn0gc2VsZWN0aW9uCiAqIFRoZSBzZWxlY3Rpb24gYmFzZWQgb24gd2hpY2ggdGhlIGluc2VydGlvbiBwb3NpdGlvbiBzaG91bGQgYmUgY2FsY3VsYXRlZC4KICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL21vZGVsfk1vZGVsfSBtb2RlbCBNb2RlbCBpbnN0YW5jZS4KICogQHJldHVybnMge21vZHVsZTplbmdpbmUvbW9kZWwvcG9zaXRpb25+UG9zaXRpb259IFRoZSBvcHRpbWFsIHBvc2l0aW9uLgogKi8KCmV4cG9ydCBmdW5jdGlvbiBmaW5kT3B0aW1hbEluc2VydGlvblBvc2l0aW9uKHNlbGVjdGlvbiwgbW9kZWwpIHsKICB2YXIgc2VsZWN0ZWRFbGVtZW50ID0gc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpOwoKICBpZiAoc2VsZWN0ZWRFbGVtZW50ICYmIG1vZGVsLnNjaGVtYS5pc0Jsb2NrKHNlbGVjdGVkRWxlbWVudCkpIHsKICAgIHJldHVybiBtb2RlbC5jcmVhdGVQb3NpdGlvbkFmdGVyKHNlbGVjdGVkRWxlbWVudCk7CiAgfQoKICB2YXIgZmlyc3RCbG9jayA9IHNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpLm5leHQoKS52YWx1ZTsKCiAgaWYgKGZpcnN0QmxvY2spIHsKICAgIC8vIElmIGluc2VydGluZyBpbnRvIGFuIGVtcHR5IGJsb2NrIOKAkyByZXR1cm4gcG9zaXRpb24gaW4gdGhhdCBibG9jay4gSXQgd2lsbCBnZXQKICAgIC8vIHJlcGxhY2VkIHdpdGggdGhlIGltYWdlIGJ5IGluc2VydENvbnRlbnQoKS4gIzQyLgogICAgaWYgKGZpcnN0QmxvY2suaXNFbXB0eSkgewogICAgICByZXR1cm4gbW9kZWwuY3JlYXRlUG9zaXRpb25BdChmaXJzdEJsb2NrLCAwKTsKICAgIH0KCiAgICB2YXIgcG9zaXRpb25BZnRlciA9IG1vZGVsLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIoZmlyc3RCbG9jayk7IC8vIElmIHNlbGVjdGlvbiBpcyBhdCB0aGUgZW5kIG9mIHRoZSBibG9jayAtIHJldHVybiBwb3NpdGlvbiBhZnRlciB0aGUgYmxvY2suCgogICAgaWYgKHNlbGVjdGlvbi5mb2N1cy5pc1RvdWNoaW5nKHBvc2l0aW9uQWZ0ZXIpKSB7CiAgICAgIHJldHVybiBwb3NpdGlvbkFmdGVyOwogICAgfSAvLyBPdGhlcndpc2UgcmV0dXJuIHBvc2l0aW9uIGJlZm9yZSB0aGUgYmxvY2suCgoKICAgIHJldHVybiBtb2RlbC5jcmVhdGVQb3NpdGlvbkJlZm9yZShmaXJzdEJsb2NrKTsKICB9CgogIHJldHVybiBzZWxlY3Rpb24uZm9jdXM7Cn0KLyoqCiAqIEEgdXRpbCB0byBiZSB1c2VkIGluIG9yZGVyIHRvIG1hcCB2aWV3IHBvc2l0aW9ucyB0byBjb3JyZWN0IG1vZGVsIHBvc2l0aW9ucyB3aGVuIGltcGxlbWVudGluZyBhIHdpZGdldAogKiB3aGljaCByZW5kZXJzIG5vbi1lbXB0eSB2aWV3IGVsZW1lbnQgZm9yIGFuIGVtcHR5IG1vZGVsIGVsZW1lbnQuCiAqCiAqIEZvciBleGFtcGxlOgogKgogKgkJLy8gTW9kZWw6CiAqCQk8cGxhY2Vob2xkZXIgdHlwZT0ibmFtZSI+PC9wbGFjZWhvbGRlcj4KICoKICoJCS8vIFZpZXc6CiAqCQk8c3BhbiBjbGFzcz0icGxhY2Vob2xkZXIiPm5hbWU8L3NwYW4+CiAqCiAqIEluIHN1Y2ggY2FzZSwgdmlldyBwb3NpdGlvbnMgaW5zaWRlIGA8c3Bhbj5gIGNhbm5vdCBiZSBjb3JyZWN0IG1hcHBlZCB0byB0aGUgbW9kZWwgKGJlY2F1c2UgdGhlIG1vZGVsIGVsZW1lbnQgaXMgZW1wdHkpLgogKiBUbyBoYW5kbGUgbWFwcGluZyBwb3NpdGlvbnMgaW5zaWRlIGA8c3BhbiBjbGFzcz0icGxhY2Vob2xkZXIiPmAgdG8gdGhlIG1vZGVsIHVzZSB0aGlzIHV0aWwgYXMgZm9sbG93czoKICoKICoJCWVkaXRvci5lZGl0aW5nLm1hcHBlci5vbigKICoJCQkndmlld1RvTW9kZWxQb3NpdGlvbicsCiAqCQkJdmlld1RvTW9kZWxQb3NpdGlvbk91dHNpZGVNb2RlbEVsZW1lbnQoIG1vZGVsLCB2aWV3RWxlbWVudCA9PiB2aWV3RWxlbWVudC5oYXNDbGFzcyggJ3BsYWNlaG9sZGVyJyApICkKICoJCSk7CiAqCiAqIFRoZSBjYWxsYmFjayB3aWxsIHRyeSB0byBtYXAgdGhlIHZpZXcgb2Zmc2V0IG9mIHNlbGVjdGlvbiB0byBhbiBleHBlY3RlZCBtb2RlbCBwb3NpdGlvbi4KICoKICogMS4gV2hlbiB0aGUgcG9zaXRpb24gaXMgYXQgdGhlIGVuZCAob3IgaW4gdGhlIG1pZGRsZSkgb2YgdGhlIGlubGluZSB3aWRnZXQ6CiAqCiAqCQkvLyBWaWV3OgogKgkJPHA+Zm9vIDxzcGFuIGNsYXNzPSJwbGFjZWhvbGRlciI+bmFtZXw8L3NwYW4+IGJhcjwvcD4KICoKICoJCS8vIE1vZGVsOgogKgkJPHBhcmFncmFwaD5mb28gPHBsYWNlaG9sZGVyIHR5cGU9Im5hbWUiPjwvcGxhY2Vob2xkZXI+fCBiYXI8L3BhcmFncmFwaD4KICoKICogMi4gV2hlbiB0aGUgcG9zaXRpb24gaXMgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgaW5saW5lIHdpZGdldDoKICoKICoJCS8vIFZpZXc6CiAqCQk8cD5mb28gPHNwYW4gY2xhc3M9InBsYWNlaG9sZGVyIj58bmFtZTwvc3Bhbj4gYmFyPC9wPgogKgogKgkJLy8gTW9kZWw6CiAqCQk8cGFyYWdyYXBoPmZvbyB8PHBsYWNlaG9sZGVyIHR5cGU9Im5hbWUiPjwvcGxhY2Vob2xkZXI+IGJhcjwvcGFyYWdyYXBoPgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWx9IG1vZGVsIE1vZGVsIGluc3RhbmNlIG9uIHdoaWNoIHRoZSBjYWxsYmFjayBvcGVyYXRlcy4KICogQHBhcmFtIHtGdW5jdGlvbn0gdmlld0VsZW1lbnRNYXRjaGVyIEZ1bmN0aW9uIHRoYXQgaXMgcGFzc2VkIGEgdmlldyBlbGVtZW50IGFuZCBzaG91bGQgcmV0dXJuIGB0cnVlYCBpZiB0aGUgY3VzdG9tIG1hcHBpbmcKICogc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIGdpdmVuIHZpZXcgZWxlbWVudC4KICogQHJldHVybiB7RnVuY3Rpb259CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHZpZXdUb01vZGVsUG9zaXRpb25PdXRzaWRlTW9kZWxFbGVtZW50KG1vZGVsLCB2aWV3RWxlbWVudE1hdGNoZXIpIHsKICByZXR1cm4gZnVuY3Rpb24gKGV2dCwgZGF0YSkgewogICAgdmFyIG1hcHBlciA9IGRhdGEubWFwcGVyLAogICAgICAgIHZpZXdQb3NpdGlvbiA9IGRhdGEudmlld1Bvc2l0aW9uOwogICAgdmFyIHZpZXdQYXJlbnQgPSBtYXBwZXIuZmluZE1hcHBlZFZpZXdBbmNlc3Rvcih2aWV3UG9zaXRpb24pOwoKICAgIGlmICghdmlld0VsZW1lbnRNYXRjaGVyKHZpZXdQYXJlbnQpKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgbW9kZWxQYXJlbnQgPSBtYXBwZXIudG9Nb2RlbEVsZW1lbnQodmlld1BhcmVudCk7CiAgICBkYXRhLm1vZGVsUG9zaXRpb24gPSBtb2RlbC5jcmVhdGVQb3NpdGlvbkF0KG1vZGVsUGFyZW50LCB2aWV3UG9zaXRpb24uaXNBdFN0YXJ0ID8gJ2JlZm9yZScgOiAnYWZ0ZXInKTsKICB9Owp9IC8vIERlZmF1bHQgZmlsbGVyIG9mZnNldCBmdW5jdGlvbiBhcHBsaWVkIHRvIGFsbCB3aWRnZXQgZWxlbWVudHMuCi8vCi8vIEByZXR1cm5zIHtudWxsfQoKZnVuY3Rpb24gZ2V0RmlsbGVyT2Zmc2V0KCkgewogIHJldHVybiBudWxsOwp9IC8vIEFkZHMgYSBkcmFnIGhhbmRsZSB0byB0aGUgd2lkZ2V0LgovLwovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9jb250YWluZXJlbGVtZW50fkNvbnRhaW5lckVsZW1lbnR9Ci8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2Rvd25jYXN0d3JpdGVyfkRvd25jYXN0V3JpdGVyfSB3cml0ZXIKCgpmdW5jdGlvbiBhZGRTZWxlY3Rpb25IYW5kbGUod2lkZ2V0RWxlbWVudCwgd3JpdGVyKSB7CiAgdmFyIHNlbGVjdGlvbkhhbmRsZSA9IHdyaXRlci5jcmVhdGVVSUVsZW1lbnQoJ2RpdicsIHsKICAgIGNsYXNzOiAnY2sgY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlJwogIH0sIGZ1bmN0aW9uIChkb21Eb2N1bWVudCkgewogICAgdmFyIGRvbUVsZW1lbnQgPSB0aGlzLnRvRG9tRWxlbWVudChkb21Eb2N1bWVudCk7IC8vIFVzZSB0aGUgSWNvblZpZXcgZnJvbSB0aGUgdWkgbGlicmFyeS4KCiAgICB2YXIgaWNvbiA9IG5ldyBJY29uVmlldygpOwogICAgaWNvbi5zZXQoJ2NvbnRlbnQnLCBkcmFnSGFuZGxlSWNvbik7IC8vIFJlbmRlciB0aGUgaWNvbiB2aWV3IHJpZ2h0IGF3YXkgdG8gYXBwZW5kIGl0cyAjZWxlbWVudCB0byB0aGUgc2VsZWN0aW9uSGFuZGxlIERPTSBlbGVtZW50LgoKICAgIGljb24ucmVuZGVyKCk7CiAgICBkb21FbGVtZW50LmFwcGVuZENoaWxkKGljb24uZWxlbWVudCk7CiAgICByZXR1cm4gZG9tRWxlbWVudDsKICB9KTsgLy8gQXBwZW5kIHRoZSBzZWxlY3Rpb24gaGFuZGxlIGludG8gdGhlIHdpZGdldCB3cmFwcGVyLgoKICB3cml0ZXIuaW5zZXJ0KHdyaXRlci5jcmVhdGVQb3NpdGlvbkF0KHdpZGdldEVsZW1lbnQsIDApLCBzZWxlY3Rpb25IYW5kbGUpOwogIHdyaXRlci5hZGRDbGFzcyhbJ2NrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGUnXSwgd2lkZ2V0RWxlbWVudCk7Cn0="},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-widget/src/utils.js"],"names":["HighlightStack","IconView","env","dragHandleIcon","WIDGET_CLASS_NAME","WIDGET_SELECTED_CLASS_NAME","isWidget","node","is","getCustomProperty","toWidget","element","writer","options","isEdge","setAttribute","addClass","setCustomProperty","getFillerOffset","label","setLabel","hasSelectionHandle","addSelectionHandle","setHighlightHandling","descriptor","normalizeToArray","classes","removeClass","Array","isArray","add","remove","stack","on","evt","data","oldDescriptor","newDescriptor","id","labelOrCreator","getLabel","labelCreator","toWidgetEditable","editable","isReadOnly","property","findOptimalInsertionPosition","selection","model","selectedElement","getSelectedElement","schema","isBlock","createPositionAfter","firstBlock","getSelectedBlocks","next","value","isEmpty","createPositionAt","positionAfter","focus","isTouching","createPositionBefore","viewToModelPositionOutsideModelElement","viewElementMatcher","mapper","viewPosition","viewParent","findMappedViewAncestor","modelParent","toModelElement","modelPosition","isAtStart","widgetElement","selectionHandle","createUIElement","class","domDocument","domElement","toDomElement","icon","set","render","appendChild","insert"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module widget/utils\n */\n\nimport HighlightStack from './highlightstack';\nimport IconView from '@ckeditor/ckeditor5-ui/src/icon/iconview';\nimport env from '@ckeditor/ckeditor5-utils/src/env';\n\nimport dragHandleIcon from '../theme/icons/drag-handle.svg';\n\n/**\n * CSS class added to each widget element.\n *\n * @const {String}\n */\nexport const WIDGET_CLASS_NAME = 'ck-widget';\n\n/**\n * CSS class added to currently selected widget element.\n *\n * @const {String}\n */\nexport const WIDGET_SELECTED_CLASS_NAME = 'ck-widget_selected';\n\n/**\n * Returns `true` if given {@link module:engine/view/node~Node} is an {@link module:engine/view/element~Element} and a widget.\n *\n * @param {module:engine/view/node~Node} node\n * @returns {Boolean}\n */\nexport function isWidget( node ) {\n\tif ( !node.is( 'element' ) ) {\n\t\treturn false;\n\t}\n\n\treturn !!node.getCustomProperty( 'widget' );\n}\n\n/* eslint-disable max-len */\n/**\n * Converts the given {@link module:engine/view/element~Element} to a widget in the following way:\n *\n * * sets the `contenteditable` attribute to `\"true\"`,\n * * adds the `ck-widget` CSS class,\n * * adds a custom {@link module:engine/view/element~Element#getFillerOffset `getFillerOffset()`} method returning `null`,\n * * adds a custom property allowing to recognize widget elements by using {@link ~isWidget `isWidget()`},\n * * implements the {@link ~setHighlightHandling view highlight on widgets}.\n *\n * This function needs to be used in conjunction with\n * {@link module:engine/conversion/downcasthelpers~DowncastHelpers downcast conversion helpers}\n * like {@link module:engine/conversion/downcasthelpers~DowncastHelpers#elementToElement `elementToElement()`}.\n * Moreover, typically you will want to use `toWidget()` only for `editingDowncast`, while keeping the `dataDowncast` clean.\n *\n * For example, in order to convert a `<widget>` model element to `<div class=\"widget\">` in the view, you can define\n * such converters:\n *\n *\t\teditor.conversion.for( 'editingDowncast' )\n *\t\t\t.elementToElement( {\n *\t\t\t\tmodel: 'widget',\n *\t\t\t\tview: ( modelItem, writer ) => {\n *\t\t\t\t\tconst div = writer.createContainerElement( 'div', { class: 'widget' } );\n *\n *\t\t\t\t\treturn toWidget( div, writer, { label: 'some widget' } );\n *\t\t\t\t}\n *\t\t\t} );\n *\n *\t\teditor.conversion.for( 'dataDowncast' )\n *\t\t\t.elementToElement( {\n *\t\t\t\tmodel: 'widget',\n *\t\t\t\tview: ( modelItem, writer ) => {\n *\t\t\t\t\treturn writer.createContainerElement( 'div', { class: 'widget' } );\n *\t\t\t\t}\n *\t\t\t} );\n *\n * See the full source code of the widget (with a nested editable) schema definition and converters in\n * [this sample](https://github.com/ckeditor/ckeditor5-widget/blob/master/tests/manual/widget-with-nestededitable.js).\n *\n * @param {module:engine/view/element~Element} element\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer\n * @param {Object} [options={}]\n * @param {String|Function} [options.label] Element's label provided to the {@link ~setLabel} function. It can be passed as\n * a plain string or a function returning a string. It represents the widget for assistive technologies (like screen readers).\n * @param {Boolean} [options.hasSelectionHandle=false] If `true`, the widget will have a selection handle added.\n * @returns {module:engine/view/element~Element} Returns the same element.\n */\n/* eslint-enable max-len */\nexport function toWidget( element, writer, options = {} ) {\n\t// The selection on Edge behaves better when the whole editor contents is in a single contenteditable element.\n\t// https://github.com/ckeditor/ckeditor5/issues/1079\n\tif ( !env.isEdge ) {\n\t\twriter.setAttribute( 'contenteditable', 'false', element );\n\t}\n\n\twriter.addClass( WIDGET_CLASS_NAME, element );\n\twriter.setCustomProperty( 'widget', true, element );\n\telement.getFillerOffset = getFillerOffset;\n\n\tif ( options.label ) {\n\t\tsetLabel( element, options.label, writer );\n\t}\n\n\tif ( options.hasSelectionHandle ) {\n\t\taddSelectionHandle( element, writer );\n\t}\n\n\tsetHighlightHandling(\n\t\telement,\n\t\twriter,\n\t\t( element, descriptor, writer ) => writer.addClass( normalizeToArray( descriptor.classes ), element ),\n\t\t( element, descriptor, writer ) => writer.removeClass( normalizeToArray( descriptor.classes ), element )\n\t);\n\n\treturn element;\n\n\t// Normalizes CSS class in descriptor that can be provided in form of an array or a string.\n\tfunction normalizeToArray( classes ) {\n\t\treturn Array.isArray( classes ) ? classes : [ classes ];\n\t}\n}\n\n/**\n * Sets highlight handling methods. Uses {@link module:widget/highlightstack~HighlightStack} to\n * properly determine which highlight descriptor should be used at given time.\n *\n * @param {module:engine/view/element~Element} element\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer\n * @param {Function} add\n * @param {Function} remove\n */\nexport function setHighlightHandling( element, writer, add, remove ) {\n\tconst stack = new HighlightStack();\n\n\tstack.on( 'change:top', ( evt, data ) => {\n\t\tif ( data.oldDescriptor ) {\n\t\t\tremove( element, data.oldDescriptor, data.writer );\n\t\t}\n\n\t\tif ( data.newDescriptor ) {\n\t\t\tadd( element, data.newDescriptor, data.writer );\n\t\t}\n\t} );\n\n\twriter.setCustomProperty( 'addHighlight', ( element, descriptor, writer ) => stack.add( descriptor, writer ), element );\n\twriter.setCustomProperty( 'removeHighlight', ( element, id, writer ) => stack.remove( id, writer ), element );\n}\n\n/**\n * Sets label for given element.\n * It can be passed as a plain string or a function returning a string. Function will be called each time label is retrieved by\n * {@link ~getLabel `getLabel()`}.\n *\n * @param {module:engine/view/element~Element} element\n * @param {String|Function} labelOrCreator\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer\n */\nexport function setLabel( element, labelOrCreator, writer ) {\n\twriter.setCustomProperty( 'widgetLabel', labelOrCreator, element );\n}\n\n/**\n * Returns the label of the provided element.\n *\n * @param {module:engine/view/element~Element} element\n * @returns {String}\n */\nexport function getLabel( element ) {\n\tconst labelCreator = element.getCustomProperty( 'widgetLabel' );\n\n\tif ( !labelCreator ) {\n\t\treturn '';\n\t}\n\n\treturn typeof labelCreator == 'function' ? labelCreator() : labelCreator;\n}\n\n/**\n * Adds functionality to the provided {@link module:engine/view/editableelement~EditableElement} to act as a widget's editable:\n *\n * * sets the `contenteditable` attribute to `true` when {@link module:engine/view/editableelement~EditableElement#isReadOnly} is `false`,\n * otherwise sets it to `false`,\n * * adds the `ck-editor__editable` and `ck-editor__nested-editable` CSS classes,\n * * adds the `ck-editor__nested-editable_focused` CSS class when the editable is focused and removes it when it is blurred.\n *\n * Similarly to {@link ~toWidget `toWidget()`} this function should be used in `dataDowncast` only and it is usually\n * used together with {@link module:engine/conversion/downcasthelpers~DowncastHelpers#elementToElement `elementToElement()`}.\n *\n * For example, in order to convert a `<nested>` model element to `<div class=\"nested\">` in the view, you can define\n * such converters:\n *\n *\t\teditor.conversion.for( 'editingDowncast' )\n *\t\t\t.elementToElement( {\n *\t\t\t\tmodel: 'nested',\n *\t\t\t\tview: ( modelItem, writer ) => {\n *\t\t\t\t\tconst div = writer.createEditableElement( 'div', { class: 'nested' } );\n *\n *\t\t\t\t\treturn toWidgetEditable( nested, writer );\n *\t\t\t\t}\n *\t\t\t} );\n *\n *\t\teditor.conversion.for( 'dataDowncast' )\n *\t\t\t.elementToElement( {\n *\t\t\t\tmodel: 'nested',\n *\t\t\t\tview: ( modelItem, writer ) => {\n *\t\t\t\t\treturn writer.createContainerElement( 'div', { class: 'nested' } );\n *\t\t\t\t}\n *\t\t\t} );\n *\n * See the full source code of the widget (with nested editable) schema definition and converters in\n * [this sample](https://github.com/ckeditor/ckeditor5-widget/blob/master/tests/manual/widget-with-nestededitable.js).\n *\n * @param {module:engine/view/editableelement~EditableElement} editable\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer\n * @returns {module:engine/view/editableelement~EditableElement} Returns the same element that was provided in the `editable` parameter\n */\nexport function toWidgetEditable( editable, writer ) {\n\twriter.addClass( [ 'ck-editor__editable', 'ck-editor__nested-editable' ], editable );\n\n\t// The selection on Edge behaves better when the whole editor contents is in a single contentedible element.\n\t// https://github.com/ckeditor/ckeditor5/issues/1079\n\tif ( !env.isEdge ) {\n\t\t// Set initial contenteditable value.\n\t\twriter.setAttribute( 'contenteditable', editable.isReadOnly ? 'false' : 'true', editable );\n\n\t\t// Bind the contenteditable property to element#isReadOnly.\n\t\teditable.on( 'change:isReadOnly', ( evt, property, is ) => {\n\t\t\twriter.setAttribute( 'contenteditable', is ? 'false' : 'true', editable );\n\t\t} );\n\t}\n\n\teditable.on( 'change:isFocused', ( evt, property, is ) => {\n\t\tif ( is ) {\n\t\t\twriter.addClass( 'ck-editor__nested-editable_focused', editable );\n\t\t} else {\n\t\t\twriter.removeClass( 'ck-editor__nested-editable_focused', editable );\n\t\t}\n\t} );\n\n\treturn editable;\n}\n\n/**\n * Returns a model position which is optimal (in terms of UX) for inserting a widget block.\n *\n * For instance, if a selection is in the middle of a paragraph, the position before this paragraph\n * will be returned so that it is not split. If the selection is at the end of a paragraph,\n * the position after this paragraph will be returned.\n *\n * Note: If the selection is placed in an empty block, that block will be returned. If that position\n * is then passed to {@link module:engine/model/model~Model#insertContent},\n * the block will be fully replaced by the image.\n *\n * @param {module:engine/model/selection~Selection|module:engine/model/documentselection~DocumentSelection} selection\n * The selection based on which the insertion position should be calculated.\n * @param {module:engine/model/model~Model} model Model instance.\n * @returns {module:engine/model/position~Position} The optimal position.\n */\nexport function findOptimalInsertionPosition( selection, model ) {\n\tconst selectedElement = selection.getSelectedElement();\n\n\tif ( selectedElement && model.schema.isBlock( selectedElement ) ) {\n\t\treturn model.createPositionAfter( selectedElement );\n\t}\n\n\tconst firstBlock = selection.getSelectedBlocks().next().value;\n\n\tif ( firstBlock ) {\n\t\t// If inserting into an empty block â€“ return position in that block. It will get\n\t\t// replaced with the image by insertContent(). #42.\n\t\tif ( firstBlock.isEmpty ) {\n\t\t\treturn model.createPositionAt( firstBlock, 0 );\n\t\t}\n\n\t\tconst positionAfter = model.createPositionAfter( firstBlock );\n\n\t\t// If selection is at the end of the block - return position after the block.\n\t\tif ( selection.focus.isTouching( positionAfter ) ) {\n\t\t\treturn positionAfter;\n\t\t}\n\n\t\t// Otherwise return position before the block.\n\t\treturn model.createPositionBefore( firstBlock );\n\t}\n\n\treturn selection.focus;\n}\n\n/**\n * A util to be used in order to map view positions to correct model positions when implementing a widget\n * which renders non-empty view element for an empty model element.\n *\n * For example:\n *\n *\t\t// Model:\n *\t\t<placeholder type=\"name\"></placeholder>\n *\n *\t\t// View:\n *\t\t<span class=\"placeholder\">name</span>\n *\n * In such case, view positions inside `<span>` cannot be correct mapped to the model (because the model element is empty).\n * To handle mapping positions inside `<span class=\"placeholder\">` to the model use this util as follows:\n *\n *\t\teditor.editing.mapper.on(\n *\t\t\t'viewToModelPosition',\n *\t\t\tviewToModelPositionOutsideModelElement( model, viewElement => viewElement.hasClass( 'placeholder' ) )\n *\t\t);\n *\n * The callback will try to map the view offset of selection to an expected model position.\n *\n * 1. When the position is at the end (or in the middle) of the inline widget:\n *\n *\t\t// View:\n *\t\t<p>foo <span class=\"placeholder\">name|</span> bar</p>\n *\n *\t\t// Model:\n *\t\t<paragraph>foo <placeholder type=\"name\"></placeholder>| bar</paragraph>\n *\n * 2. When the position is at the beginning of the inline widget:\n *\n *\t\t// View:\n *\t\t<p>foo <span class=\"placeholder\">|name</span> bar</p>\n *\n *\t\t// Model:\n *\t\t<paragraph>foo |<placeholder type=\"name\"></placeholder> bar</paragraph>\n *\n * @param {module:engine/model/model~Model} model Model instance on which the callback operates.\n * @param {Function} viewElementMatcher Function that is passed a view element and should return `true` if the custom mapping\n * should be applied to the given view element.\n * @return {Function}\n */\nexport function viewToModelPositionOutsideModelElement( model, viewElementMatcher ) {\n\treturn ( evt, data ) => {\n\t\tconst { mapper, viewPosition } = data;\n\n\t\tconst viewParent = mapper.findMappedViewAncestor( viewPosition );\n\n\t\tif ( !viewElementMatcher( viewParent ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst modelParent = mapper.toModelElement( viewParent );\n\n\t\tdata.modelPosition = model.createPositionAt( modelParent, viewPosition.isAtStart ? 'before' : 'after' );\n\t};\n}\n\n// Default filler offset function applied to all widget elements.\n//\n// @returns {null}\nfunction getFillerOffset() {\n\treturn null;\n}\n\n// Adds a drag handle to the widget.\n//\n// @param {module:engine/view/containerelement~ContainerElement}\n// @param {module:engine/view/downcastwriter~DowncastWriter} writer\nfunction addSelectionHandle( widgetElement, writer ) {\n\tconst selectionHandle = writer.createUIElement( 'div', { class: 'ck ck-widget__selection-handle' }, function( domDocument ) {\n\t\tconst domElement = this.toDomElement( domDocument );\n\n\t\t// Use the IconView from the ui library.\n\t\tconst icon = new IconView();\n\t\ticon.set( 'content', dragHandleIcon );\n\n\t\t// Render the icon view right away to append its #element to the selectionHandle DOM element.\n\t\ticon.render();\n\n\t\tdomElement.appendChild( icon.element );\n\n\t\treturn domElement;\n\t} );\n\n\t// Append the selection handle into the widget wrapper.\n\twriter.insert( writer.createPositionAt( widgetElement, 0 ), selectionHandle );\n\twriter.addClass( [ 'ck-widget_with-selection-handle' ], widgetElement );\n}\n"]}]}