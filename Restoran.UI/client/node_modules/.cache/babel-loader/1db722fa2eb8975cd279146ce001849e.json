{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\view\\observer\\fakeselectionobserver.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\view\\observer\\fakeselectionobserver.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1581760786382},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfZ2V0IGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZ2V0IjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKCi8qKgogKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAyMCwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cHM6Ly9ja2VkaXRvci5jb20vbGVnYWwvY2tlZGl0b3Itb3NzLWxpY2Vuc2UKICovCgovKioKICogQG1vZHVsZSBlbmdpbmUvdmlldy9vYnNlcnZlci9mYWtlc2VsZWN0aW9ub2JzZXJ2ZXIKICovCmltcG9ydCBPYnNlcnZlciBmcm9tICcuL29ic2VydmVyJzsKaW1wb3J0IFZpZXdTZWxlY3Rpb24gZnJvbSAnLi4vc2VsZWN0aW9uJzsKaW1wb3J0IHsga2V5Q29kZXMgfSBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9rZXlib2FyZCc7CmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnbG9kYXNoLWVzJzsKLyoqCiAqIEZha2Ugc2VsZWN0aW9uIG9ic2VydmVyIGNsYXNzLiBJZiB2aWV3IHNlbGVjdGlvbiBpcyBmYWtlIGl0IGlzIHBsYWNlZCBpbiBkdW1teSBET00gY29udGFpbmVyLiBUaGlzIG9ic2VydmVyIGxpc3RlbnMKICogb24ge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNldmVudDprZXlkb3duIGtleWRvd259IGV2ZW50cyBhbmQgaGFuZGxlcyBtb3ZpbmcgZmFrZSB2aWV3IHNlbGVjdGlvbiB0byB0aGUgY29ycmVjdCBwbGFjZQogKiBpZiBhcnJvdyBrZXlzIGFyZSBwcmVzc2VkLgogKiBGaXJlcyB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50fkRvY3VtZW50I2V2ZW50OnNlbGVjdGlvbkNoYW5nZSBzZWxlY3Rpb25DaGFuZ2UgZXZlbnR9IHNpbXVsYXRpbmcgbmF0dXJhbCBiZWhhdmlvdXIgb2YKICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9vYnNlcnZlci9zZWxlY3Rpb25vYnNlcnZlcn5TZWxlY3Rpb25PYnNlcnZlciBTZWxlY3Rpb25PYnNlcnZlcn0uCiAqCiAqIEBleHRlbmRzIG1vZHVsZTplbmdpbmUvdmlldy9vYnNlcnZlci9vYnNlcnZlcn5PYnNlcnZlcgogKi8KCnZhciBGYWtlU2VsZWN0aW9uT2JzZXJ2ZXIgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfT2JzZXJ2ZXIpIHsKICBfaW5oZXJpdHMoRmFrZVNlbGVjdGlvbk9ic2VydmVyLCBfT2JzZXJ2ZXIpOwoKICAvKioKICAgKiBDcmVhdGVzIG5ldyBGYWtlU2VsZWN0aW9uT2JzZXJ2ZXIgaW5zdGFuY2UuCiAgICoKICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy92aWV3flZpZXd9IHZpZXcKICAgKi8KICBmdW5jdGlvbiBGYWtlU2VsZWN0aW9uT2JzZXJ2ZXIodmlldykgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGYWtlU2VsZWN0aW9uT2JzZXJ2ZXIpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEZha2VTZWxlY3Rpb25PYnNlcnZlcikuY2FsbCh0aGlzLCB2aWV3KSk7CiAgICAvKioKICAgICAqIEZpcmVzIGRlYm91bmNlZCBldmVudCBgc2VsZWN0aW9uQ2hhbmdlRG9uZWAuIEl0IHVzZXMgYGxvZGFzaCNkZWJvdW5jZWAgbWV0aG9kIHRvIGRlbGF5IGZ1bmN0aW9uIGNhbGwuCiAgICAgKgogICAgICogQHByaXZhdGUKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFNlbGVjdGlvbiBjaGFuZ2UgZGF0YS4KICAgICAqIEBtZXRob2QgI19maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZAogICAgICovCgogICAgX3RoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkID0gZGVib3VuY2UoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLmRvY3VtZW50LmZpcmUoJ3NlbGVjdGlvbkNoYW5nZURvbmUnLCBkYXRhKTsKICAgIH0sIDIwMCk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoRmFrZVNlbGVjdGlvbk9ic2VydmVyLCBbewogICAga2V5OiAib2JzZXJ2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb2JzZXJ2ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZG9jdW1lbnQgPSB0aGlzLmRvY3VtZW50OwogICAgICBkb2N1bWVudC5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChldmVudEluZm8sIGRhdGEpIHsKICAgICAgICB2YXIgc2VsZWN0aW9uID0gZG9jdW1lbnQuc2VsZWN0aW9uOwoKICAgICAgICBpZiAoc2VsZWN0aW9uLmlzRmFrZSAmJiBfaXNBcnJvd0tleUNvZGUoZGF0YS5rZXlDb2RlKSAmJiBfdGhpczIuaXNFbmFibGVkKSB7CiAgICAgICAgICAvLyBQcmV2ZW50cyBkZWZhdWx0IGtleSBkb3duIGhhbmRsaW5nIC0gbm8gc2VsZWN0aW9uIGNoYW5nZSB3aWxsIG9jY3VyLgogICAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgIF90aGlzMi5faGFuZGxlU2VsZWN0aW9uTW92ZShkYXRhLmtleUNvZGUpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIHByaW9yaXR5OiAnbG93ZXN0JwogICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICogQGluaGVyaXREb2MKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJkZXN0cm95IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihGYWtlU2VsZWN0aW9uT2JzZXJ2ZXIucHJvdG90eXBlKSwgImRlc3Ryb3kiLCB0aGlzKS5jYWxsKHRoaXMpOwoKICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQuY2FuY2VsKCk7CiAgICB9CiAgICAvKioKICAgICAqIEhhbmRsZXMgY29sbGFwc2luZyB2aWV3IHNlbGVjdGlvbiBhY2NvcmRpbmcgdG8gZ2l2ZW4ga2V5IGNvZGUuIElmIGxlZnQgb3IgdXAga2V5IGlzIHByb3ZpZGVkIC0gbmV3IHNlbGVjdGlvbiB3aWxsIGJlCiAgICAgKiBjb2xsYXBzZWQgdG8gbGVmdC4gSWYgcmlnaHQgb3IgZG93biBrZXkgaXMgcHJlc3NlZCAtIG5ldyBzZWxlY3Rpb24gd2lsbCBiZSBjb2xsYXBzZWQgdG8gcmlnaHQuCiAgICAgKgogICAgICogVGhpcyBtZXRob2QgZmlyZXMge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNldmVudDpzZWxlY3Rpb25DaGFuZ2V9IGFuZAogICAgICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNldmVudDpzZWxlY3Rpb25DaGFuZ2VEb25lfSBldmVudHMgaW1pdGF0aW5nIGJlaGF2aW91ciBvZgogICAgICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9vYnNlcnZlci9zZWxlY3Rpb25vYnNlcnZlcn5TZWxlY3Rpb25PYnNlcnZlcn0uCiAgICAgKgogICAgICogQHByaXZhdGUKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBrZXlDb2RlCiAgICAgKiBAZmlyZXMgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50fkRvY3VtZW50I2V2ZW50OnNlbGVjdGlvbkNoYW5nZQogICAgICogQGZpcmVzIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNldmVudDpzZWxlY3Rpb25DaGFuZ2VEb25lCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX2hhbmRsZVNlbGVjdGlvbk1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVTZWxlY3Rpb25Nb3ZlKGtleUNvZGUpIHsKICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uOwogICAgICB2YXIgbmV3U2VsZWN0aW9uID0gbmV3IFZpZXdTZWxlY3Rpb24oc2VsZWN0aW9uLmdldFJhbmdlcygpLCB7CiAgICAgICAgYmFja3dhcmQ6IHNlbGVjdGlvbi5pc0JhY2t3YXJkLAogICAgICAgIGZha2U6IGZhbHNlCiAgICAgIH0pOyAvLyBMZWZ0IG9yIHVwIGFycm93IHByZXNzZWQgLSBtb3ZlIHNlbGVjdGlvbiB0byBzdGFydC4KCiAgICAgIGlmIChrZXlDb2RlID09IGtleUNvZGVzLmFycm93bGVmdCB8fCBrZXlDb2RlID09IGtleUNvZGVzLmFycm93dXApIHsKICAgICAgICBuZXdTZWxlY3Rpb24uc2V0VG8obmV3U2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSk7CiAgICAgIH0gLy8gUmlnaHQgb3IgZG93biBhcnJvdyBwcmVzc2VkIC0gbW92ZSBzZWxlY3Rpb24gdG8gZW5kLgoKCiAgICAgIGlmIChrZXlDb2RlID09IGtleUNvZGVzLmFycm93cmlnaHQgfHwga2V5Q29kZSA9PSBrZXlDb2Rlcy5hcnJvd2Rvd24pIHsKICAgICAgICBuZXdTZWxlY3Rpb24uc2V0VG8obmV3U2VsZWN0aW9uLmdldExhc3RQb3NpdGlvbigpKTsKICAgICAgfQoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgb2xkU2VsZWN0aW9uOiBzZWxlY3Rpb24sCiAgICAgICAgbmV3U2VsZWN0aW9uOiBuZXdTZWxlY3Rpb24sCiAgICAgICAgZG9tU2VsZWN0aW9uOiBudWxsCiAgICAgIH07IC8vIEZpcmUgZHVtbXkgc2VsZWN0aW9uIGNoYW5nZSBldmVudC4KCiAgICAgIHRoaXMuZG9jdW1lbnQuZmlyZSgnc2VsZWN0aW9uQ2hhbmdlJywgZGF0YSk7IC8vIENhbGxgICNfZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWRgIGV2ZXJ5IHRpbWUgd2hlbiBgc2VsZWN0aW9uQ2hhbmdlYCBldmVudCBpcyBmaXJlZC4KICAgICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBkZWJvdW5jZWQgd2hhdCBtZWFucyB0aGF0IGBzZWxlY3Rpb25DaGFuZ2VEb25lYCBldmVudCB3aWxsIGJlIGZpcmVkIG9ubHkgd2hlbgogICAgICAvLyBkZWZpbmVkIGludCB0aGUgZnVuY3Rpb24gdGltZSB3aWxsIGVsYXBzZSBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBmdW5jdGlvbiB3YXMgY2FsbGVkLgogICAgICAvLyBTbyBgc2VsZWN0aW9uQ2hhbmdlRG9uZWAgd2lsbCBiZSBmaXJlZCB3aGVuIHNlbGVjdGlvbiB3aWxsIHN0b3AgY2hhbmdpbmcuCgogICAgICB0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZChkYXRhKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBGYWtlU2VsZWN0aW9uT2JzZXJ2ZXI7Cn0oT2JzZXJ2ZXIpOyAvLyBDaGVja3MgaWYgb25lIG9mIHRoZSBhcnJvdyBrZXlzIGlzIHByZXNzZWQuCi8vCi8vIEBwcml2YXRlCi8vIEBwYXJhbSB7TnVtYmVyfSBrZXlDb2RlCi8vIEByZXR1cm5zIHtCb29sZWFufQoKCmV4cG9ydCB7IEZha2VTZWxlY3Rpb25PYnNlcnZlciBhcyBkZWZhdWx0IH07CgpmdW5jdGlvbiBfaXNBcnJvd0tleUNvZGUoa2V5Q29kZSkgewogIHJldHVybiBrZXlDb2RlID09IGtleUNvZGVzLmFycm93cmlnaHQgfHwga2V5Q29kZSA9PSBrZXlDb2Rlcy5hcnJvd2xlZnQgfHwga2V5Q29kZSA9PSBrZXlDb2Rlcy5hcnJvd3VwIHx8IGtleUNvZGUgPT0ga2V5Q29kZXMuYXJyb3dkb3duOwp9"},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-engine/src/view/observer/fakeselectionobserver.js"],"names":["Observer","ViewSelection","keyCodes","debounce","FakeSelectionObserver","view","_fireSelectionChangeDoneDebounced","data","document","fire","on","eventInfo","selection","isFake","_isArrowKeyCode","keyCode","isEnabled","preventDefault","_handleSelectionMove","priority","cancel","newSelection","getRanges","backward","isBackward","fake","arrowleft","arrowup","setTo","getFirstPosition","arrowright","arrowdown","getLastPosition","oldSelection","domSelection"],"mappings":";;;;;;;AAAA;;;;;AAKA;;;AAIA,OAAOA,QAAP,MAAqB,YAArB;AACA,OAAOC,aAAP,MAA0B,cAA1B;AACA,SAASC,QAAT,QAAyB,wCAAzB;AACA,SAASC,QAAT,QAAyB,WAAzB;AAEA;;;;;;;;;;IASqBC,qB;;;;;AACpB;;;;;AAKA,iCAAaC,IAAb,EAAoB;AAAA;;AAAA;;AACnB,+FAAOA,IAAP;AAEA;;;;;;;;AAOA,UAAKC,iCAAL,GAAyCH,QAAQ,CAAE,UAAAI,IAAI;AAAA,aAAI,MAAKC,QAAL,CAAcC,IAAd,CAAoB,qBAApB,EAA2CF,IAA3C,CAAJ;AAAA,KAAN,EAA6D,GAA7D,CAAjD;AAVmB;AAWnB;AAED;;;;;;;8BAGU;AAAA;;AACT,UAAMC,QAAQ,GAAG,KAAKA,QAAtB;AAEAA,MAAAA,QAAQ,CAACE,EAAT,CAAa,SAAb,EAAwB,UAAEC,SAAF,EAAaJ,IAAb,EAAuB;AAC9C,YAAMK,SAAS,GAAGJ,QAAQ,CAACI,SAA3B;;AAEA,YAAKA,SAAS,CAACC,MAAV,IAAoBC,eAAe,CAAEP,IAAI,CAACQ,OAAP,CAAnC,IAAuD,MAAI,CAACC,SAAjE,EAA6E;AAC5E;AACAT,UAAAA,IAAI,CAACU,cAAL;;AAEA,UAAA,MAAI,CAACC,oBAAL,CAA2BX,IAAI,CAACQ,OAAhC;AACA;AACD,OATD,EASG;AAAEI,QAAAA,QAAQ,EAAE;AAAZ,OATH;AAUA;AAED;;;;;;8BAGU;AACT;;AAEA,WAAKb,iCAAL,CAAuCc,MAAvC;AACA;AAED;;;;;;;;;;;;;;;;yCAasBL,O,EAAU;AAC/B,UAAMH,SAAS,GAAG,KAAKJ,QAAL,CAAcI,SAAhC;AACA,UAAMS,YAAY,GAAG,IAAIpB,aAAJ,CAAmBW,SAAS,CAACU,SAAV,EAAnB,EAA0C;AAAEC,QAAAA,QAAQ,EAAEX,SAAS,CAACY,UAAtB;AAAkCC,QAAAA,IAAI,EAAE;AAAxC,OAA1C,CAArB,CAF+B,CAI/B;;AACA,UAAKV,OAAO,IAAIb,QAAQ,CAACwB,SAApB,IAAiCX,OAAO,IAAIb,QAAQ,CAACyB,OAA1D,EAAoE;AACnEN,QAAAA,YAAY,CAACO,KAAb,CAAoBP,YAAY,CAACQ,gBAAb,EAApB;AACA,OAP8B,CAS/B;;;AACA,UAAKd,OAAO,IAAIb,QAAQ,CAAC4B,UAApB,IAAkCf,OAAO,IAAIb,QAAQ,CAAC6B,SAA3D,EAAuE;AACtEV,QAAAA,YAAY,CAACO,KAAb,CAAoBP,YAAY,CAACW,eAAb,EAApB;AACA;;AAED,UAAMzB,IAAI,GAAG;AACZ0B,QAAAA,YAAY,EAAErB,SADF;AAEZS,QAAAA,YAAY,EAAZA,YAFY;AAGZa,QAAAA,YAAY,EAAE;AAHF,OAAb,CAd+B,CAoB/B;;AACA,WAAK1B,QAAL,CAAcC,IAAd,CAAoB,iBAApB,EAAuCF,IAAvC,EArB+B,CAuB/B;AACA;AACA;AACA;;AACA,WAAKD,iCAAL,CAAwCC,IAAxC;AACA;;;;EAvFiDP,Q,GA0FnD;AACA;AACA;AACA;AACA;;;SA9FqBI,qB;;AA+FrB,SAASU,eAAT,CAA0BC,OAA1B,EAAoC;AACnC,SAAOA,OAAO,IAAIb,QAAQ,CAAC4B,UAApB,IACNf,OAAO,IAAIb,QAAQ,CAACwB,SADd,IAENX,OAAO,IAAIb,QAAQ,CAACyB,OAFd,IAGNZ,OAAO,IAAIb,QAAQ,CAAC6B,SAHrB;AAIA","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/view/observer/fakeselectionobserver\n */\n\nimport Observer from './observer';\nimport ViewSelection from '../selection';\nimport { keyCodes } from '@ckeditor/ckeditor5-utils/src/keyboard';\nimport { debounce } from 'lodash-es';\n\n/**\n * Fake selection observer class. If view selection is fake it is placed in dummy DOM container. This observer listens\n * on {@link module:engine/view/document~Document#event:keydown keydown} events and handles moving fake view selection to the correct place\n * if arrow keys are pressed.\n * Fires {@link module:engine/view/document~Document#event:selectionChange selectionChange event} simulating natural behaviour of\n * {@link module:engine/view/observer/selectionobserver~SelectionObserver SelectionObserver}.\n *\n * @extends module:engine/view/observer/observer~Observer\n */\nexport default class FakeSelectionObserver extends Observer {\n\t/**\n\t * Creates new FakeSelectionObserver instance.\n\t *\n\t * @param {module:engine/view/view~View} view\n\t */\n\tconstructor( view ) {\n\t\tsuper( view );\n\n\t\t/**\n\t\t * Fires debounced event `selectionChangeDone`. It uses `lodash#debounce` method to delay function call.\n\t\t *\n\t\t * @private\n\t\t * @param {Object} data Selection change data.\n\t\t * @method #_fireSelectionChangeDoneDebounced\n\t\t */\n\t\tthis._fireSelectionChangeDoneDebounced = debounce( data => this.document.fire( 'selectionChangeDone', data ), 200 );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tobserve() {\n\t\tconst document = this.document;\n\n\t\tdocument.on( 'keydown', ( eventInfo, data ) => {\n\t\t\tconst selection = document.selection;\n\n\t\t\tif ( selection.isFake && _isArrowKeyCode( data.keyCode ) && this.isEnabled ) {\n\t\t\t\t// Prevents default key down handling - no selection change will occur.\n\t\t\t\tdata.preventDefault();\n\n\t\t\t\tthis._handleSelectionMove( data.keyCode );\n\t\t\t}\n\t\t}, { priority: 'lowest' } );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdestroy() {\n\t\tsuper.destroy();\n\n\t\tthis._fireSelectionChangeDoneDebounced.cancel();\n\t}\n\n\t/**\n\t * Handles collapsing view selection according to given key code. If left or up key is provided - new selection will be\n\t * collapsed to left. If right or down key is pressed - new selection will be collapsed to right.\n\t *\n\t * This method fires {@link module:engine/view/document~Document#event:selectionChange} and\n\t * {@link module:engine/view/document~Document#event:selectionChangeDone} events imitating behaviour of\n\t * {@link module:engine/view/observer/selectionobserver~SelectionObserver}.\n\t *\n\t * @private\n\t * @param {Number} keyCode\n\t * @fires module:engine/view/document~Document#event:selectionChange\n\t * @fires module:engine/view/document~Document#event:selectionChangeDone\n\t */\n\t_handleSelectionMove( keyCode ) {\n\t\tconst selection = this.document.selection;\n\t\tconst newSelection = new ViewSelection( selection.getRanges(), { backward: selection.isBackward, fake: false } );\n\n\t\t// Left or up arrow pressed - move selection to start.\n\t\tif ( keyCode == keyCodes.arrowleft || keyCode == keyCodes.arrowup ) {\n\t\t\tnewSelection.setTo( newSelection.getFirstPosition() );\n\t\t}\n\n\t\t// Right or down arrow pressed - move selection to end.\n\t\tif ( keyCode == keyCodes.arrowright || keyCode == keyCodes.arrowdown ) {\n\t\t\tnewSelection.setTo( newSelection.getLastPosition() );\n\t\t}\n\n\t\tconst data = {\n\t\t\toldSelection: selection,\n\t\t\tnewSelection,\n\t\t\tdomSelection: null\n\t\t};\n\n\t\t// Fire dummy selection change event.\n\t\tthis.document.fire( 'selectionChange', data );\n\n\t\t// Call` #_fireSelectionChangeDoneDebounced` every time when `selectionChange` event is fired.\n\t\t// This function is debounced what means that `selectionChangeDone` event will be fired only when\n\t\t// defined int the function time will elapse since the last time the function was called.\n\t\t// So `selectionChangeDone` will be fired when selection will stop changing.\n\t\tthis._fireSelectionChangeDoneDebounced( data );\n\t}\n}\n\n// Checks if one of the arrow keys is pressed.\n//\n// @private\n// @param {Number} keyCode\n// @returns {Boolean}\nfunction _isArrowKeyCode( keyCode ) {\n\treturn keyCode == keyCodes.arrowright ||\n\t\tkeyCode == keyCodes.arrowleft ||\n\t\tkeyCode == keyCodes.arrowup ||\n\t\tkeyCode == keyCodes.arrowdown;\n}\n\n"]}]}