{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\model\\element.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\model\\element.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLnRvLWpzb24iOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9nZXQgZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwoKLyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDIwLCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGVuZ2luZS9tb2RlbC9lbGVtZW50CiAqLwppbXBvcnQgTm9kZSBmcm9tICcuL25vZGUnOwppbXBvcnQgTm9kZUxpc3QgZnJvbSAnLi9ub2RlbGlzdCc7CmltcG9ydCBUZXh0IGZyb20gJy4vdGV4dCc7CmltcG9ydCBUZXh0UHJveHkgZnJvbSAnLi90ZXh0cHJveHknOwppbXBvcnQgaXNJdGVyYWJsZSBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9pc2l0ZXJhYmxlJzsgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyBjb25zdCB7IHN0cmluZ2lmeU1hcCwgY29udmVydE1hcFRvU3RyaW5naWZpZWRPYmplY3QsIGNvbnZlcnRNYXBUb1RhZ3MgfSA9IHJlcXVpcmUoICcuLi9kZXYtdXRpbHMvdXRpbHMnICk7CgovKioKICogTW9kZWwgZWxlbWVudC4gVHlwZSBvZiB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGUgbm9kZX0gdGhhdCBoYXMgYSB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9lbGVtZW50fkVsZW1lbnQjbmFtZSBuYW1lfSBhbmQKICoge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvZWxlbWVudH5FbGVtZW50I2dldENoaWxkcmVuIGNoaWxkIG5vZGVzfS4KICoKICogKipJbXBvcnRhbnQqKjogc2VlIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZX0gdG8gcmVhZCBhYm91dCByZXN0cmljdGlvbnMgdXNpbmcgYEVsZW1lbnRgIGFuZCBgTm9kZWAgQVBJLgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZQogKi8KCnZhciBFbGVtZW50ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX05vZGUpIHsKICBfaW5oZXJpdHMoRWxlbWVudCwgX05vZGUpOwoKICAvKioKICAgKiBDcmVhdGVzIGEgbW9kZWwgZWxlbWVudC4KICAgKgogICAqICoqTm90ZToqKiBDb25zdHJ1Y3RvciBvZiB0aGlzIGNsYXNzIHNob3VsZG4ndCBiZSB1c2VkIGRpcmVjdGx5IGluIHRoZSBjb2RlLgogICAqIFVzZSB0aGUge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvd3JpdGVyfldyaXRlciNjcmVhdGVFbGVtZW50fSBtZXRob2QgaW5zdGVhZC4KICAgKgogICAqIEBwcm90ZWN0ZWQKICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBFbGVtZW50J3MgbmFtZS4KICAgKiBAcGFyYW0ge09iamVjdH0gW2F0dHJzXSBFbGVtZW50J3MgYXR0cmlidXRlcy4gU2VlIHtAbGluayBtb2R1bGU6dXRpbHMvdG9tYXB+dG9NYXB9IGZvciBhIGxpc3Qgb2YgYWNjZXB0ZWQgdmFsdWVzLgogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGV8SXRlcmFibGUuPG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlPn0gW2NoaWxkcmVuXQogICAqIE9uZSBvciBtb3JlIG5vZGVzIHRvIGJlIGluc2VydGVkIGFzIGNoaWxkcmVuIG9mIGNyZWF0ZWQgZWxlbWVudC4KICAgKi8KICBmdW5jdGlvbiBFbGVtZW50KG5hbWUsIGF0dHJzLCBjaGlsZHJlbikgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbGVtZW50KTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihFbGVtZW50KS5jYWxsKHRoaXMsIGF0dHJzKSk7CiAgICAvKioKICAgICAqIEVsZW1lbnQgbmFtZS4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge1N0cmluZ30gbW9kdWxlOmVuZ2luZS9tb2RlbC9lbGVtZW50fkVsZW1lbnQjbmFtZQogICAgICovCgogICAgX3RoaXMubmFtZSA9IG5hbWU7CiAgICAvKioKICAgICAqIExpc3Qgb2YgY2hpbGRyZW4gbm9kZXMuCiAgICAgKgogICAgICogQHByaXZhdGUKICAgICAqIEBtZW1iZXIge21vZHVsZTplbmdpbmUvbW9kZWwvbm9kZWxpc3R+Tm9kZUxpc3R9IG1vZHVsZTplbmdpbmUvbW9kZWwvZWxlbWVudH5FbGVtZW50I19jaGlsZHJlbgogICAgICovCgogICAgX3RoaXMuX2NoaWxkcmVuID0gbmV3IE5vZGVMaXN0KCk7CgogICAgaWYgKGNoaWxkcmVuKSB7CiAgICAgIF90aGlzLl9pbnNlcnRDaGlsZCgwLCBjaGlsZHJlbik7CiAgICB9CgogICAgcmV0dXJuIF90aGlzOwogIH0KICAvKioKICAgKiBOdW1iZXIgb2YgdGhpcyBlbGVtZW50J3MgY2hpbGRyZW4uCiAgICoKICAgKiBAcmVhZG9ubHkKICAgKiBAdHlwZSB7TnVtYmVyfQogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEVsZW1lbnQsIFt7CiAgICBrZXk6ICJpcyIsCgogICAgLyoqCiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGlzIG9iamVjdCBpcyBvZiB0aGUgZ2l2ZW4uCiAgICAgKgogICAgICoJCWVsZW1lbnQuaXMoICdlbGVtZW50JyApOyAvLyAtPiB0cnVlCiAgICAgKgkJZWxlbWVudC5pcyggJ25vZGUnICk7IC8vIC0+IHRydWUKICAgICAqCQllbGVtZW50LmlzKCAnbW9kZWw6ZWxlbWVudCcgKTsgLy8gLT4gdHJ1ZQogICAgICoJCWVsZW1lbnQuaXMoICdtb2RlbDpub2RlJyApOyAvLyAtPiB0cnVlCiAgICAgKgogICAgICoJCWVsZW1lbnQuaXMoICd2aWV3OmVsZW1lbnQnICk7IC8vIC0+IGZhbHNlCiAgICAgKgkJZWxlbWVudC5pcyggJ2RvY3VtZW50U2VsZWN0aW9uJyApOyAvLyAtPiBmYWxzZQogICAgICoKICAgICAqIEFzc3VtaW5nIHRoYXQgdGhlIG9iamVjdCBiZWluZyBjaGVja2VkIGlzIGFuIGVsZW1lbnQsIHlvdSBjYW4gYWxzbyBjaGVjayBpdHMKICAgICAqIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL2VsZW1lbnR+RWxlbWVudCNuYW1lIG5hbWV9OgogICAgICoKICAgICAqCQllbGVtZW50LmlzKCAnaW1hZ2UnICk7IC8vIC0+IHRydWUgaWYgdGhpcyBpcyBhbiA8aW1hZ2U+IGVsZW1lbnQKICAgICAqCQllbGVtZW50LmlzKCAnZWxlbWVudCcsICdpbWFnZScgKTsgLy8gLT4gc2FtZSBhcyBhYm92ZQogICAgICoJCXRleHQuaXMoICdpbWFnZScgKTsgLT4gZmFsc2UKICAgICAqCiAgICAgKiB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGUjaXMgQ2hlY2sgdGhlIGVudGlyZSBsaXN0IG9mIG1vZGVsIG9iamVjdHN9IHdoaWNoIGltcGxlbWVudCB0aGUgYGlzKClgIG1ldGhvZC4KICAgICAqCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIHRvIGNoZWNrIHdoZW4gYG5hbWVgIHBhcmFtZXRlciBpcyBwcmVzZW50LgogICAgICogT3RoZXJ3aXNlLCBpdCBhY3RzIGxpa2UgdGhlIGBuYW1lYCBwYXJhbWV0ZXIuCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIEVsZW1lbnQgbmFtZS4KICAgICAqIEByZXR1cm5zIHtCb29sZWFufQogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gaXModHlwZSkgewogICAgICB2YXIgbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDsKICAgICAgdmFyIGN1dFR5cGUgPSB0eXBlLnJlcGxhY2UoL15tb2RlbDovLCAnJyk7CgogICAgICBpZiAoIW5hbWUpIHsKICAgICAgICByZXR1cm4gY3V0VHlwZSA9PSAnZWxlbWVudCcgfHwgY3V0VHlwZSA9PSB0aGlzLm5hbWUgfHwgX2dldChfZ2V0UHJvdG90eXBlT2YoRWxlbWVudC5wcm90b3R5cGUpLCAiaXMiLCB0aGlzKS5jYWxsKHRoaXMsIHR5cGUpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBjdXRUeXBlID09ICdlbGVtZW50JyAmJiBuYW1lID09IHRoaXMubmFtZTsKICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiBHZXRzIHRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXguCiAgICAgKgogICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IEluZGV4IG9mIGNoaWxkLgogICAgICogQHJldHVybnMge21vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlfSBDaGlsZCBub2RlLgogICAgICovCgogIH0sIHsKICAgIGtleTogImdldENoaWxkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDaGlsZChpbmRleCkgewogICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZShpbmRleCk7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgYW4gaXRlcmF0b3IgdGhhdCBpdGVyYXRlcyBvdmVyIGFsbCBvZiB0aGlzIGVsZW1lbnQncyBjaGlsZHJlbi4KICAgICAqCiAgICAgKiBAcmV0dXJucyB7SXRlcmFibGUuPG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlPn0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRDaGlsZHJlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2hpbGRyZW4oKSB7CiAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgYW4gaW5kZXggb2YgdGhlIGdpdmVuIGNoaWxkIG5vZGUuIFJldHVybnMgYG51bGxgIGlmIGdpdmVuIG5vZGUgaXMgbm90IGEgY2hpbGQgb2YgdGhpcyBlbGVtZW50LgogICAgICoKICAgICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGV9IG5vZGUgQ2hpbGQgbm9kZSB0byBsb29rIGZvci4KICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IENoaWxkIG5vZGUncyBpbmRleCBpbiB0aGlzIGVsZW1lbnQuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0Q2hpbGRJbmRleCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2hpbGRJbmRleChub2RlKSB7CiAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlSW5kZXgobm9kZSk7CiAgICB9CiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHN0YXJ0aW5nIG9mZnNldCBvZiBnaXZlbiBjaGlsZC4gU3RhcnRpbmcgb2Zmc2V0IGlzIGVxdWFsIHRvIHRoZSBzdW0gb2YKICAgICAqIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZSNvZmZzZXRTaXplIG9mZnNldCBzaXplc30gb2YgYWxsIG5vZGUncyBzaWJsaW5ncyB0aGF0IGFyZSBiZWZvcmUgaXQuIFJldHVybnMgYG51bGxgIGlmCiAgICAgKiBnaXZlbiBub2RlIGlzIG5vdCBhIGNoaWxkIG9mIHRoaXMgZWxlbWVudC4KICAgICAqCiAgICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlfSBub2RlIENoaWxkIG5vZGUgdG8gbG9vayBmb3IuCiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBDaGlsZCBub2RlJ3Mgc3RhcnRpbmcgb2Zmc2V0LgogICAgICovCgogIH0sIHsKICAgIGtleTogImdldENoaWxkU3RhcnRPZmZzZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoaWxkU3RhcnRPZmZzZXQobm9kZSkgewogICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZVN0YXJ0T2Zmc2V0KG5vZGUpOwogICAgfQogICAgLyoqCiAgICAgKiBSZXR1cm5zIGluZGV4IG9mIGEgbm9kZSB0aGF0IG9jY3VwaWVzIGdpdmVuIG9mZnNldC4gSWYgZ2l2ZW4gb2Zmc2V0IGlzIHRvbyBsb3csIHJldHVybnMgYDBgLiBJZiBnaXZlbiBvZmZzZXQgaXMKICAgICAqIHRvbyBoaWdoLCByZXR1cm5zIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL2VsZW1lbnR+RWxlbWVudCNnZXRDaGlsZEluZGV4IGluZGV4IGFmdGVyIGxhc3QgY2hpbGR9LgogICAgICoKICAgICAqCQljb25zdCB0ZXh0Tm9kZSA9IG5ldyBUZXh0KCAnZm9vJyApOwogICAgICoJCWNvbnN0IHBFbGVtZW50ID0gbmV3IEVsZW1lbnQoICdwJyApOwogICAgICoJCWNvbnN0IGRpdkVsZW1lbnQgPSBuZXcgRWxlbWVudCggWyB0ZXh0Tm9kZSwgcEVsZW1lbnQgXSApOwogICAgICoJCWRpdkVsZW1lbnQub2Zmc2V0VG9JbmRleCggLTEgKTsgLy8gUmV0dXJucyAwLCBiZWNhdXNlIG9mZnNldCBpcyB0b28gbG93LgogICAgICoJCWRpdkVsZW1lbnQub2Zmc2V0VG9JbmRleCggMCApOyAvLyBSZXR1cm5zIDAsIGJlY2F1c2Ugb2Zmc2V0IDAgaXMgdGFrZW4gYnkgYHRleHROb2RlYCB3aGljaCBpcyBhdCBpbmRleCAwLgogICAgICoJCWRpdkVsZW1lbnQub2Zmc2V0VG9JbmRleCggMSApOyAvLyBSZXR1cm5zIDAsIGJlY2F1c2UgYHRleHROb2RlYCBoYXMgYG9mZnNldFNpemVgIGVxdWFsIHRvIDMsIHNvIGl0IG9jY3VwaWVzIG9mZnNldCAxIHRvby4KICAgICAqCQlkaXZFbGVtZW50Lm9mZnNldFRvSW5kZXgoIDIgKTsgLy8gUmV0dXJucyAwLgogICAgICoJCWRpdkVsZW1lbnQub2Zmc2V0VG9JbmRleCggMyApOyAvLyBSZXR1cm5zIDEuCiAgICAgKgkJZGl2RWxlbWVudC5vZmZzZXRUb0luZGV4KCA0ICk7IC8vIFJldHVybnMgMi4gVGhlcmUgYXJlIG5vIG5vZGVzIGF0IG9mZnNldCA0LCBzbyBsYXN0IGF2YWlsYWJsZSBpbmRleCBpcyByZXR1cm5lZC4KICAgICAqCiAgICAgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IE9mZnNldCB0byBsb29rIGZvci4KICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib2Zmc2V0VG9JbmRleCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb2Zmc2V0VG9JbmRleChvZmZzZXQpIHsKICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLm9mZnNldFRvSW5kZXgob2Zmc2V0KTsKICAgIH0KICAgIC8qKgogICAgICogUmV0dXJucyBhIGRlc2NlbmRhbnQgbm9kZSBieSBpdHMgcGF0aCByZWxhdGl2ZSB0byB0aGlzIGVsZW1lbnQuCiAgICAgKgogICAgICoJCS8vIDx0aGlzPmE8Yj5jPC9iPjwvdGhpcz4KICAgICAqCQl0aGlzLmdldE5vZGVCeVBhdGgoIFsgMCBdICk7ICAgICAvLyAtPiAiYSIKICAgICAqCQl0aGlzLmdldE5vZGVCeVBhdGgoIFsgMSBdICk7ICAgICAvLyAtPiA8Yj4KICAgICAqCQl0aGlzLmdldE5vZGVCeVBhdGgoIFsgMSwgMCBdICk7ICAvLyAtPiAiYyIKICAgICAqCiAgICAgKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSByZWxhdGl2ZVBhdGggUGF0aCBvZiB0aGUgbm9kZSB0byBmaW5kLCByZWxhdGl2ZSB0byB0aGlzIGVsZW1lbnQuCiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGV9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0Tm9kZUJ5UGF0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Tm9kZUJ5UGF0aChyZWxhdGl2ZVBhdGgpIHsKICAgICAgdmFyIG5vZGUgPSB0aGlzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtdGhpcwoKICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTsKICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSByZWxhdGl2ZVBhdGhbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7CiAgICAgICAgICB2YXIgaW5kZXggPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIG5vZGUgPSBub2RlLmdldENoaWxkKG5vZGUub2Zmc2V0VG9JbmRleChpbmRleCkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgIH0KICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CiAgICAvKioKICAgICAqIENvbnZlcnRzIGBFbGVtZW50YCBpbnN0YW5jZSB0byBwbGFpbiBvYmplY3QgYW5kIHJldHVybnMgaXQuIFRha2VzIGNhcmUgb2YgY29udmVydGluZyBhbGwgb2YgdGhpcyBlbGVtZW50J3MgY2hpbGRyZW4uCiAgICAgKgogICAgICogQHJldHVybnMge09iamVjdH0gYEVsZW1lbnRgIGluc3RhbmNlIGNvbnZlcnRlZCB0byBwbGFpbiBvYmplY3QuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidG9KU09OIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0pTT04oKSB7CiAgICAgIHZhciBqc29uID0gX2dldChfZ2V0UHJvdG90eXBlT2YoRWxlbWVudC5wcm90b3R5cGUpLCAidG9KU09OIiwgdGhpcykuY2FsbCh0aGlzKTsKCiAgICAgIGpzb24ubmFtZSA9IHRoaXMubmFtZTsKCiAgICAgIGlmICh0aGlzLl9jaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAganNvbi5jaGlsZHJlbiA9IFtdOwogICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7CiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlOwogICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHsKICAgICAgICAgICAgdmFyIG5vZGUgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgIGpzb24uY2hpbGRyZW4ucHVzaChub2RlLnRvSlNPTigpKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7CiAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHsKICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBqc29uOwogICAgfQogICAgLyoqCiAgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGlzIGVsZW1lbnQgYW5kIHJldHVybnMgaXQuIENyZWF0ZWQgZWxlbWVudCBoYXMgdGhlIHNhbWUgbmFtZSBhbmQgYXR0cmlidXRlcyBhcyB0aGUgb3JpZ2luYWwgZWxlbWVudC4KICAgICAqIElmIGNsb25lIGlzIGRlZXAsIHRoZSBvcmlnaW5hbCBlbGVtZW50J3MgY2hpbGRyZW4gYXJlIGFsc28gY2xvbmVkLiBJZiBub3QsIHRoZW4gZW1wdHkgZWxlbWVudCBpcyByZW1vdmVkLgogICAgICoKICAgICAqIEBwcm90ZWN0ZWQKICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2RlZXA9ZmFsc2VdIElmIHNldCB0byBgdHJ1ZWAgY2xvbmVzIGVsZW1lbnQgYW5kIGFsbCBpdHMgY2hpbGRyZW4gcmVjdXJzaXZlbHkuIFdoZW4gc2V0IHRvIGBmYWxzZWAsCiAgICAgKiBlbGVtZW50IHdpbGwgYmUgY2xvbmVkIHdpdGhvdXQgYW55IGNoaWxkLgogICAgICovCgogIH0sIHsKICAgIGtleTogIl9jbG9uZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2Nsb25lKCkgewogICAgICB2YXIgZGVlcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZmFsc2U7CiAgICAgIHZhciBjaGlsZHJlbiA9IGRlZXAgPyBBcnJheS5mcm9tKHRoaXMuX2NoaWxkcmVuKS5tYXAoZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICByZXR1cm4gbm9kZS5fY2xvbmUodHJ1ZSk7CiAgICAgIH0pIDogbnVsbDsKICAgICAgcmV0dXJuIG5ldyBFbGVtZW50KHRoaXMubmFtZSwgdGhpcy5nZXRBdHRyaWJ1dGVzKCksIGNoaWxkcmVuKTsKICAgIH0KICAgIC8qKgogICAgICoge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvZWxlbWVudH5FbGVtZW50I19pbnNlcnRDaGlsZCBJbnNlcnRzfSBvbmUgb3IgbW9yZSBub2RlcyBhdCB0aGUgZW5kIG9mIHRoaXMgZWxlbWVudC4KICAgICAqCiAgICAgKiBAc2VlIG1vZHVsZTplbmdpbmUvbW9kZWwvd3JpdGVyfldyaXRlciNhcHBlbmQKICAgICAqIEBwcm90ZWN0ZWQKICAgICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9pdGVtfkl0ZW18SXRlcmFibGUuPG1vZHVsZTplbmdpbmUvbW9kZWwvaXRlbX5JdGVtPn0gbm9kZXMgTm9kZXMgdG8gYmUgaW5zZXJ0ZWQuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX2FwcGVuZENoaWxkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kQ2hpbGQobm9kZXMpIHsKICAgICAgdGhpcy5faW5zZXJ0Q2hpbGQodGhpcy5jaGlsZENvdW50LCBub2Rlcyk7CiAgICB9CiAgICAvKioKICAgICAqIEluc2VydHMgb25lIG9yIG1vcmUgbm9kZXMgYXQgdGhlIGdpdmVuIGluZGV4IGFuZCBzZXRzIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZSNwYXJlbnQgcGFyZW50fSBvZiB0aGVzZSBub2RlcwogICAgICogdG8gdGhpcyBlbGVtZW50LgogICAgICoKICAgICAqIEBzZWUgbW9kdWxlOmVuZ2luZS9tb2RlbC93cml0ZXJ+V3JpdGVyI2luc2VydAogICAgICogQHByb3RlY3RlZAogICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IEluZGV4IGF0IHdoaWNoIG5vZGVzIHNob3VsZCBiZSBpbnNlcnRlZC4KICAgICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9pdGVtfkl0ZW18SXRlcmFibGUuPG1vZHVsZTplbmdpbmUvbW9kZWwvaXRlbX5JdGVtPn0gaXRlbXMgSXRlbXMgdG8gYmUgaW5zZXJ0ZWQuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX2luc2VydENoaWxkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5zZXJ0Q2hpbGQoaW5kZXgsIGl0ZW1zKSB7CiAgICAgIHZhciBub2RlcyA9IG5vcm1hbGl6ZShpdGVtcyk7CiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7CiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTsKICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IG5vZGVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7CiAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwMy52YWx1ZTsKCiAgICAgICAgICAvLyBJZiBub2RlIHRoYXQgaXMgYmVpbmcgYWRkZWQgdG8gdGhpcyBlbGVtZW50IGlzIGFscmVhZHkgaW5zaWRlIGFub3RoZXIgZWxlbWVudCwgZmlyc3QgcmVtb3ZlIGl0IGZyb20gdGhlIG9sZCBwYXJlbnQuCiAgICAgICAgICBpZiAobm9kZS5wYXJlbnQgIT09IG51bGwpIHsKICAgICAgICAgICAgbm9kZS5fcmVtb3ZlKCk7CiAgICAgICAgICB9CgogICAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTsKICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpOwogICAgICAgICAgfQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7CiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuX2NoaWxkcmVuLl9pbnNlcnROb2RlcyhpbmRleCwgbm9kZXMpOwogICAgfQogICAgLyoqCiAgICAgKiBSZW1vdmVzIG9uZSBvciBtb3JlIG5vZGVzIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBpbmRleCBhbmQgc2V0cwogICAgICoge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlI3BhcmVudCBwYXJlbnR9IG9mIHRoZXNlIG5vZGVzIHRvIGBudWxsYC4KICAgICAqCiAgICAgKiBAc2VlIG1vZHVsZTplbmdpbmUvbW9kZWwvd3JpdGVyfldyaXRlciNyZW1vdmUKICAgICAqIEBwcm90ZWN0ZWQKICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBJbmRleCBvZiB0aGUgZmlyc3Qgbm9kZSB0byByZW1vdmUuCiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2hvd01hbnk9MV0gTnVtYmVyIG9mIG5vZGVzIHRvIHJlbW92ZS4KICAgICAqIEByZXR1cm5zIHtBcnJheS48bW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGU+fSBBcnJheSBjb250YWluaW5nIHJlbW92ZWQgbm9kZXMuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX3JlbW92ZUNoaWxkcmVuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlQ2hpbGRyZW4oaW5kZXgpIHsKICAgICAgdmFyIGhvd01hbnkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDE7CgogICAgICB2YXIgbm9kZXMgPSB0aGlzLl9jaGlsZHJlbi5fcmVtb3ZlTm9kZXMoaW5kZXgsIGhvd01hbnkpOwoKICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTsKICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlOwogICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gbm9kZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHsKICAgICAgICAgIHZhciBub2RlID0gX3N0ZXA0LnZhbHVlOwogICAgICAgICAgbm9kZS5wYXJlbnQgPSBudWxsOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTsKICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpOwogICAgICAgICAgfQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7CiAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBub2RlczsKICAgIH0KICAgIC8qKgogICAgICogQ3JlYXRlcyBhbiBgRWxlbWVudGAgaW5zdGFuY2UgZnJvbSBnaXZlbiBwbGFpbiBvYmplY3QgKGkuZS4gcGFyc2VkIEpTT04gc3RyaW5nKS4KICAgICAqIENvbnZlcnRzIGBFbGVtZW50YCBjaGlsZHJlbiB0byBwcm9wZXIgbm9kZXMuCiAgICAgKgogICAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gUGxhaW4gb2JqZWN0IHRvIGJlIGNvbnZlcnRlZCB0byBgRWxlbWVudGAuCiAgICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS9tb2RlbC9lbGVtZW50fkVsZW1lbnR9IGBFbGVtZW50YCBpbnN0YW5jZSBjcmVhdGVkIHVzaW5nIGdpdmVuIHBsYWluIG9iamVjdC4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjaGlsZENvdW50IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoOwogICAgfQogICAgLyoqCiAgICAgKiBTdW0gb2Yge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlI29mZnNldFNpemUgb2Zmc2V0IHNpemVzfSBvZiBhbGwgb2YgdGhpcyBlbGVtZW50J3MgY2hpbGRyZW4uCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAdHlwZSB7TnVtYmVyfQogICAgICovCgogIH0sIHsKICAgIGtleTogIm1heE9mZnNldCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLm1heE9mZnNldDsKICAgIH0KICAgIC8qKgogICAgICogSXMgYHRydWVgIGlmIHRoZXJlIGFyZSBubyBub2RlcyBpbnNpZGUgdGhpcyBlbGVtZW50LCBgZmFsc2VgIG90aGVyd2lzZS4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEB0eXBlIHtCb29sZWFufQogICAgICovCgogIH0sIHsKICAgIGtleTogImlzRW1wdHkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLmNoaWxkQ291bnQgPT09IDA7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJmcm9tSlNPTiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZnJvbUpTT04oanNvbikgewogICAgICB2YXIgY2hpbGRyZW4gPSBudWxsOwoKICAgICAgaWYgKGpzb24uY2hpbGRyZW4pIHsKICAgICAgICBjaGlsZHJlbiA9IFtdOwogICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7CiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlOwogICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjUgPSB1bmRlZmluZWQ7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I1ID0ganNvbi5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IChfc3RlcDUgPSBfaXRlcmF0b3I1Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZSkgewogICAgICAgICAgICB2YXIgY2hpbGQgPSBfc3RlcDUudmFsdWU7CgogICAgICAgICAgICBpZiAoY2hpbGQubmFtZSkgewogICAgICAgICAgICAgIC8vIElmIGNoaWxkIGhhcyBuYW1lIHByb3BlcnR5LCBpdCBpcyBhbiBFbGVtZW50LgogICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goRWxlbWVudC5mcm9tSlNPTihjaGlsZCkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgaXQgaXMgYSBUZXh0IG5vZGUuCiAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChUZXh0LmZyb21KU09OKGNoaWxkKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7CiAgICAgICAgICBfaXRlcmF0b3JFcnJvcjUgPSBlcnI7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgJiYgX2l0ZXJhdG9yNS5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjUucmV0dXJuKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjUpIHsKICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgRWxlbWVudChqc29uLm5hbWUsIGpzb24uYXR0cmlidXRlcywgY2hpbGRyZW4pOwogICAgfSAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIHRvU3RyaW5nKCkgewogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJcmV0dXJuIGA8JHsgdGhpcy5yb290TmFtZSB8fCB0aGlzLm5hbWUgfT5gOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB9CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIGxvZygpIHsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gCWNvbnNvbGUubG9nKCAnTW9kZWxFbGVtZW50OiAnICsgdGhpcyApOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB9CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIGxvZ0V4dGVuZGVkKCkgewogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJY29uc29sZS5sb2coIGBNb2RlbEVsZW1lbnQ6ICR7IHRoaXMgfSwgJHsgdGhpcy5jaGlsZENvdW50IH0gY2hpbGRyZW4sCiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vCQlhdHRyczogJHsgY29udmVydE1hcFRvU3RyaW5naWZpZWRPYmplY3QoIHRoaXMuZ2V0QXR0cmlidXRlcygpICkgfWAgKTsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gfQogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyBsb2dBbGwoKSB7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAljb25zb2xlLmxvZyggJy0tLS0tLS0tLS0tLS0tLS0tLS0tJyApOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJdGhpcy5sb2dFeHRlbmRlZCgpOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwljb25zb2xlLmxvZyggJ0xpc3Qgb2YgY2hpbGRyZW46JyApOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJZm9yICggY29uc3QgY2hpbGQgb2YgdGhpcy5nZXRDaGlsZHJlbigpICkgewogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJCWNoaWxkLmxvZygpOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJfQogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB9CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIHByaW50VHJlZSggbGV2ZWwgPSAwKSB7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAlsZXQgc3RyaW5nID0gJyc7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAlzdHJpbmcgKz0gJ1x0Jy5yZXBlYXQoIGxldmVsICk7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAlzdHJpbmcgKz0gYDwkeyB0aGlzLnJvb3ROYW1lIHx8IHRoaXMubmFtZSB9JHsgY29udmVydE1hcFRvVGFncyggdGhpcy5nZXRBdHRyaWJ1dGVzKCkgKSB9PmA7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAlmb3IgKCBjb25zdCBjaGlsZCBvZiB0aGlzLmdldENoaWxkcmVuKCkgKSB7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAkJc3RyaW5nICs9ICdcbic7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAkJaWYgKCBjaGlsZC5pcyggJ3RleHQnICkgKSB7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAkJCWNvbnN0IHRleHRBdHRycyA9IGNvbnZlcnRNYXBUb1RhZ3MoIGNoaWxkLl9hdHRycyApOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJCQlzdHJpbmcgKz0gJ1x0Jy5yZXBlYXQoIGxldmVsICsgMSApOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJCQlpZiAoIHRleHRBdHRycyAhPT0gJycgKSB7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAkJCQlzdHJpbmcgKz0gYDwkdGV4dCR7IHRleHRBdHRycyB9PmAgKyBjaGlsZC5kYXRhICsgJzwvJHRleHQ+JzsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gCQkJfSBlbHNlIHsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gCQkJCXN0cmluZyArPSBjaGlsZC5kYXRhOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJCQl9CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAkJfSBlbHNlIHsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gCQkJc3RyaW5nICs9IGNoaWxkLnByaW50VHJlZSggbGV2ZWwgKyAxICk7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAkJfQogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJfQogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJaWYgKCB0aGlzLmNoaWxkQ291bnQgKSB7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAkJc3RyaW5nICs9ICdcbicgKyAnXHQnLnJlcGVhdCggbGV2ZWwgKTsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gCX0KICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gCXN0cmluZyArPSBgPC8keyB0aGlzLnJvb3ROYW1lIHx8IHRoaXMubmFtZSB9PmA7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAlyZXR1cm4gc3RyaW5nOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB9CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIGxvZ1RyZWUoKSB7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAljb25zb2xlLmxvZyggdGhpcy5wcmludFRyZWUoKSApOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB9CgogIH1dKTsKCiAgcmV0dXJuIEVsZW1lbnQ7Cn0oTm9kZSk7IC8vIENvbnZlcnRzIHN0cmluZ3MgdG8gVGV4dCBhbmQgbm9uLWl0ZXJhYmxlcyB0byBhcnJheXMuCi8vCi8vIEBwYXJhbSB7U3RyaW5nfG1vZHVsZTplbmdpbmUvbW9kZWwvaXRlbX5JdGVtfEl0ZXJhYmxlLjxTdHJpbmd8bW9kdWxlOmVuZ2luZS9tb2RlbC9pdGVtfkl0ZW0+fQovLyBAcmV0dXJucyB7SXRlcmFibGUuPG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlPn0KCgpleHBvcnQgeyBFbGVtZW50IGFzIGRlZmF1bHQgfTsKCmZ1bmN0aW9uIG5vcm1hbGl6ZShub2RlcykgewogIC8vIFNlcGFyYXRlIGNvbmRpdGlvbiBiZWNhdXNlIHN0cmluZyBpcyBpdGVyYWJsZS4KICBpZiAodHlwZW9mIG5vZGVzID09ICdzdHJpbmcnKSB7CiAgICByZXR1cm4gW25ldyBUZXh0KG5vZGVzKV07CiAgfQoKICBpZiAoIWlzSXRlcmFibGUobm9kZXMpKSB7CiAgICBub2RlcyA9IFtub2Rlc107CiAgfSAvLyBBcnJheS5mcm9tIHRvIGVuYWJsZSAubWFwKCkgb24gbm9uLWFycmF5cy4KCgogIHJldHVybiBBcnJheS5mcm9tKG5vZGVzKS5tYXAoZnVuY3Rpb24gKG5vZGUpIHsKICAgIGlmICh0eXBlb2Ygbm9kZSA9PSAnc3RyaW5nJykgewogICAgICByZXR1cm4gbmV3IFRleHQobm9kZSk7CiAgICB9CgogICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXh0UHJveHkpIHsKICAgICAgcmV0dXJuIG5ldyBUZXh0KG5vZGUuZGF0YSwgbm9kZS5nZXRBdHRyaWJ1dGVzKCkpOwogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0pOwp9"},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-engine/src/model/element.js"],"names":["Node","NodeList","Text","TextProxy","isIterable","Element","name","attrs","children","_children","_insertChild","type","cutType","replace","index","getNode","Symbol","iterator","node","getNodeIndex","getNodeStartOffset","offset","offsetToIndex","relativePath","getChild","json","length","push","toJSON","deep","Array","from","map","_clone","getAttributes","nodes","childCount","items","normalize","parent","_remove","_insertNodes","howMany","_removeNodes","maxOffset","child","fromJSON","attributes","data"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;;;;AAKA;;;AAIA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,0CAAvB,C,CAEA;;AAEA;;;;;;;;;IAQqBC,O;;;;;AACpB;;;;;;;;;;;;AAYA,mBAAaC,IAAb,EAAmBC,KAAnB,EAA0BC,QAA1B,EAAqC;AAAA;;AAAA;;AACpC,iFAAOD,KAAP;AAEA;;;;;;;AAMA,UAAKD,IAAL,GAAYA,IAAZ;AAEA;;;;;;;AAMA,UAAKG,SAAL,GAAiB,IAAIR,QAAJ,EAAjB;;AAEA,QAAKO,QAAL,EAAgB;AACf,YAAKE,YAAL,CAAmB,CAAnB,EAAsBF,QAAtB;AACA;;AArBmC;AAsBpC;AAED;;;;;;;;;;;AA8BA;;;;;;;;;;;;;;;;;;;;;;;;;uBAyBIG,I,EAAoB;AAAA,UAAdL,IAAc,uEAAP,IAAO;AACvB,UAAMM,OAAO,GAAGD,IAAI,CAACE,OAAL,CAAc,SAAd,EAAyB,EAAzB,CAAhB;;AAEA,UAAK,CAACP,IAAN,EAAa;AACZ,eAAOM,OAAO,IAAI,SAAX,IAAwBA,OAAO,IAAI,KAAKN,IAAxC,oEAA0DK,IAA1D,CAAP;AACA,OAFD,MAEO;AACN,eAAOC,OAAO,IAAI,SAAX,IAAwBN,IAAI,IAAI,KAAKA,IAA5C;AACA;AACD;AAED;;;;;;;;;6BAMUQ,K,EAAQ;AACjB,aAAO,KAAKL,SAAL,CAAeM,OAAf,CAAwBD,KAAxB,CAAP;AACA;AAED;;;;;;;;kCAKc;AACb,aAAO,KAAKL,SAAL,CAAgBO,MAAM,CAACC,QAAvB,GAAP;AACA;AAED;;;;;;;;;kCAMeC,I,EAAO;AACrB,aAAO,KAAKT,SAAL,CAAeU,YAAf,CAA6BD,IAA7B,CAAP;AACA;AAED;;;;;;;;;;;wCAQqBA,I,EAAO;AAC3B,aAAO,KAAKT,SAAL,CAAeW,kBAAf,CAAmCF,IAAnC,CAAP;AACA;AAED;;;;;;;;;;;;;;;;;;;;kCAiBeG,M,EAAS;AACvB,aAAO,KAAKZ,SAAL,CAAea,aAAf,CAA8BD,MAA9B,CAAP;AACA;AAED;;;;;;;;;;;;;;kCAWeE,Y,EAAe;AAC7B,UAAIL,IAAI,GAAG,IAAX,CAD6B,CACZ;;AADY;AAAA;AAAA;;AAAA;AAG7B,6BAAqBK,YAArB,8HAAoC;AAAA,cAAxBT,KAAwB;AACnCI,UAAAA,IAAI,GAAGA,IAAI,CAACM,QAAL,CAAeN,IAAI,CAACI,aAAL,CAAoBR,KAApB,CAAf,CAAP;AACA;AAL4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAO7B,aAAOI,IAAP;AACA;AAED;;;;;;;;6BAKS;AACR,UAAMO,IAAI,sEAAV;;AAEAA,MAAAA,IAAI,CAACnB,IAAL,GAAY,KAAKA,IAAjB;;AAEA,UAAK,KAAKG,SAAL,CAAeiB,MAAf,GAAwB,CAA7B,EAAiC;AAChCD,QAAAA,IAAI,CAACjB,QAAL,GAAgB,EAAhB;AADgC;AAAA;AAAA;;AAAA;AAGhC,gCAAoB,KAAKC,SAAzB,mIAAqC;AAAA,gBAAzBS,IAAyB;AACpCO,YAAAA,IAAI,CAACjB,QAAL,CAAcmB,IAAd,CAAoBT,IAAI,CAACU,MAAL,EAApB;AACA;AAL+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMhC;;AAED,aAAOH,IAAP;AACA;AAED;;;;;;;;;;;6BAQuB;AAAA,UAAfI,IAAe,uEAAR,KAAQ;AACtB,UAAMrB,QAAQ,GAAGqB,IAAI,GAAGC,KAAK,CAACC,IAAN,CAAY,KAAKtB,SAAjB,EAA6BuB,GAA7B,CAAkC,UAAAd,IAAI;AAAA,eAAIA,IAAI,CAACe,MAAL,CAAa,IAAb,CAAJ;AAAA,OAAtC,CAAH,GAAqE,IAA1F;AAEA,aAAO,IAAI5B,OAAJ,CAAa,KAAKC,IAAlB,EAAwB,KAAK4B,aAAL,EAAxB,EAA8C1B,QAA9C,CAAP;AACA;AAED;;;;;;;;;;iCAOc2B,K,EAAQ;AACrB,WAAKzB,YAAL,CAAmB,KAAK0B,UAAxB,EAAoCD,KAApC;AACA;AAED;;;;;;;;;;;;iCAScrB,K,EAAOuB,K,EAAQ;AAC5B,UAAMF,KAAK,GAAGG,SAAS,CAAED,KAAF,CAAvB;AAD4B;AAAA;AAAA;;AAAA;AAG5B,8BAAoBF,KAApB,mIAA4B;AAAA,cAAhBjB,IAAgB;;AAC3B;AACA,cAAKA,IAAI,CAACqB,MAAL,KAAgB,IAArB,EAA4B;AAC3BrB,YAAAA,IAAI,CAACsB,OAAL;AACA;;AAEDtB,UAAAA,IAAI,CAACqB,MAAL,GAAc,IAAd;AACA;AAV2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAY5B,WAAK9B,SAAL,CAAegC,YAAf,CAA6B3B,KAA7B,EAAoCqB,KAApC;AACA;AAED;;;;;;;;;;;;;oCAUiBrB,K,EAAqB;AAAA,UAAd4B,OAAc,uEAAJ,CAAI;;AACrC,UAAMP,KAAK,GAAG,KAAK1B,SAAL,CAAekC,YAAf,CAA6B7B,KAA7B,EAAoC4B,OAApC,CAAd;;AADqC;AAAA;AAAA;;AAAA;AAGrC,8BAAoBP,KAApB,mIAA4B;AAAA,cAAhBjB,IAAgB;AAC3BA,UAAAA,IAAI,CAACqB,MAAL,GAAc,IAAd;AACA;AALoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOrC,aAAOJ,KAAP;AACA;AAED;;;;;;;;;;wBAxOiB;AAChB,aAAO,KAAK1B,SAAL,CAAeiB,MAAtB;AACA;AAED;;;;;;;;;wBAMgB;AACf,aAAO,KAAKjB,SAAL,CAAemC,SAAtB;AACA;AAED;;;;;;;;;wBAMc;AACb,aAAO,KAAKR,UAAL,KAAoB,CAA3B;AACA;;;6BAyNgBX,I,EAAO;AACvB,UAAIjB,QAAQ,GAAG,IAAf;;AAEA,UAAKiB,IAAI,CAACjB,QAAV,EAAqB;AACpBA,QAAAA,QAAQ,GAAG,EAAX;AADoB;AAAA;AAAA;;AAAA;AAGpB,gCAAqBiB,IAAI,CAACjB,QAA1B,mIAAqC;AAAA,gBAAzBqC,KAAyB;;AACpC,gBAAKA,KAAK,CAACvC,IAAX,EAAkB;AACjB;AACAE,cAAAA,QAAQ,CAACmB,IAAT,CAAetB,OAAO,CAACyC,QAAR,CAAkBD,KAAlB,CAAf;AACA,aAHD,MAGO;AACN;AACArC,cAAAA,QAAQ,CAACmB,IAAT,CAAezB,IAAI,CAAC4C,QAAL,CAAeD,KAAf,CAAf;AACA;AACD;AAXmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYpB;;AAED,aAAO,IAAIxC,OAAJ,CAAaoB,IAAI,CAACnB,IAAlB,EAAwBmB,IAAI,CAACsB,UAA7B,EAAyCvC,QAAzC,CAAP;AACA,K,CAED;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;;;;;EAzWoCR,I,GA4WrC;AACA;AACA;AACA;;;SA/WqBK,O;;AAgXrB,SAASiC,SAAT,CAAoBH,KAApB,EAA4B;AAC3B;AACA,MAAK,OAAOA,KAAP,IAAgB,QAArB,EAAgC;AAC/B,WAAO,CAAE,IAAIjC,IAAJ,CAAUiC,KAAV,CAAF,CAAP;AACA;;AAED,MAAK,CAAC/B,UAAU,CAAE+B,KAAF,CAAhB,EAA4B;AAC3BA,IAAAA,KAAK,GAAG,CAAEA,KAAF,CAAR;AACA,GAR0B,CAU3B;;;AACA,SAAOL,KAAK,CAACC,IAAN,CAAYI,KAAZ,EACLH,GADK,CACA,UAAAd,IAAI,EAAI;AACb,QAAK,OAAOA,IAAP,IAAe,QAApB,EAA+B;AAC9B,aAAO,IAAIhB,IAAJ,CAAUgB,IAAV,CAAP;AACA;;AAED,QAAKA,IAAI,YAAYf,SAArB,EAAiC;AAChC,aAAO,IAAID,IAAJ,CAAUgB,IAAI,CAAC8B,IAAf,EAAqB9B,IAAI,CAACgB,aAAL,EAArB,CAAP;AACA;;AAED,WAAOhB,IAAP;AACA,GAXK,CAAP;AAYA","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/element\n */\n\nimport Node from './node';\nimport NodeList from './nodelist';\nimport Text from './text';\nimport TextProxy from './textproxy';\nimport isIterable from '@ckeditor/ckeditor5-utils/src/isiterable';\n\n// @if CK_DEBUG_ENGINE // const { stringifyMap, convertMapToStringifiedObject, convertMapToTags } = require( '../dev-utils/utils' );\n\n/**\n * Model element. Type of {@link module:engine/model/node~Node node} that has a {@link module:engine/model/element~Element#name name} and\n * {@link module:engine/model/element~Element#getChildren child nodes}.\n *\n * **Important**: see {@link module:engine/model/node~Node} to read about restrictions using `Element` and `Node` API.\n *\n * @extends module:engine/model/node~Node\n */\nexport default class Element extends Node {\n\t/**\n\t * Creates a model element.\n\t *\n\t * **Note:** Constructor of this class shouldn't be used directly in the code.\n\t * Use the {@link module:engine/model/writer~Writer#createElement} method instead.\n\t *\n\t * @protected\n\t * @param {String} name Element's name.\n\t * @param {Object} [attrs] Element's attributes. See {@link module:utils/tomap~toMap} for a list of accepted values.\n\t * @param {module:engine/model/node~Node|Iterable.<module:engine/model/node~Node>} [children]\n\t * One or more nodes to be inserted as children of created element.\n\t */\n\tconstructor( name, attrs, children ) {\n\t\tsuper( attrs );\n\n\t\t/**\n\t\t * Element name.\n\t\t *\n\t\t * @readonly\n\t\t * @member {String} module:engine/model/element~Element#name\n\t\t */\n\t\tthis.name = name;\n\n\t\t/**\n\t\t * List of children nodes.\n\t\t *\n\t\t * @private\n\t\t * @member {module:engine/model/nodelist~NodeList} module:engine/model/element~Element#_children\n\t\t */\n\t\tthis._children = new NodeList();\n\n\t\tif ( children ) {\n\t\t\tthis._insertChild( 0, children );\n\t\t}\n\t}\n\n\t/**\n\t * Number of this element's children.\n\t *\n\t * @readonly\n\t * @type {Number}\n\t */\n\tget childCount() {\n\t\treturn this._children.length;\n\t}\n\n\t/**\n\t * Sum of {@link module:engine/model/node~Node#offsetSize offset sizes} of all of this element's children.\n\t *\n\t * @readonly\n\t * @type {Number}\n\t */\n\tget maxOffset() {\n\t\treturn this._children.maxOffset;\n\t}\n\n\t/**\n\t * Is `true` if there are no nodes inside this element, `false` otherwise.\n\t *\n\t * @readonly\n\t * @type {Boolean}\n\t */\n\tget isEmpty() {\n\t\treturn this.childCount === 0;\n\t}\n\n\t/**\n\t * Checks whether this object is of the given.\n\t *\n\t *\t\telement.is( 'element' ); // -> true\n\t *\t\telement.is( 'node' ); // -> true\n\t *\t\telement.is( 'model:element' ); // -> true\n\t *\t\telement.is( 'model:node' ); // -> true\n\t *\n\t *\t\telement.is( 'view:element' ); // -> false\n\t *\t\telement.is( 'documentSelection' ); // -> false\n\t *\n\t * Assuming that the object being checked is an element, you can also check its\n\t * {@link module:engine/model/element~Element#name name}:\n\t *\n\t *\t\telement.is( 'image' ); // -> true if this is an <image> element\n\t *\t\telement.is( 'element', 'image' ); // -> same as above\n\t *\t\ttext.is( 'image' ); -> false\n\t *\n\t * {@link module:engine/model/node~Node#is Check the entire list of model objects} which implement the `is()` method.\n\t *\n\t * @param {String} type Type to check when `name` parameter is present.\n\t * Otherwise, it acts like the `name` parameter.\n\t * @param {String} [name] Element name.\n\t * @returns {Boolean}\n\t */\n\tis( type, name = null ) {\n\t\tconst cutType = type.replace( /^model:/, '' );\n\n\t\tif ( !name ) {\n\t\t\treturn cutType == 'element' || cutType == this.name || super.is( type );\n\t\t} else {\n\t\t\treturn cutType == 'element' && name == this.name;\n\t\t}\n\t}\n\n\t/**\n\t * Gets the child at the given index.\n\t *\n\t * @param {Number} index Index of child.\n\t * @returns {module:engine/model/node~Node} Child node.\n\t */\n\tgetChild( index ) {\n\t\treturn this._children.getNode( index );\n\t}\n\n\t/**\n\t * Returns an iterator that iterates over all of this element's children.\n\t *\n\t * @returns {Iterable.<module:engine/model/node~Node>}\n\t */\n\tgetChildren() {\n\t\treturn this._children[ Symbol.iterator ]();\n\t}\n\n\t/**\n\t * Returns an index of the given child node. Returns `null` if given node is not a child of this element.\n\t *\n\t * @param {module:engine/model/node~Node} node Child node to look for.\n\t * @returns {Number} Child node's index in this element.\n\t */\n\tgetChildIndex( node ) {\n\t\treturn this._children.getNodeIndex( node );\n\t}\n\n\t/**\n\t * Returns the starting offset of given child. Starting offset is equal to the sum of\n\t * {@link module:engine/model/node~Node#offsetSize offset sizes} of all node's siblings that are before it. Returns `null` if\n\t * given node is not a child of this element.\n\t *\n\t * @param {module:engine/model/node~Node} node Child node to look for.\n\t * @returns {Number} Child node's starting offset.\n\t */\n\tgetChildStartOffset( node ) {\n\t\treturn this._children.getNodeStartOffset( node );\n\t}\n\n\t/**\n\t * Returns index of a node that occupies given offset. If given offset is too low, returns `0`. If given offset is\n\t * too high, returns {@link module:engine/model/element~Element#getChildIndex index after last child}.\n\t *\n\t *\t\tconst textNode = new Text( 'foo' );\n\t *\t\tconst pElement = new Element( 'p' );\n\t *\t\tconst divElement = new Element( [ textNode, pElement ] );\n\t *\t\tdivElement.offsetToIndex( -1 ); // Returns 0, because offset is too low.\n\t *\t\tdivElement.offsetToIndex( 0 ); // Returns 0, because offset 0 is taken by `textNode` which is at index 0.\n\t *\t\tdivElement.offsetToIndex( 1 ); // Returns 0, because `textNode` has `offsetSize` equal to 3, so it occupies offset 1 too.\n\t *\t\tdivElement.offsetToIndex( 2 ); // Returns 0.\n\t *\t\tdivElement.offsetToIndex( 3 ); // Returns 1.\n\t *\t\tdivElement.offsetToIndex( 4 ); // Returns 2. There are no nodes at offset 4, so last available index is returned.\n\t *\n\t * @param {Number} offset Offset to look for.\n\t * @returns {Number}\n\t */\n\toffsetToIndex( offset ) {\n\t\treturn this._children.offsetToIndex( offset );\n\t}\n\n\t/**\n\t * Returns a descendant node by its path relative to this element.\n\t *\n\t *\t\t// <this>a<b>c</b></this>\n\t *\t\tthis.getNodeByPath( [ 0 ] );     // -> \"a\"\n\t *\t\tthis.getNodeByPath( [ 1 ] );     // -> <b>\n\t *\t\tthis.getNodeByPath( [ 1, 0 ] );  // -> \"c\"\n\t *\n\t * @param {Array.<Number>} relativePath Path of the node to find, relative to this element.\n\t * @returns {module:engine/model/node~Node}\n\t */\n\tgetNodeByPath( relativePath ) {\n\t\tlet node = this; // eslint-disable-line consistent-this\n\n\t\tfor ( const index of relativePath ) {\n\t\t\tnode = node.getChild( node.offsetToIndex( index ) );\n\t\t}\n\n\t\treturn node;\n\t}\n\n\t/**\n\t * Converts `Element` instance to plain object and returns it. Takes care of converting all of this element's children.\n\t *\n\t * @returns {Object} `Element` instance converted to plain object.\n\t */\n\ttoJSON() {\n\t\tconst json = super.toJSON();\n\n\t\tjson.name = this.name;\n\n\t\tif ( this._children.length > 0 ) {\n\t\t\tjson.children = [];\n\n\t\t\tfor ( const node of this._children ) {\n\t\t\t\tjson.children.push( node.toJSON() );\n\t\t\t}\n\t\t}\n\n\t\treturn json;\n\t}\n\n\t/**\n\t * Creates a copy of this element and returns it. Created element has the same name and attributes as the original element.\n\t * If clone is deep, the original element's children are also cloned. If not, then empty element is removed.\n\t *\n\t * @protected\n\t * @param {Boolean} [deep=false] If set to `true` clones element and all its children recursively. When set to `false`,\n\t * element will be cloned without any child.\n\t */\n\t_clone( deep = false ) {\n\t\tconst children = deep ? Array.from( this._children ).map( node => node._clone( true ) ) : null;\n\n\t\treturn new Element( this.name, this.getAttributes(), children );\n\t}\n\n\t/**\n\t * {@link module:engine/model/element~Element#_insertChild Inserts} one or more nodes at the end of this element.\n\t *\n\t * @see module:engine/model/writer~Writer#append\n\t * @protected\n\t * @param {module:engine/model/item~Item|Iterable.<module:engine/model/item~Item>} nodes Nodes to be inserted.\n\t */\n\t_appendChild( nodes ) {\n\t\tthis._insertChild( this.childCount, nodes );\n\t}\n\n\t/**\n\t * Inserts one or more nodes at the given index and sets {@link module:engine/model/node~Node#parent parent} of these nodes\n\t * to this element.\n\t *\n\t * @see module:engine/model/writer~Writer#insert\n\t * @protected\n\t * @param {Number} index Index at which nodes should be inserted.\n\t * @param {module:engine/model/item~Item|Iterable.<module:engine/model/item~Item>} items Items to be inserted.\n\t */\n\t_insertChild( index, items ) {\n\t\tconst nodes = normalize( items );\n\n\t\tfor ( const node of nodes ) {\n\t\t\t// If node that is being added to this element is already inside another element, first remove it from the old parent.\n\t\t\tif ( node.parent !== null ) {\n\t\t\t\tnode._remove();\n\t\t\t}\n\n\t\t\tnode.parent = this;\n\t\t}\n\n\t\tthis._children._insertNodes( index, nodes );\n\t}\n\n\t/**\n\t * Removes one or more nodes starting at the given index and sets\n\t * {@link module:engine/model/node~Node#parent parent} of these nodes to `null`.\n\t *\n\t * @see module:engine/model/writer~Writer#remove\n\t * @protected\n\t * @param {Number} index Index of the first node to remove.\n\t * @param {Number} [howMany=1] Number of nodes to remove.\n\t * @returns {Array.<module:engine/model/node~Node>} Array containing removed nodes.\n\t */\n\t_removeChildren( index, howMany = 1 ) {\n\t\tconst nodes = this._children._removeNodes( index, howMany );\n\n\t\tfor ( const node of nodes ) {\n\t\t\tnode.parent = null;\n\t\t}\n\n\t\treturn nodes;\n\t}\n\n\t/**\n\t * Creates an `Element` instance from given plain object (i.e. parsed JSON string).\n\t * Converts `Element` children to proper nodes.\n\t *\n\t * @param {Object} json Plain object to be converted to `Element`.\n\t * @returns {module:engine/model/element~Element} `Element` instance created using given plain object.\n\t */\n\tstatic fromJSON( json ) {\n\t\tlet children = null;\n\n\t\tif ( json.children ) {\n\t\t\tchildren = [];\n\n\t\t\tfor ( const child of json.children ) {\n\t\t\t\tif ( child.name ) {\n\t\t\t\t\t// If child has name property, it is an Element.\n\t\t\t\t\tchildren.push( Element.fromJSON( child ) );\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise, it is a Text node.\n\t\t\t\t\tchildren.push( Text.fromJSON( child ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn new Element( json.name, json.attributes, children );\n\t}\n\n\t// @if CK_DEBUG_ENGINE // toString() {\n\t// @if CK_DEBUG_ENGINE // \treturn `<${ this.rootName || this.name }>`;\n\t// @if CK_DEBUG_ENGINE // }\n\n\t// @if CK_DEBUG_ENGINE // log() {\n\t// @if CK_DEBUG_ENGINE // \tconsole.log( 'ModelElement: ' + this );\n\t// @if CK_DEBUG_ENGINE // }\n\n\t// @if CK_DEBUG_ENGINE // logExtended() {\n\t// @if CK_DEBUG_ENGINE // \tconsole.log( `ModelElement: ${ this }, ${ this.childCount } children,\n\t// @if CK_DEBUG_ENGINE //\t\tattrs: ${ convertMapToStringifiedObject( this.getAttributes() ) }` );\n\t// @if CK_DEBUG_ENGINE // }\n\n\t// @if CK_DEBUG_ENGINE // logAll() {\n\t// @if CK_DEBUG_ENGINE // \tconsole.log( '--------------------' );\n\t// @if CK_DEBUG_ENGINE //\n\t// @if CK_DEBUG_ENGINE // \tthis.logExtended();\n\t// @if CK_DEBUG_ENGINE //\tconsole.log( 'List of children:' );\n\t// @if CK_DEBUG_ENGINE //\n\t// @if CK_DEBUG_ENGINE // \tfor ( const child of this.getChildren() ) {\n\t// @if CK_DEBUG_ENGINE // \t\tchild.log();\n\t// @if CK_DEBUG_ENGINE // \t}\n\t// @if CK_DEBUG_ENGINE // }\n\n\t// @if CK_DEBUG_ENGINE // printTree( level = 0) {\n\t// @if CK_DEBUG_ENGINE // \tlet string = '';\n\n\t// @if CK_DEBUG_ENGINE // \tstring += '\\t'.repeat( level );\n\t// @if CK_DEBUG_ENGINE // \tstring += `<${ this.rootName || this.name }${ convertMapToTags( this.getAttributes() ) }>`;\n\n\t// @if CK_DEBUG_ENGINE // \tfor ( const child of this.getChildren() ) {\n\t// @if CK_DEBUG_ENGINE // \t\tstring += '\\n';\n\n\t// @if CK_DEBUG_ENGINE // \t\tif ( child.is( 'text' ) ) {\n\t// @if CK_DEBUG_ENGINE // \t\t\tconst textAttrs = convertMapToTags( child._attrs );\n\n\t// @if CK_DEBUG_ENGINE // \t\t\tstring += '\\t'.repeat( level + 1 );\n\n\t// @if CK_DEBUG_ENGINE // \t\t\tif ( textAttrs !== '' ) {\n\t// @if CK_DEBUG_ENGINE // \t\t\t\tstring += `<$text${ textAttrs }>` + child.data + '</$text>';\n\t// @if CK_DEBUG_ENGINE // \t\t\t} else {\n\t// @if CK_DEBUG_ENGINE // \t\t\t\tstring += child.data;\n\t// @if CK_DEBUG_ENGINE // \t\t\t}\n\t// @if CK_DEBUG_ENGINE // \t\t} else {\n\t// @if CK_DEBUG_ENGINE // \t\t\tstring += child.printTree( level + 1 );\n\t// @if CK_DEBUG_ENGINE // \t\t}\n\t// @if CK_DEBUG_ENGINE // \t}\n\n\t// @if CK_DEBUG_ENGINE // \tif ( this.childCount ) {\n\t// @if CK_DEBUG_ENGINE // \t\tstring += '\\n' + '\\t'.repeat( level );\n\t// @if CK_DEBUG_ENGINE // \t}\n\n\t// @if CK_DEBUG_ENGINE // \tstring += `</${ this.rootName || this.name }>`;\n\n\t// @if CK_DEBUG_ENGINE // \treturn string;\n\t// @if CK_DEBUG_ENGINE // }\n\n\t// @if CK_DEBUG_ENGINE // logTree() {\n\t// @if CK_DEBUG_ENGINE // \tconsole.log( this.printTree() );\n\t// @if CK_DEBUG_ENGINE // }\n}\n\n// Converts strings to Text and non-iterables to arrays.\n//\n// @param {String|module:engine/model/item~Item|Iterable.<String|module:engine/model/item~Item>}\n// @returns {Iterable.<module:engine/model/node~Node>}\nfunction normalize( nodes ) {\n\t// Separate condition because string is iterable.\n\tif ( typeof nodes == 'string' ) {\n\t\treturn [ new Text( nodes ) ];\n\t}\n\n\tif ( !isIterable( nodes ) ) {\n\t\tnodes = [ nodes ];\n\t}\n\n\t// Array.from to enable .map() on non-arrays.\n\treturn Array.from( nodes )\n\t\t.map( node => {\n\t\t\tif ( typeof node == 'string' ) {\n\t\t\t\treturn new Text( node );\n\t\t\t}\n\n\t\t\tif ( node instanceof TextProxy ) {\n\t\t\t\treturn new Text( node.data, node.getAttributes() );\n\t\t\t}\n\n\t\t\treturn node;\n\t\t} );\n}\n"]}]}