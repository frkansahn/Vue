{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-link\\src\\linkediting.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-link\\src\\linkediting.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1581760786382},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKCi8qKgogKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAyMCwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cHM6Ly9ja2VkaXRvci5jb20vbGVnYWwvY2tlZGl0b3Itb3NzLWxpY2Vuc2UKICovCgovKioKICogQG1vZHVsZSBsaW5rL2xpbmtlZGl0aW5nCiAqLwppbXBvcnQgUGx1Z2luIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtY29yZS9zcmMvcGx1Z2luJzsKaW1wb3J0IExpbmtDb21tYW5kIGZyb20gJy4vbGlua2NvbW1hbmQnOwppbXBvcnQgVW5saW5rQ29tbWFuZCBmcm9tICcuL3VubGlua2NvbW1hbmQnOwppbXBvcnQgeyBjcmVhdGVMaW5rRWxlbWVudCwgZW5zdXJlU2FmZVVybCwgZ2V0TG9jYWxpemVkRGVjb3JhdG9ycywgbm9ybWFsaXplRGVjb3JhdG9ycyB9IGZyb20gJy4vdXRpbHMnOwppbXBvcnQgQXV0b21hdGljRGVjb3JhdG9ycyBmcm9tICcuL3V0aWxzL2F1dG9tYXRpY2RlY29yYXRvcnMnOwppbXBvcnQgTWFudWFsRGVjb3JhdG9yIGZyb20gJy4vdXRpbHMvbWFudWFsZGVjb3JhdG9yJzsKaW1wb3J0IGJpbmRUd29TdGVwQ2FyZXRUb0F0dHJpYnV0ZSBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LWVuZ2luZS9zcmMvdXRpbHMvYmluZHR3b3N0ZXBjYXJldHRvYXR0cmlidXRlJzsKaW1wb3J0IGZpbmRMaW5rUmFuZ2UgZnJvbSAnLi9maW5kbGlua3JhbmdlJzsKaW1wb3J0ICcuLi90aGVtZS9saW5rLmNzcyc7CnZhciBISUdITElHSFRfQ0xBU1MgPSAnY2stbGlua19zZWxlY3RlZCc7CnZhciBERUNPUkFUT1JfQVVUT01BVElDID0gJ2F1dG9tYXRpYyc7CnZhciBERUNPUkFUT1JfTUFOVUFMID0gJ21hbnVhbCc7CnZhciBFWFRFUk5BTF9MSU5LU19SRUdFWFAgPSAvXihodHRwcz86KT9cL1wvLzsKLyoqCiAqIFRoZSBsaW5rIGVuZ2luZSBmZWF0dXJlLgogKgogKiBJdCBpbnRyb2R1Y2VzIHRoZSBgbGlua0hyZWY9InVybCJgIGF0dHJpYnV0ZSBpbiB0aGUgbW9kZWwgd2hpY2ggcmVuZGVycyB0byB0aGUgdmlldyBhcyBhIGA8YSBocmVmPSJ1cmwiPmAgZWxlbWVudAogKiBhcyB3ZWxsIGFzIGAnbGluaydgIGFuZCBgJ3VubGluaydgIGNvbW1hbmRzLgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6Y29yZS9wbHVnaW5+UGx1Z2luCiAqLwoKdmFyIExpbmtFZGl0aW5nID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1BsdWdpbikgewogIF9pbmhlcml0cyhMaW5rRWRpdGluZywgX1BsdWdpbik7CgogIF9jcmVhdGVDbGFzcyhMaW5rRWRpdGluZywgbnVsbCwgW3sKICAgIGtleTogInBsdWdpbk5hbWUiLAoKICAgIC8qKgogICAgICogQGluaGVyaXREb2MKICAgICAqLwogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiAnTGlua0VkaXRpbmcnOwogICAgfQogICAgLyoqCiAgICAgKiBAaW5oZXJpdERvYwogICAgICovCgogIH1dKTsKCiAgZnVuY3Rpb24gTGlua0VkaXRpbmcoZWRpdG9yKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpbmtFZGl0aW5nKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihMaW5rRWRpdGluZykuY2FsbCh0aGlzLCBlZGl0b3IpKTsKICAgIGVkaXRvci5jb25maWcuZGVmaW5lKCdsaW5rJywgewogICAgICBhZGRUYXJnZXRUb0V4dGVybmFsTGlua3M6IGZhbHNlCiAgICB9KTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KCgogIF9jcmVhdGVDbGFzcyhMaW5rRWRpdGluZywgW3sKICAgIGtleTogImluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjsKICAgICAgdmFyIGxvY2FsZSA9IGVkaXRvci5sb2NhbGU7IC8vIEFsbG93IGxpbmsgYXR0cmlidXRlIG9uIGFsbCBpbmxpbmUgbm9kZXMuCgogICAgICBlZGl0b3IubW9kZWwuc2NoZW1hLmV4dGVuZCgnJHRleHQnLCB7CiAgICAgICAgYWxsb3dBdHRyaWJ1dGVzOiAnbGlua0hyZWYnCiAgICAgIH0pOwogICAgICBlZGl0b3IuY29udmVyc2lvbi5mb3IoJ2RhdGFEb3duY2FzdCcpLmF0dHJpYnV0ZVRvRWxlbWVudCh7CiAgICAgICAgbW9kZWw6ICdsaW5rSHJlZicsCiAgICAgICAgdmlldzogY3JlYXRlTGlua0VsZW1lbnQKICAgICAgfSk7CiAgICAgIGVkaXRvci5jb252ZXJzaW9uLmZvcignZWRpdGluZ0Rvd25jYXN0JykuYXR0cmlidXRlVG9FbGVtZW50KHsKICAgICAgICBtb2RlbDogJ2xpbmtIcmVmJywKICAgICAgICB2aWV3OiBmdW5jdGlvbiB2aWV3KGhyZWYsIHdyaXRlcikgewogICAgICAgICAgcmV0dXJuIGNyZWF0ZUxpbmtFbGVtZW50KGVuc3VyZVNhZmVVcmwoaHJlZiksIHdyaXRlcik7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZWRpdG9yLmNvbnZlcnNpb24uZm9yKCd1cGNhc3QnKS5lbGVtZW50VG9BdHRyaWJ1dGUoewogICAgICAgIHZpZXc6IHsKICAgICAgICAgIG5hbWU6ICdhJywKICAgICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgICAgaHJlZjogdHJ1ZQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbW9kZWw6IHsKICAgICAgICAgIGtleTogJ2xpbmtIcmVmJywKICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSh2aWV3RWxlbWVudCkgewogICAgICAgICAgICByZXR1cm4gdmlld0VsZW1lbnQuZ2V0QXR0cmlidXRlKCdocmVmJyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsgLy8gQ3JlYXRlIGxpbmtpbmcgY29tbWFuZHMuCgogICAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdsaW5rJywgbmV3IExpbmtDb21tYW5kKGVkaXRvcikpOwogICAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCd1bmxpbmsnLCBuZXcgVW5saW5rQ29tbWFuZChlZGl0b3IpKTsKICAgICAgdmFyIGxpbmtEZWNvcmF0b3JzID0gZ2V0TG9jYWxpemVkRGVjb3JhdG9ycyhlZGl0b3IudCwgbm9ybWFsaXplRGVjb3JhdG9ycyhlZGl0b3IuY29uZmlnLmdldCgnbGluay5kZWNvcmF0b3JzJykpKTsKCiAgICAgIHRoaXMuX2VuYWJsZUF1dG9tYXRpY0RlY29yYXRvcnMobGlua0RlY29yYXRvcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ubW9kZSA9PT0gREVDT1JBVE9SX0FVVE9NQVRJQzsKICAgICAgfSkpOwoKICAgICAgdGhpcy5fZW5hYmxlTWFudWFsRGVjb3JhdG9ycyhsaW5rRGVjb3JhdG9ycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5tb2RlID09PSBERUNPUkFUT1JfTUFOVUFMOwogICAgICB9KSk7IC8vIEVuYWJsZSB0d28tc3RlcCBjYXJldCBtb3ZlbWVudCBmb3IgYGxpbmtIcmVmYCBhdHRyaWJ1dGUuCgoKICAgICAgYmluZFR3b1N0ZXBDYXJldFRvQXR0cmlidXRlKHsKICAgICAgICB2aWV3OiBlZGl0b3IuZWRpdGluZy52aWV3LAogICAgICAgIG1vZGVsOiBlZGl0b3IubW9kZWwsCiAgICAgICAgZW1pdHRlcjogdGhpcywKICAgICAgICBhdHRyaWJ1dGU6ICdsaW5rSHJlZicsCiAgICAgICAgbG9jYWxlOiBsb2NhbGUKICAgICAgfSk7IC8vIFNldHVwIGhpZ2hsaWdodCBvdmVyIHNlbGVjdGVkIGxpbmsuCgogICAgICB0aGlzLl9zZXR1cExpbmtIaWdobGlnaHQoKTsKICAgIH0KICAgIC8qKgogICAgICogUHJvY2Vzc2VzIGFuIGFycmF5IG9mIGNvbmZpZ3VyZWQge0BsaW5rIG1vZHVsZTpsaW5rL2xpbmt+TGlua0RlY29yYXRvckF1dG9tYXRpY0RlZmluaXRpb24gYXV0b21hdGljIGRlY29yYXRvcnN9CiAgICAgKiBhbmQgcmVnaXN0ZXJzIGEge0BsaW5rIG1vZHVsZTplbmdpbmUvY29udmVyc2lvbi9kb3duY2FzdGRpc3BhdGNoZXJ+RG93bmNhc3REaXNwYXRjaGVyIGRvd25jYXN0IGRpc3BhdGNoZXJ9CiAgICAgKiBmb3IgZWFjaCBvbmUgb2YgdGhlbS4gRG93bmNhc3QgZGlzcGF0Y2hlcnMgYXJlIG9idGFpbmVkIHVzaW5nIHRoZQogICAgICoge0BsaW5rIG1vZHVsZTpsaW5rL3V0aWxzfkF1dG9tYXRpY0RlY29yYXRvcnMjZ2V0RGlzcGF0Y2hlcn0gbWV0aG9kLgogICAgICoKICAgICAqICoqTm90ZSoqOiBUaGlzIG1ldGhvZCBhbHNvIGFjdGl2YXRlcyB0aGUgYXV0b21hdGljIGV4dGVybmFsIGxpbmsgZGVjb3JhdG9yIGlmIGVuYWJsZWQgd2l0aAogICAgICoge0BsaW5rIG1vZHVsZTpsaW5rL2xpbmt+TGlua0NvbmZpZyNhZGRUYXJnZXRUb0V4dGVybmFsTGlua3MgYGNvbmZpZy5saW5rLmFkZFRhcmdldFRvRXh0ZXJuYWxMaW5rc2B9LgogICAgICoKICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge0FycmF5Ljxtb2R1bGU6bGluay9saW5rfkxpbmtEZWNvcmF0b3JBdXRvbWF0aWNEZWZpbml0aW9uPn0gYXV0b21hdGljRGVjb3JhdG9yRGVmaW5pdGlvbnMKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfZW5hYmxlQXV0b21hdGljRGVjb3JhdG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2VuYWJsZUF1dG9tYXRpY0RlY29yYXRvcnMoYXV0b21hdGljRGVjb3JhdG9yRGVmaW5pdGlvbnMpIHsKICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yOwogICAgICB2YXIgYXV0b21hdGljRGVjb3JhdG9ycyA9IG5ldyBBdXRvbWF0aWNEZWNvcmF0b3JzKCk7IC8vIEFkZHMgYSBkZWZhdWx0IGRlY29yYXRvciBmb3IgZXh0ZXJuYWwgbGlua3MuCgogICAgICBpZiAoZWRpdG9yLmNvbmZpZy5nZXQoJ2xpbmsuYWRkVGFyZ2V0VG9FeHRlcm5hbExpbmtzJykpIHsKICAgICAgICBhdXRvbWF0aWNEZWNvcmF0b3JzLmFkZCh7CiAgICAgICAgICBpZDogJ2xpbmtJc0V4dGVybmFsJywKICAgICAgICAgIG1vZGU6IERFQ09SQVRPUl9BVVRPTUFUSUMsCiAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2sodXJsKSB7CiAgICAgICAgICAgIHJldHVybiBFWFRFUk5BTF9MSU5LU19SRUdFWFAudGVzdCh1cmwpOwogICAgICAgICAgfSwKICAgICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJywKICAgICAgICAgICAgcmVsOiAnbm9vcGVuZXIgbm9yZWZlcnJlcicKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQoKICAgICAgYXV0b21hdGljRGVjb3JhdG9ycy5hZGQoYXV0b21hdGljRGVjb3JhdG9yRGVmaW5pdGlvbnMpOwoKICAgICAgaWYgKGF1dG9tYXRpY0RlY29yYXRvcnMubGVuZ3RoKSB7CiAgICAgICAgZWRpdG9yLmNvbnZlcnNpb24uZm9yKCdkb3duY2FzdCcpLmFkZChhdXRvbWF0aWNEZWNvcmF0b3JzLmdldERpc3BhdGNoZXIoKSk7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogUHJvY2Vzc2VzIGFuIGFycmF5IG9mIGNvbmZpZ3VyZWQge0BsaW5rIG1vZHVsZTpsaW5rL2xpbmt+TGlua0RlY29yYXRvck1hbnVhbERlZmluaXRpb24gbWFudWFsIGRlY29yYXRvcnN9LAogICAgICogdHJhbnNmb3JtcyB0aGVtIGludG8ge0BsaW5rIG1vZHVsZTpsaW5rL3V0aWxzfk1hbnVhbERlY29yYXRvcn0gaW5zdGFuY2VzIGFuZCBzdG9yZXMgdGhlbSBpbiB0aGUKICAgICAqIHtAbGluayBtb2R1bGU6bGluay9saW5rY29tbWFuZH5MaW5rQ29tbWFuZCNtYW51YWxEZWNvcmF0b3JzfSBjb2xsZWN0aW9uIChhIG1vZGVsIGZvciBtYW51YWwgZGVjb3JhdG9ycyBzdGF0ZSkuCiAgICAgKgogICAgICogQWxzbyByZWdpc3RlcnMgYW4ge0BsaW5rIG1vZHVsZTplbmdpbmUvY29udmVyc2lvbi9kb3duY2FzdGhlbHBlcnN+RG93bmNhc3RIZWxwZXJzI2F0dHJpYnV0ZVRvRWxlbWVudCBhdHRyaWJ1dGUtdG8tZWxlbWVudH0KICAgICAqIGNvbnZlcnRlciBmb3IgZWFjaCBtYW51YWwgZGVjb3JhdG9yIGFuZCBleHRlbmRzIHRoZSB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9zY2hlbWF+U2NoZW1hIG1vZGVsJ3Mgc2NoZW1hfQogICAgICogd2l0aCBhZGVxdWF0ZSBtb2RlbCBhdHRyaWJ1dGVzLgogICAgICoKICAgICAqIEBwcml2YXRlCiAgICAgKiBAcGFyYW0ge0FycmF5Ljxtb2R1bGU6bGluay9saW5rfkxpbmtEZWNvcmF0b3JNYW51YWxEZWZpbml0aW9uPn0gbWFudWFsRGVjb3JhdG9yRGVmaW5pdGlvbnMKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJfZW5hYmxlTWFudWFsRGVjb3JhdG9ycyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2VuYWJsZU1hbnVhbERlY29yYXRvcnMobWFudWFsRGVjb3JhdG9yRGVmaW5pdGlvbnMpIHsKICAgICAgaWYgKCFtYW51YWxEZWNvcmF0b3JEZWZpbml0aW9ucy5sZW5ndGgpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjsKICAgICAgdmFyIGNvbW1hbmQgPSBlZGl0b3IuY29tbWFuZHMuZ2V0KCdsaW5rJyk7CiAgICAgIHZhciBtYW51YWxEZWNvcmF0b3JzID0gY29tbWFuZC5tYW51YWxEZWNvcmF0b3JzOwogICAgICBtYW51YWxEZWNvcmF0b3JEZWZpbml0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkZWNvcmF0b3IpIHsKICAgICAgICBlZGl0b3IubW9kZWwuc2NoZW1hLmV4dGVuZCgnJHRleHQnLCB7CiAgICAgICAgICBhbGxvd0F0dHJpYnV0ZXM6IGRlY29yYXRvci5pZAogICAgICAgIH0pOyAvLyBLZWVwcyByZWZlcmVuY2UgdG8gbWFudWFsIGRlY29yYXRvciB0byBkZWNvZGUgaXRzIG5hbWUgdG8gYXR0cmlidXRlcyBkdXJpbmcgZG93bmNhc3QuCgogICAgICAgIG1hbnVhbERlY29yYXRvcnMuYWRkKG5ldyBNYW51YWxEZWNvcmF0b3IoZGVjb3JhdG9yKSk7CiAgICAgICAgZWRpdG9yLmNvbnZlcnNpb24uZm9yKCdkb3duY2FzdCcpLmF0dHJpYnV0ZVRvRWxlbWVudCh7CiAgICAgICAgICBtb2RlbDogZGVjb3JhdG9yLmlkLAogICAgICAgICAgdmlldzogZnVuY3Rpb24gdmlldyhtYW51YWxEZWNvcmF0b3JOYW1lLCB3cml0ZXIpIHsKICAgICAgICAgICAgaWYgKG1hbnVhbERlY29yYXRvck5hbWUpIHsKICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9IG1hbnVhbERlY29yYXRvcnMuZ2V0KGRlY29yYXRvci5pZCkuYXR0cmlidXRlczsKICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHdyaXRlci5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KCdhJywgYXR0cmlidXRlcywgewogICAgICAgICAgICAgICAgcHJpb3JpdHk6IDUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB3cml0ZXIuc2V0Q3VzdG9tUHJvcGVydHkoJ2xpbmsnLCB0cnVlLCBlbGVtZW50KTsKICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGVkaXRvci5jb252ZXJzaW9uLmZvcigndXBjYXN0JykuZWxlbWVudFRvQXR0cmlidXRlKHsKICAgICAgICAgIHZpZXc6IHsKICAgICAgICAgICAgbmFtZTogJ2EnLAogICAgICAgICAgICBhdHRyaWJ1dGVzOiBtYW51YWxEZWNvcmF0b3JzLmdldChkZWNvcmF0b3IuaWQpLmF0dHJpYnV0ZXMKICAgICAgICAgIH0sCiAgICAgICAgICBtb2RlbDogewogICAgICAgICAgICBrZXk6IGRlY29yYXRvci5pZAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICogQWRkcyBhIHZpc3VhbCBoaWdobGlnaHQgc3R5bGUgdG8gYSBsaW5rIGluIHdoaWNoIHRoZSBzZWxlY3Rpb24gaXMgYW5jaG9yZWQuCiAgICAgKiBUb2dldGhlciB3aXRoIHR3by1zdGVwIGNhcmV0IG1vdmVtZW50LCB0aGV5IGluZGljYXRlIHRoYXQgdGhlIHVzZXIgaXMgdHlwaW5nIGluc2lkZSB0aGUgbGluay4KICAgICAqCiAgICAgKiBIaWdobGlnaHQgaXMgdHVybmVkIG9uIGJ5IGFkZGluZyB0aGUgYC5jay1saW5rX3NlbGVjdGVkYCBjbGFzcyB0byB0aGUgbGluayBpbiB0aGUgdmlldzoKICAgICAqCiAgICAgKiAqIFRoZSBjbGFzcyBpcyByZW1vdmVkIGJlZm9yZSB0aGUgY29udmVyc2lvbiBoYXMgc3RhcnRlZCwgYXMgY2FsbGJhY2tzIGFkZGVkIHdpdGggdGhlIGAnaGlnaGVzdCdgIHByaW9yaXR5CiAgICAgKiB0byB7QGxpbmsgbW9kdWxlOmVuZ2luZS9jb252ZXJzaW9uL2Rvd25jYXN0ZGlzcGF0Y2hlcn5Eb3duY2FzdERpc3BhdGNoZXJ9IGV2ZW50cy4KICAgICAqICogVGhlIGNsYXNzIGlzIGFkZGVkIGluIHRoZSB2aWV3IHBvc3QgZml4ZXIsIGFmdGVyIG90aGVyIGNoYW5nZXMgaW4gdGhlIG1vZGVsIHRyZWUgd2VyZSBjb252ZXJ0ZWQgdG8gdGhlIHZpZXcuCiAgICAgKgogICAgICogVGhpcyB3YXksIGFkZGluZyBhbmQgcmVtb3ZpbmcgdGhlIGhpZ2hsaWdodCBkb2VzIG5vdCBpbnRlcmZlcmUgd2l0aCBjb252ZXJzaW9uLgogICAgICoKICAgICAqIEBwcml2YXRlCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiX3NldHVwTGlua0hpZ2hsaWdodCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldHVwTGlua0hpZ2hsaWdodCgpIHsKICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yOwogICAgICB2YXIgdmlldyA9IGVkaXRvci5lZGl0aW5nLnZpZXc7CiAgICAgIHZhciBoaWdobGlnaHRlZExpbmtzID0gbmV3IFNldCgpOyAvLyBBZGRpbmcgdGhlIGNsYXNzLgoKICAgICAgdmlldy5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcihmdW5jdGlvbiAod3JpdGVyKSB7CiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247CiAgICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTsKCiAgICAgICAgaWYgKHNlbGVjdGlvbi5oYXNBdHRyaWJ1dGUoJ2xpbmtIcmVmJykpIHsKICAgICAgICAgIHZhciBtb2RlbFJhbmdlID0gZmluZExpbmtSYW5nZShzZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpLCBzZWxlY3Rpb24uZ2V0QXR0cmlidXRlKCdsaW5rSHJlZicpLCBlZGl0b3IubW9kZWwpOwogICAgICAgICAgdmFyIHZpZXdSYW5nZSA9IGVkaXRvci5lZGl0aW5nLm1hcHBlci50b1ZpZXdSYW5nZShtb2RlbFJhbmdlKTsgLy8gVGhlcmUgbWlnaHQgYmUgbXVsdGlwbGUgYGFgIGVsZW1lbnRzIGluIHRoZSBgdmlld1JhbmdlYCwgZm9yIGV4YW1wbGUsIHdoZW4gdGhlIGBhYCBlbGVtZW50IGlzCiAgICAgICAgICAvLyBicm9rZW4gYnkgYSBVSUVsZW1lbnQuCgogICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlOwogICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdmlld1JhbmdlLmdldEl0ZW1zKClbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7CiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgICAgaWYgKGl0ZW0uaXMoJ2EnKSAmJiAhaXRlbS5oYXNDbGFzcyhISUdITElHSFRfQ0xBU1MpKSB7CiAgICAgICAgICAgICAgICB3cml0ZXIuYWRkQ2xhc3MoSElHSExJR0hUX0NMQVNTLCBpdGVtKTsKICAgICAgICAgICAgICAgIGhpZ2hsaWdodGVkTGlua3MuYWRkKGl0ZW0pOwogICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7CiAgICAgIH0pOyAvLyBSZW1vdmluZyB0aGUgY2xhc3MuCgogICAgICBlZGl0b3IuY29udmVyc2lvbi5mb3IoJ2VkaXRpbmdEb3duY2FzdCcpLmFkZChmdW5jdGlvbiAoZGlzcGF0Y2hlcikgewogICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaGlnaGxpZ2h0IGlzIHJlbW92ZWQgb24gZXZlcnkgcG9zc2libGUgZXZlbnQsIGJlZm9yZSBjb252ZXJzaW9uIGlzIHN0YXJ0ZWQuCiAgICAgICAgZGlzcGF0Y2hlci5vbignaW5zZXJ0JywgcmVtb3ZlSGlnaGxpZ2h0LCB7CiAgICAgICAgICBwcmlvcml0eTogJ2hpZ2hlc3QnCiAgICAgICAgfSk7CiAgICAgICAgZGlzcGF0Y2hlci5vbigncmVtb3ZlJywgcmVtb3ZlSGlnaGxpZ2h0LCB7CiAgICAgICAgICBwcmlvcml0eTogJ2hpZ2hlc3QnCiAgICAgICAgfSk7CiAgICAgICAgZGlzcGF0Y2hlci5vbignYXR0cmlidXRlJywgcmVtb3ZlSGlnaGxpZ2h0LCB7CiAgICAgICAgICBwcmlvcml0eTogJ2hpZ2hlc3QnCiAgICAgICAgfSk7CiAgICAgICAgZGlzcGF0Y2hlci5vbignc2VsZWN0aW9uJywgcmVtb3ZlSGlnaGxpZ2h0LCB7CiAgICAgICAgICBwcmlvcml0eTogJ2hpZ2hlc3QnCiAgICAgICAgfSk7CgogICAgICAgIGZ1bmN0aW9uIHJlbW92ZUhpZ2hsaWdodCgpIHsKICAgICAgICAgIHZpZXcuY2hhbmdlKGZ1bmN0aW9uICh3cml0ZXIpIHsKICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTsKICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlOwogICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gaGlnaGxpZ2h0ZWRMaW5rcy52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgICAgICB3cml0ZXIucmVtb3ZlQ2xhc3MoSElHSExJR0hUX0NMQVNTLCBpdGVtKTsKICAgICAgICAgICAgICAgIGhpZ2hsaWdodGVkTGlua3MuZGVsZXRlKGl0ZW0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTsKICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7CiAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gTGlua0VkaXRpbmc7Cn0oUGx1Z2luKTsKCmV4cG9ydCB7IExpbmtFZGl0aW5nIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-link/src/linkediting.js"],"names":["Plugin","LinkCommand","UnlinkCommand","createLinkElement","ensureSafeUrl","getLocalizedDecorators","normalizeDecorators","AutomaticDecorators","ManualDecorator","bindTwoStepCaretToAttribute","findLinkRange","HIGHLIGHT_CLASS","DECORATOR_AUTOMATIC","DECORATOR_MANUAL","EXTERNAL_LINKS_REGEXP","LinkEditing","editor","config","define","addTargetToExternalLinks","locale","model","schema","extend","allowAttributes","conversion","for","attributeToElement","view","href","writer","elementToAttribute","name","attributes","key","value","viewElement","getAttribute","commands","add","linkDecorators","t","get","_enableAutomaticDecorators","filter","item","mode","_enableManualDecorators","editing","emitter","attribute","_setupLinkHighlight","automaticDecoratorDefinitions","automaticDecorators","id","callback","url","test","target","rel","length","getDispatcher","manualDecoratorDefinitions","command","manualDecorators","forEach","decorator","manualDecoratorName","element","createAttributeElement","priority","setCustomProperty","highlightedLinks","Set","document","registerPostFixer","selection","changed","hasAttribute","modelRange","getFirstPosition","viewRange","mapper","toViewRange","getItems","is","hasClass","addClass","dispatcher","on","removeHighlight","change","values","removeClass","delete"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module link/linkediting\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport LinkCommand from './linkcommand';\nimport UnlinkCommand from './unlinkcommand';\nimport { createLinkElement, ensureSafeUrl, getLocalizedDecorators, normalizeDecorators } from './utils';\nimport AutomaticDecorators from './utils/automaticdecorators';\nimport ManualDecorator from './utils/manualdecorator';\nimport bindTwoStepCaretToAttribute from '@ckeditor/ckeditor5-engine/src/utils/bindtwostepcarettoattribute';\nimport findLinkRange from './findlinkrange';\nimport '../theme/link.css';\n\nconst HIGHLIGHT_CLASS = 'ck-link_selected';\nconst DECORATOR_AUTOMATIC = 'automatic';\nconst DECORATOR_MANUAL = 'manual';\nconst EXTERNAL_LINKS_REGEXP = /^(https?:)?\\/\\//;\n\n/**\n * The link engine feature.\n *\n * It introduces the `linkHref=\"url\"` attribute in the model which renders to the view as a `<a href=\"url\">` element\n * as well as `'link'` and `'unlink'` commands.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class LinkEditing extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'LinkEditing';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor( editor ) {\n\t\tsuper( editor );\n\n\t\teditor.config.define( 'link', {\n\t\t\taddTargetToExternalLinks: false\n\t\t} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst locale = editor.locale;\n\n\t\t// Allow link attribute on all inline nodes.\n\t\teditor.model.schema.extend( '$text', { allowAttributes: 'linkHref' } );\n\n\t\teditor.conversion.for( 'dataDowncast' )\n\t\t\t.attributeToElement( { model: 'linkHref', view: createLinkElement } );\n\n\t\teditor.conversion.for( 'editingDowncast' )\n\t\t\t.attributeToElement( { model: 'linkHref', view: ( href, writer ) => {\n\t\t\t\treturn createLinkElement( ensureSafeUrl( href ), writer );\n\t\t\t} } );\n\n\t\teditor.conversion.for( 'upcast' )\n\t\t\t.elementToAttribute( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'a',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\thref: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmodel: {\n\t\t\t\t\tkey: 'linkHref',\n\t\t\t\t\tvalue: viewElement => viewElement.getAttribute( 'href' )\n\t\t\t\t}\n\t\t\t} );\n\n\t\t// Create linking commands.\n\t\teditor.commands.add( 'link', new LinkCommand( editor ) );\n\t\teditor.commands.add( 'unlink', new UnlinkCommand( editor ) );\n\n\t\tconst linkDecorators = getLocalizedDecorators( editor.t, normalizeDecorators( editor.config.get( 'link.decorators' ) ) );\n\n\t\tthis._enableAutomaticDecorators( linkDecorators.filter( item => item.mode === DECORATOR_AUTOMATIC ) );\n\t\tthis._enableManualDecorators( linkDecorators.filter( item => item.mode === DECORATOR_MANUAL ) );\n\n\t\t// Enable two-step caret movement for `linkHref` attribute.\n\t\tbindTwoStepCaretToAttribute( {\n\t\t\tview: editor.editing.view,\n\t\t\tmodel: editor.model,\n\t\t\temitter: this,\n\t\t\tattribute: 'linkHref',\n\t\t\tlocale\n\t\t} );\n\n\t\t// Setup highlight over selected link.\n\t\tthis._setupLinkHighlight();\n\t}\n\n\t/**\n\t * Processes an array of configured {@link module:link/link~LinkDecoratorAutomaticDefinition automatic decorators}\n\t * and registers a {@link module:engine/conversion/downcastdispatcher~DowncastDispatcher downcast dispatcher}\n\t * for each one of them. Downcast dispatchers are obtained using the\n\t * {@link module:link/utils~AutomaticDecorators#getDispatcher} method.\n\t *\n\t * **Note**: This method also activates the automatic external link decorator if enabled with\n\t * {@link module:link/link~LinkConfig#addTargetToExternalLinks `config.link.addTargetToExternalLinks`}.\n\t *\n\t * @private\n\t * @param {Array.<module:link/link~LinkDecoratorAutomaticDefinition>} automaticDecoratorDefinitions\n\t */\n\t_enableAutomaticDecorators( automaticDecoratorDefinitions ) {\n\t\tconst editor = this.editor;\n\t\tconst automaticDecorators = new AutomaticDecorators();\n\n\t\t// Adds a default decorator for external links.\n\t\tif ( editor.config.get( 'link.addTargetToExternalLinks' ) ) {\n\t\t\tautomaticDecorators.add( {\n\t\t\t\tid: 'linkIsExternal',\n\t\t\t\tmode: DECORATOR_AUTOMATIC,\n\t\t\t\tcallback: url => EXTERNAL_LINKS_REGEXP.test( url ),\n\t\t\t\tattributes: {\n\t\t\t\t\ttarget: '_blank',\n\t\t\t\t\trel: 'noopener noreferrer'\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tautomaticDecorators.add( automaticDecoratorDefinitions );\n\n\t\tif ( automaticDecorators.length ) {\n\t\t\teditor.conversion.for( 'downcast' ).add( automaticDecorators.getDispatcher() );\n\t\t}\n\t}\n\n\t/**\n\t * Processes an array of configured {@link module:link/link~LinkDecoratorManualDefinition manual decorators},\n\t * transforms them into {@link module:link/utils~ManualDecorator} instances and stores them in the\n\t * {@link module:link/linkcommand~LinkCommand#manualDecorators} collection (a model for manual decorators state).\n\t *\n\t * Also registers an {@link module:engine/conversion/downcasthelpers~DowncastHelpers#attributeToElement attribute-to-element}\n\t * converter for each manual decorator and extends the {@link module:engine/model/schema~Schema model's schema}\n\t * with adequate model attributes.\n\t *\n\t * @private\n\t * @param {Array.<module:link/link~LinkDecoratorManualDefinition>} manualDecoratorDefinitions\n\t */\n\t_enableManualDecorators( manualDecoratorDefinitions ) {\n\t\tif ( !manualDecoratorDefinitions.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = this.editor;\n\t\tconst command = editor.commands.get( 'link' );\n\t\tconst manualDecorators = command.manualDecorators;\n\n\t\tmanualDecoratorDefinitions.forEach( decorator => {\n\t\t\teditor.model.schema.extend( '$text', { allowAttributes: decorator.id } );\n\n\t\t\t// Keeps reference to manual decorator to decode its name to attributes during downcast.\n\t\t\tmanualDecorators.add( new ManualDecorator( decorator ) );\n\n\t\t\teditor.conversion.for( 'downcast' ).attributeToElement( {\n\t\t\t\tmodel: decorator.id,\n\t\t\t\tview: ( manualDecoratorName, writer ) => {\n\t\t\t\t\tif ( manualDecoratorName ) {\n\t\t\t\t\t\tconst attributes = manualDecorators.get( decorator.id ).attributes;\n\t\t\t\t\t\tconst element = writer.createAttributeElement( 'a', attributes, { priority: 5 } );\n\t\t\t\t\t\twriter.setCustomProperty( 'link', true, element );\n\n\t\t\t\t\t\treturn element;\n\t\t\t\t\t}\n\t\t\t\t} } );\n\n\t\t\teditor.conversion.for( 'upcast' ).elementToAttribute( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'a',\n\t\t\t\t\tattributes: manualDecorators.get( decorator.id ).attributes\n\t\t\t\t},\n\t\t\t\tmodel: {\n\t\t\t\t\tkey: decorator.id\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t/**\n\t * Adds a visual highlight style to a link in which the selection is anchored.\n\t * Together with two-step caret movement, they indicate that the user is typing inside the link.\n\t *\n\t * Highlight is turned on by adding the `.ck-link_selected` class to the link in the view:\n\t *\n\t * * The class is removed before the conversion has started, as callbacks added with the `'highest'` priority\n\t * to {@link module:engine/conversion/downcastdispatcher~DowncastDispatcher} events.\n\t * * The class is added in the view post fixer, after other changes in the model tree were converted to the view.\n\t *\n\t * This way, adding and removing the highlight does not interfere with conversion.\n\t *\n\t * @private\n\t */\n\t_setupLinkHighlight() {\n\t\tconst editor = this.editor;\n\t\tconst view = editor.editing.view;\n\t\tconst highlightedLinks = new Set();\n\n\t\t// Adding the class.\n\t\tview.document.registerPostFixer( writer => {\n\t\t\tconst selection = editor.model.document.selection;\n\t\t\tlet changed = false;\n\n\t\t\tif ( selection.hasAttribute( 'linkHref' ) ) {\n\t\t\t\tconst modelRange = findLinkRange( selection.getFirstPosition(), selection.getAttribute( 'linkHref' ), editor.model );\n\t\t\t\tconst viewRange = editor.editing.mapper.toViewRange( modelRange );\n\n\t\t\t\t// There might be multiple `a` elements in the `viewRange`, for example, when the `a` element is\n\t\t\t\t// broken by a UIElement.\n\t\t\t\tfor ( const item of viewRange.getItems() ) {\n\t\t\t\t\tif ( item.is( 'a' ) && !item.hasClass( HIGHLIGHT_CLASS ) ) {\n\t\t\t\t\t\twriter.addClass( HIGHLIGHT_CLASS, item );\n\t\t\t\t\t\thighlightedLinks.add( item );\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn changed;\n\t\t} );\n\n\t\t// Removing the class.\n\t\teditor.conversion.for( 'editingDowncast' ).add( dispatcher => {\n\t\t\t// Make sure the highlight is removed on every possible event, before conversion is started.\n\t\t\tdispatcher.on( 'insert', removeHighlight, { priority: 'highest' } );\n\t\t\tdispatcher.on( 'remove', removeHighlight, { priority: 'highest' } );\n\t\t\tdispatcher.on( 'attribute', removeHighlight, { priority: 'highest' } );\n\t\t\tdispatcher.on( 'selection', removeHighlight, { priority: 'highest' } );\n\n\t\t\tfunction removeHighlight() {\n\t\t\t\tview.change( writer => {\n\t\t\t\t\tfor ( const item of highlightedLinks.values() ) {\n\t\t\t\t\t\twriter.removeClass( HIGHLIGHT_CLASS, item );\n\t\t\t\t\t\thighlightedLinks.delete( item );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t}\n}\n"]}]}