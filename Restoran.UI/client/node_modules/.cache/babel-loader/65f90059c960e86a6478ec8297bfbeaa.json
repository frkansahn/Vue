{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\controller\\editingcontroller.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-engine\\src\\controller\\editingcontroller.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CgovKioKICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMjAsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kIG9yIGh0dHBzOi8vY2tlZGl0b3IuY29tL2xlZ2FsL2NrZWRpdG9yLW9zcy1saWNlbnNlCiAqLwoKLyoqCiAqIEBtb2R1bGUgZW5naW5lL2NvbnRyb2xsZXIvZWRpdGluZ2NvbnRyb2xsZXIKICovCmltcG9ydCBSb290RWRpdGFibGVFbGVtZW50IGZyb20gJy4uL3ZpZXcvcm9vdGVkaXRhYmxlZWxlbWVudCc7CmltcG9ydCBWaWV3IGZyb20gJy4uL3ZpZXcvdmlldyc7CmltcG9ydCBNYXBwZXIgZnJvbSAnLi4vY29udmVyc2lvbi9tYXBwZXInOwppbXBvcnQgRG93bmNhc3REaXNwYXRjaGVyIGZyb20gJy4uL2NvbnZlcnNpb24vZG93bmNhc3RkaXNwYXRjaGVyJzsKaW1wb3J0IHsgY2xlYXJBdHRyaWJ1dGVzLCBjb252ZXJ0Q29sbGFwc2VkU2VsZWN0aW9uLCBjb252ZXJ0UmFuZ2VTZWxlY3Rpb24sIGluc2VydFRleHQsIHJlbW92ZSB9IGZyb20gJy4uL2NvbnZlcnNpb24vZG93bmNhc3RoZWxwZXJzJzsKaW1wb3J0IE9ic2VydmFibGVNaXhpbiBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9vYnNlcnZhYmxlbWl4aW4nOwppbXBvcnQgbWl4IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL21peCc7CmltcG9ydCB7IGNvbnZlcnRTZWxlY3Rpb25DaGFuZ2UgfSBmcm9tICcuLi9jb252ZXJzaW9uL3VwY2FzdGhlbHBlcnMnOyAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIGNvbnN0IHsgZHVtcFRyZWVzLCBpbml0RG9jdW1lbnREdW1waW5nIH0gPSByZXF1aXJlKCAnLi4vZGV2LXV0aWxzL3V0aWxzJyApOwoKLyoqCiAqIENvbnRyb2xsZXIgZm9yIHRoZSBlZGl0aW5nIHBpcGVsaW5lLiBUaGUgZWRpdGluZyBwaXBlbGluZSBjb250cm9scyB7QGxpbmsgfkVkaXRpbmdDb250cm9sbGVyI21vZGVsIG1vZGVsfSByZW5kZXJpbmcsCiAqIGluY2x1ZGluZyBzZWxlY3Rpb24gaGFuZGxpbmcuIEl0IGFsc28gY3JlYXRlcyB0aGUge0BsaW5rIH5FZGl0aW5nQ29udHJvbGxlciN2aWV3IHZpZXd9IHdoaWNoIGJ1aWxkcyBhCiAqIGJyb3dzZXItaW5kZXBlbmRlbnQgdmlydHVhbGl6YXRpb24gb3ZlciB0aGUgRE9NIGVsZW1lbnRzLiBUaGUgZWRpdGluZyBjb250cm9sbGVyIGFsc28gYXR0YWNoZXMgZGVmYXVsdCBjb252ZXJ0ZXJzLgogKgogKiBAbWl4ZXMgbW9kdWxlOnV0aWxzL29ic2VydmFibGVtaXhpbn5PYnNlcnZhYmxlTWl4aW4KICovCgp2YXIgRWRpdGluZ0NvbnRyb2xsZXIgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIGVkaXRpbmcgY29udHJvbGxlciBpbnN0YW5jZS4KICAgKgogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9tb2RlbH5Nb2RlbH0gbW9kZWwgRWRpdGluZyBtb2RlbC4KICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9zdHlsZXNtYXB+U3R5bGVzUHJvY2Vzc29yfSBzdHlsZXNQcm9jZXNzb3IgVGhlIHN0eWxlcyBwcm9jZXNzb3IgaW5zdGFuY2UuCiAgICovCiAgZnVuY3Rpb24gRWRpdGluZ0NvbnRyb2xsZXIobW9kZWwsIHN0eWxlc1Byb2Nlc3NvcikgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRWRpdGluZ0NvbnRyb2xsZXIpOwoKICAgIC8qKgogICAgICogRWRpdG9yIG1vZGVsLgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQG1lbWJlciB7bW9kdWxlOmVuZ2luZS9tb2RlbC9tb2RlbH5Nb2RlbH0KICAgICAqLwogICAgdGhpcy5tb2RlbCA9IG1vZGVsOwogICAgLyoqCiAgICAgKiBFZGl0aW5nIHZpZXcgY29udHJvbGxlci4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge21vZHVsZTplbmdpbmUvdmlldy92aWV3flZpZXd9CiAgICAgKi8KCiAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyhzdHlsZXNQcm9jZXNzb3IpOwogICAgLyoqCiAgICAgKiBNYXBwZXIgd2hpY2ggZGVzY3JpYmVzIHRoZSBtb2RlbC12aWV3IGJpbmRpbmcuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHttb2R1bGU6ZW5naW5lL2NvbnZlcnNpb24vbWFwcGVyfk1hcHBlcn0KICAgICAqLwoKICAgIHRoaXMubWFwcGVyID0gbmV3IE1hcHBlcigpOwogICAgLyoqCiAgICAgKiBEb3duY2FzdCBkaXNwYXRjaGVyIHRoYXQgY29udmVydHMgY2hhbmdlcyBmcm9tIHRoZSBtb2RlbCB0byB7QGxpbmsgI3ZpZXcgdGhlIGVkaXRpbmcgdmlld30uCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHttb2R1bGU6ZW5naW5lL2NvbnZlcnNpb24vZG93bmNhc3RkaXNwYXRjaGVyfkRvd25jYXN0RGlzcGF0Y2hlcn0gI2Rvd25jYXN0RGlzcGF0Y2hlcgogICAgICovCgogICAgdGhpcy5kb3duY2FzdERpc3BhdGNoZXIgPSBuZXcgRG93bmNhc3REaXNwYXRjaGVyKHsKICAgICAgbWFwcGVyOiB0aGlzLm1hcHBlcgogICAgfSk7CiAgICB2YXIgZG9jID0gdGhpcy5tb2RlbC5kb2N1bWVudDsKICAgIHZhciBzZWxlY3Rpb24gPSBkb2Muc2VsZWN0aW9uOwogICAgdmFyIG1hcmtlcnMgPSB0aGlzLm1vZGVsLm1hcmtlcnM7IC8vIFdoZW4gcGx1Z2lucyBsaXN0ZW4gb24gbW9kZWwgY2hhbmdlcyAob24gc2VsZWN0aW9uIGNoYW5nZSwgcG9zdCBmaXhlcnMsIGV0YykgYW5kIGNoYW5nZSB0aGUgdmlldyBhcyBhIHJlc3VsdCBvZgogICAgLy8gbW9kZWwncyBjaGFuZ2UsIHRoZXkgbWlnaHQgdHJpZ2dlciB2aWV3IHJlbmRlcmluZyBiZWZvcmUgdGhlIGNvbnZlcnNpb24gaXMgY29tcGxldGVkIChlLmcuIGJlZm9yZSB0aGUgc2VsZWN0aW9uCiAgICAvLyBpcyBjb252ZXJ0ZWQpLiBXZSBkaXNhYmxlIHJlbmRlcmluZyBmb3IgdGhlIGxlbmd0aCBvZiB0aGUgb3V0ZXJtb3N0IG1vZGVsIGNoYW5nZSgpIGJsb2NrIHRvIHByZXZlbnQgdGhhdC4KICAgIC8vCiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yNS1lbmdpbmUvaXNzdWVzLzE1MjgKCiAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsICdfYmVmb3JlQ2hhbmdlcycsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMudmlldy5fZGlzYWJsZVJlbmRlcmluZyh0cnVlKTsKICAgIH0sIHsKICAgICAgcHJpb3JpdHk6ICdoaWdoZXN0JwogICAgfSk7CiAgICB0aGlzLmxpc3RlblRvKHRoaXMubW9kZWwsICdfYWZ0ZXJDaGFuZ2VzJywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy52aWV3Ll9kaXNhYmxlUmVuZGVyaW5nKGZhbHNlKTsKICAgIH0sIHsKICAgICAgcHJpb3JpdHk6ICdsb3dlc3QnCiAgICB9KTsgLy8gV2hlbmV2ZXIgbW9kZWwgZG9jdW1lbnQgaXMgY2hhbmdlZCwgY29udmVydCB0aG9zZSBjaGFuZ2VzIHRvIHRoZSB2aWV3ICh1c2luZyBtb2RlbC5Eb2N1bWVudCNkaWZmZXIpLgogICAgLy8gRG8gaXQgb24gJ2xvdycgcHJpb3JpdHksIHNvIGNoYW5nZXMgYXJlIGNvbnZlcnRlZCBhZnRlciBvdGhlciBsaXN0ZW5lcnMgZGlkIHRoZWlyIGpvYi4KICAgIC8vIEFsc28gY29udmVydCBtb2RlbCBzZWxlY3Rpb24uCgogICAgdGhpcy5saXN0ZW5Ubyhkb2MsICdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnZpZXcuY2hhbmdlKGZ1bmN0aW9uICh3cml0ZXIpIHsKICAgICAgICBfdGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydENoYW5nZXMoZG9jLmRpZmZlciwgbWFya2Vycywgd3JpdGVyKTsKCiAgICAgICAgX3RoaXMuZG93bmNhc3REaXNwYXRjaGVyLmNvbnZlcnRTZWxlY3Rpb24oc2VsZWN0aW9uLCBtYXJrZXJzLCB3cml0ZXIpOwogICAgICB9KTsKICAgIH0sIHsKICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICB9KTsgLy8gQ29udmVydCBzZWxlY3Rpb24gZnJvbSB0aGUgdmlldyB0byB0aGUgbW9kZWwgd2hlbiBpdCBjaGFuZ2VzIGluIHRoZSB2aWV3LgoKICAgIHRoaXMubGlzdGVuVG8odGhpcy52aWV3LmRvY3VtZW50LCAnc2VsZWN0aW9uQ2hhbmdlJywgY29udmVydFNlbGVjdGlvbkNoYW5nZSh0aGlzLm1vZGVsLCB0aGlzLm1hcHBlcikpOyAvLyBBdHRhY2ggZGVmYXVsdCBtb2RlbCBjb252ZXJ0ZXJzLgoKICAgIHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdpbnNlcnQ6JHRleHQnLCBpbnNlcnRUZXh0KCksIHsKICAgICAgcHJpb3JpdHk6ICdsb3dlc3QnCiAgICB9KTsKICAgIHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdyZW1vdmUnLCByZW1vdmUoKSwgewogICAgICBwcmlvcml0eTogJ2xvdycKICAgIH0pOyAvLyBBdHRhY2ggZGVmYXVsdCBtb2RlbCBzZWxlY3Rpb24gY29udmVydGVycy4KCiAgICB0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5vbignc2VsZWN0aW9uJywgY2xlYXJBdHRyaWJ1dGVzKCksIHsKICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICB9KTsKICAgIHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdzZWxlY3Rpb24nLCBjb252ZXJ0UmFuZ2VTZWxlY3Rpb24oKSwgewogICAgICBwcmlvcml0eTogJ2xvdycKICAgIH0pOwogICAgdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oJ3NlbGVjdGlvbicsIGNvbnZlcnRDb2xsYXBzZWRTZWxlY3Rpb24oKSwgewogICAgICBwcmlvcml0eTogJ2xvdycKICAgIH0pOyAvLyBCaW5kcyB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50fkRvY3VtZW50I3Jvb3RzIHZpZXcgcm9vdHMgY29sbGVjdGlvbn0gdG8KICAgIC8vIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL2RvY3VtZW50fkRvY3VtZW50I3Jvb3RzIG1vZGVsIHJvb3RzIGNvbGxlY3Rpb259IHNvIGNyZWF0aW5nCiAgICAvLyBtb2RlbCByb290IGF1dG9tYXRpY2FsbHkgY3JlYXRlcyBjb3JyZXNwb25kaW5nIHZpZXcgcm9vdC4KCiAgICB0aGlzLnZpZXcuZG9jdW1lbnQucm9vdHMuYmluZFRvKHRoaXMubW9kZWwuZG9jdW1lbnQucm9vdHMpLnVzaW5nKGZ1bmN0aW9uIChyb290KSB7CiAgICAgIC8vICRncmF2ZXlhcmQgaXMgYSBzcGVjaWFsIHJvb3QgdGhhdCBoYXMgbm8gcmVmbGVjdGlvbiBpbiB0aGUgdmlldy4KICAgICAgaWYgKHJvb3Qucm9vdE5hbWUgPT0gJyRncmF2ZXlhcmQnKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHZhciB2aWV3Um9vdCA9IG5ldyBSb290RWRpdGFibGVFbGVtZW50KF90aGlzLnZpZXcuZG9jdW1lbnQsIHJvb3QubmFtZSk7CiAgICAgIHZpZXdSb290LnJvb3ROYW1lID0gcm9vdC5yb290TmFtZTsKCiAgICAgIF90aGlzLm1hcHBlci5iaW5kRWxlbWVudHMocm9vdCwgdmlld1Jvb3QpOwoKICAgICAgcmV0dXJuIHZpZXdSb290OwogICAgfSk7IC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gaW5pdERvY3VtZW50RHVtcGluZyggdGhpcy5tb2RlbC5kb2N1bWVudCApOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyBpbml0RG9jdW1lbnREdW1waW5nKCB0aGlzLnZpZXcuZG9jdW1lbnQgKTsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gZHVtcFRyZWVzKCB0aGlzLm1vZGVsLmRvY3VtZW50LCB0aGlzLm1vZGVsLmRvY3VtZW50LnZlcnNpb24gKTsKICAgIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gZHVtcFRyZWVzKCB0aGlzLnZpZXcuZG9jdW1lbnQsIHRoaXMubW9kZWwuZG9jdW1lbnQudmVyc2lvbiApOwogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB0aGlzLm1vZGVsLmRvY3VtZW50Lm9uKCAnY2hhbmdlJywgKCkgPT4gewogICAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwlkdW1wVHJlZXMoIHRoaXMudmlldy5kb2N1bWVudCwgdGhpcy5tb2RlbC5kb2N1bWVudC52ZXJzaW9uICk7CiAgICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIH0sIHsgcHJpb3JpdHk6ICdsb3dlc3QnIH0gKTsKICB9CiAgLyoqCiAgICogUmVtb3ZlcyBhbGwgZXZlbnQgbGlzdGVuZXJzIGF0dGFjaGVkIHRvIHRoZSBgRWRpdGluZ0NvbnRyb2xsZXJgLiBEZXN0cm95cyBhbGwgb2JqZWN0cyBjcmVhdGVkCiAgICogYnkgYEVkaXRpbmdDb250cm9sbGVyYCB0aGF0IG5lZWQgdG8gYmUgZGVzdHJveWVkLgogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEVkaXRpbmdDb250cm9sbGVyLCBbewogICAga2V5OiAiZGVzdHJveSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgdGhpcy52aWV3LmRlc3Ryb3koKTsKICAgICAgdGhpcy5zdG9wTGlzdGVuaW5nKCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gRWRpdGluZ0NvbnRyb2xsZXI7Cn0oKTsKCmV4cG9ydCB7IEVkaXRpbmdDb250cm9sbGVyIGFzIGRlZmF1bHQgfTsKbWl4KEVkaXRpbmdDb250cm9sbGVyLCBPYnNlcnZhYmxlTWl4aW4pOw=="},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-engine/src/controller/editingcontroller.js"],"names":["RootEditableElement","View","Mapper","DowncastDispatcher","clearAttributes","convertCollapsedSelection","convertRangeSelection","insertText","remove","ObservableMixin","mix","convertSelectionChange","EditingController","model","stylesProcessor","view","mapper","downcastDispatcher","doc","document","selection","markers","listenTo","_disableRendering","priority","change","writer","convertChanges","differ","convertSelection","on","roots","bindTo","using","root","rootName","viewRoot","name","bindElements","destroy","stopListening"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/controller/editingcontroller\n */\n\nimport RootEditableElement from '../view/rooteditableelement';\nimport View from '../view/view';\nimport Mapper from '../conversion/mapper';\nimport DowncastDispatcher from '../conversion/downcastdispatcher';\nimport { clearAttributes, convertCollapsedSelection, convertRangeSelection, insertText, remove } from '../conversion/downcasthelpers';\n\nimport ObservableMixin from '@ckeditor/ckeditor5-utils/src/observablemixin';\nimport mix from '@ckeditor/ckeditor5-utils/src/mix';\nimport { convertSelectionChange } from '../conversion/upcasthelpers';\n\n// @if CK_DEBUG_ENGINE // const { dumpTrees, initDocumentDumping } = require( '../dev-utils/utils' );\n\n/**\n * Controller for the editing pipeline. The editing pipeline controls {@link ~EditingController#model model} rendering,\n * including selection handling. It also creates the {@link ~EditingController#view view} which builds a\n * browser-independent virtualization over the DOM elements. The editing controller also attaches default converters.\n *\n * @mixes module:utils/observablemixin~ObservableMixin\n */\nexport default class EditingController {\n\t/**\n\t * Creates an editing controller instance.\n\t *\n\t * @param {module:engine/model/model~Model} model Editing model.\n\t * @param {module:engine/view/stylesmap~StylesProcessor} stylesProcessor The styles processor instance.\n\t */\n\tconstructor( model, stylesProcessor ) {\n\t\t/**\n\t\t * Editor model.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/model/model~Model}\n\t\t */\n\t\tthis.model = model;\n\n\t\t/**\n\t\t * Editing view controller.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/view/view~View}\n\t\t */\n\t\tthis.view = new View( stylesProcessor );\n\n\t\t/**\n\t\t * Mapper which describes the model-view binding.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/conversion/mapper~Mapper}\n\t\t */\n\t\tthis.mapper = new Mapper();\n\n\t\t/**\n\t\t * Downcast dispatcher that converts changes from the model to {@link #view the editing view}.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/conversion/downcastdispatcher~DowncastDispatcher} #downcastDispatcher\n\t\t */\n\t\tthis.downcastDispatcher = new DowncastDispatcher( {\n\t\t\tmapper: this.mapper\n\t\t} );\n\n\t\tconst doc = this.model.document;\n\t\tconst selection = doc.selection;\n\t\tconst markers = this.model.markers;\n\n\t\t// When plugins listen on model changes (on selection change, post fixers, etc) and change the view as a result of\n\t\t// model's change, they might trigger view rendering before the conversion is completed (e.g. before the selection\n\t\t// is converted). We disable rendering for the length of the outermost model change() block to prevent that.\n\t\t//\n\t\t// See https://github.com/ckeditor/ckeditor5-engine/issues/1528\n\t\tthis.listenTo( this.model, '_beforeChanges', () => {\n\t\t\tthis.view._disableRendering( true );\n\t\t}, { priority: 'highest' } );\n\n\t\tthis.listenTo( this.model, '_afterChanges', () => {\n\t\t\tthis.view._disableRendering( false );\n\t\t}, { priority: 'lowest' } );\n\n\t\t// Whenever model document is changed, convert those changes to the view (using model.Document#differ).\n\t\t// Do it on 'low' priority, so changes are converted after other listeners did their job.\n\t\t// Also convert model selection.\n\t\tthis.listenTo( doc, 'change', () => {\n\t\t\tthis.view.change( writer => {\n\t\t\t\tthis.downcastDispatcher.convertChanges( doc.differ, markers, writer );\n\t\t\t\tthis.downcastDispatcher.convertSelection( selection, markers, writer );\n\t\t\t} );\n\t\t}, { priority: 'low' } );\n\n\t\t// Convert selection from the view to the model when it changes in the view.\n\t\tthis.listenTo( this.view.document, 'selectionChange', convertSelectionChange( this.model, this.mapper ) );\n\n\t\t// Attach default model converters.\n\t\tthis.downcastDispatcher.on( 'insert:$text', insertText(), { priority: 'lowest' } );\n\t\tthis.downcastDispatcher.on( 'remove', remove(), { priority: 'low' } );\n\n\t\t// Attach default model selection converters.\n\t\tthis.downcastDispatcher.on( 'selection', clearAttributes(), { priority: 'low' } );\n\t\tthis.downcastDispatcher.on( 'selection', convertRangeSelection(), { priority: 'low' } );\n\t\tthis.downcastDispatcher.on( 'selection', convertCollapsedSelection(), { priority: 'low' } );\n\n\t\t// Binds {@link module:engine/view/document~Document#roots view roots collection} to\n\t\t// {@link module:engine/model/document~Document#roots model roots collection} so creating\n\t\t// model root automatically creates corresponding view root.\n\t\tthis.view.document.roots.bindTo( this.model.document.roots ).using( root => {\n\t\t\t// $graveyard is a special root that has no reflection in the view.\n\t\t\tif ( root.rootName == '$graveyard' ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst viewRoot = new RootEditableElement( this.view.document, root.name );\n\n\t\t\tviewRoot.rootName = root.rootName;\n\t\t\tthis.mapper.bindElements( root, viewRoot );\n\n\t\t\treturn viewRoot;\n\t\t} );\n\n\t\t// @if CK_DEBUG_ENGINE // initDocumentDumping( this.model.document );\n\t\t// @if CK_DEBUG_ENGINE // initDocumentDumping( this.view.document );\n\n\t\t// @if CK_DEBUG_ENGINE // dumpTrees( this.model.document, this.model.document.version );\n\t\t// @if CK_DEBUG_ENGINE // dumpTrees( this.view.document, this.model.document.version );\n\n\t\t// @if CK_DEBUG_ENGINE // this.model.document.on( 'change', () => {\n\t\t// @if CK_DEBUG_ENGINE //\tdumpTrees( this.view.document, this.model.document.version );\n\t\t// @if CK_DEBUG_ENGINE // }, { priority: 'lowest' } );\n\t}\n\n\t/**\n\t * Removes all event listeners attached to the `EditingController`. Destroys all objects created\n\t * by `EditingController` that need to be destroyed.\n\t */\n\tdestroy() {\n\t\tthis.view.destroy();\n\t\tthis.stopListening();\n\t}\n}\n\nmix( EditingController, ObservableMixin );\n"]}]}