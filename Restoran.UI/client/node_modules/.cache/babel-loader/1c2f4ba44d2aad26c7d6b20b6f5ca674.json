{"remainingRequest":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-typing\\src\\deleteobserver.js","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-typing\\src\\deleteobserver.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\@ckeditor\\ckeditor5-dev-webpack-plugin\\lib\\translatesourceloader.js","mtime":499162500000},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1581760768702},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1581760786382},{"path":"C:\\Users\\pc\\Desktop\\Restoran\\Restoran\\Restoran.UI\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1581760768279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOlxcVXNlcnNcXHBjXFxEZXNrdG9wXFxSZXN0b3JhblxcUmVzdG9yYW5cXFJlc3RvcmFuLlVJXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkM6XFxVc2Vyc1xccGNcXERlc2t0b3BcXFJlc3RvcmFuXFxSZXN0b3JhblxcUmVzdG9yYW4uVUlcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQzpcXFVzZXJzXFxwY1xcRGVza3RvcFxcUmVzdG9yYW5cXFJlc3RvcmFuXFxSZXN0b3Jhbi5VSVxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CgovKioKICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMjAsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kIG9yIGh0dHBzOi8vY2tlZGl0b3IuY29tL2xlZ2FsL2NrZWRpdG9yLW9zcy1saWNlbnNlCiAqLwoKLyoqCiAqIEBtb2R1bGUgdHlwaW5nL2RlbGV0ZW9ic2VydmVyCiAqLwppbXBvcnQgT2JzZXJ2ZXIgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1lbmdpbmUvc3JjL3ZpZXcvb2JzZXJ2ZXIvb2JzZXJ2ZXInOwppbXBvcnQgRG9tRXZlbnREYXRhIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtZW5naW5lL3NyYy92aWV3L29ic2VydmVyL2RvbWV2ZW50ZGF0YSc7CmltcG9ydCB7IGtleUNvZGVzIH0gZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMva2V5Ym9hcmQnOwppbXBvcnQgZW52IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL2Vudic7Ci8qKgogKiBEZWxldGUgb2JzZXJ2ZXIgaW50cm9kdWNlcyB0aGUge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNldmVudDpkZWxldGV9IGV2ZW50LgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6ZW5naW5lL3ZpZXcvb2JzZXJ2ZXIvb2JzZXJ2ZXJ+T2JzZXJ2ZXIKICovCgp2YXIgRGVsZXRlT2JzZXJ2ZXIgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfT2JzZXJ2ZXIpIHsKICBfaW5oZXJpdHMoRGVsZXRlT2JzZXJ2ZXIsIF9PYnNlcnZlcik7CgogIGZ1bmN0aW9uIERlbGV0ZU9ic2VydmVyKHZpZXcpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGVsZXRlT2JzZXJ2ZXIpOwoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKERlbGV0ZU9ic2VydmVyKS5jYWxsKHRoaXMsIHZpZXcpKTsKICAgIHZhciBkb2N1bWVudCA9IHZpZXcuZG9jdW1lbnQ7CiAgICB2YXIgc2VxdWVuY2UgPSAwOwogICAgZG9jdW1lbnQub24oJ2tleXVwJywgZnVuY3Rpb24gKGV2dCwgZGF0YSkgewogICAgICBpZiAoZGF0YS5rZXlDb2RlID09IGtleUNvZGVzLmRlbGV0ZSB8fCBkYXRhLmtleUNvZGUgPT0ga2V5Q29kZXMuYmFja3NwYWNlKSB7CiAgICAgICAgc2VxdWVuY2UgPSAwOwogICAgICB9CiAgICB9KTsKICAgIGRvY3VtZW50Lm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGV2dCwgZGF0YSkgewogICAgICB2YXIgZGVsZXRlRGF0YSA9IHt9OwoKICAgICAgaWYgKGRhdGEua2V5Q29kZSA9PSBrZXlDb2Rlcy5kZWxldGUpIHsKICAgICAgICBkZWxldGVEYXRhLmRpcmVjdGlvbiA9ICdmb3J3YXJkJzsKICAgICAgICBkZWxldGVEYXRhLnVuaXQgPSAnY2hhcmFjdGVyJzsKICAgICAgfSBlbHNlIGlmIChkYXRhLmtleUNvZGUgPT0ga2V5Q29kZXMuYmFja3NwYWNlKSB7CiAgICAgICAgZGVsZXRlRGF0YS5kaXJlY3Rpb24gPSAnYmFja3dhcmQnOwogICAgICAgIGRlbGV0ZURhdGEudW5pdCA9ICdjb2RlUG9pbnQnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGhhc1dvcmRNb2RpZmllciA9IGVudi5pc01hYyA/IGRhdGEuYWx0S2V5IDogZGF0YS5jdHJsS2V5OwogICAgICBkZWxldGVEYXRhLnVuaXQgPSBoYXNXb3JkTW9kaWZpZXIgPyAnd29yZCcgOiBkZWxldGVEYXRhLnVuaXQ7CiAgICAgIGRlbGV0ZURhdGEuc2VxdWVuY2UgPSArK3NlcXVlbmNlOwogICAgICBmaXJlVmlld0RlbGV0ZUV2ZW50KGV2dCwgZGF0YS5kb21FdmVudCwgZGVsZXRlRGF0YSk7CiAgICB9KTsgLy8gYGJlZm9yZWlucHV0YCBpcyBoYW5kbGVkIG9ubHkgZm9yIEFuZHJvaWQgZGV2aWNlcy4gRGVza3RvcCBDaHJvbWUgYW5kIGlPUyBhcmUgc2tpcHBlZCBiZWNhdXNlIHRoZXkgYXJlIHdvcmtpbmcgZmluZSBub3cuCgogICAgaWYgKGVudi5pc0FuZHJvaWQpIHsKICAgICAgZG9jdW1lbnQub24oJ2JlZm9yZWlucHV0JywgZnVuY3Rpb24gKGV2dCwgZGF0YSkgewogICAgICAgIC8vIElmIGV2ZW50IHR5cGUgaXMgb3RoZXIgdGhhbiBgZGVsZXRlQ29udGVudEJhY2t3YXJkYCB0aGVuIHRoaXMgaXMgbm90IGRlbGV0aW5nLgogICAgICAgIGlmIChkYXRhLmRvbUV2ZW50LmlucHV0VHlwZSAhPSAnZGVsZXRlQ29udGVudEJhY2t3YXJkJykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGRlbGV0ZURhdGEgPSB7CiAgICAgICAgICB1bml0OiAnY29kZXBvaW50JywKICAgICAgICAgIGRpcmVjdGlvbjogJ2JhY2t3YXJkJywKICAgICAgICAgIHNlcXVlbmNlOiAxCiAgICAgICAgfTsgLy8gQW5kcm9pZCBJTUVzIG1heSBjaGFuZ2UgdGhlIERPTSBzZWxlY3Rpb24gb24gYGJlZm9yZWlucHV0YCBldmVudCBzbyB0aGF0IHRoZSBzZWxlY3Rpb24gY29udGFpbnMgYWxsIHRoZSB0ZXh0CiAgICAgICAgLy8gdGhhdCB0aGUgSU1FIHdhbnRzIHRvIHJlbW92ZS4gV2Ugd2lsbCBwYXNzIHRoaXMgaW5mb3JtYXRpb24gdG8gYGRlbGV0ZWAgZXZlbnQgc28gcHJvcGVyIHBhcnQgb2YgdGhlIGNvbnRlbnQgaXMgcmVtb3ZlZC4KICAgICAgICAvLwogICAgICAgIC8vIFNvbWV0aW1lcyBpdCBpcyBvbmx5IGV4cGFuZGluZyBieSBhIG9uZSBjaGFyYWN0ZXIgKGluIGNhc2Ugb2YgY29sbGFwc2VkIHNlbGVjdGlvbikuIEluIHRoaXMgY2FzZSB3ZSBkb24ndCBuZWVkIHRvCiAgICAgICAgLy8gc2V0IGEgZGlmZmVyZW50IHNlbGVjdGlvbiB0byByZW1vdmUsIGl0IHdpbGwgd29yayBqdXN0IGZpbmUuCgogICAgICAgIHZhciBkb21TZWxlY3Rpb24gPSBkYXRhLmRvbVRhcmdldC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpOwoKICAgICAgICBpZiAoZG9tU2VsZWN0aW9uLmFuY2hvck5vZGUgPT0gZG9tU2VsZWN0aW9uLmZvY3VzTm9kZSAmJiBkb21TZWxlY3Rpb24uYW5jaG9yT2Zmc2V0ICsgMSAhPSBkb21TZWxlY3Rpb24uZm9jdXNPZmZzZXQpIHsKICAgICAgICAgIGRlbGV0ZURhdGEuc2VsZWN0aW9uVG9SZW1vdmUgPSB2aWV3LmRvbUNvbnZlcnRlci5kb21TZWxlY3Rpb25Ub1ZpZXcoZG9tU2VsZWN0aW9uKTsKICAgICAgICB9CgogICAgICAgIGZpcmVWaWV3RGVsZXRlRXZlbnQoZXZ0LCBkYXRhLmRvbUV2ZW50LCBkZWxldGVEYXRhKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gZmlyZVZpZXdEZWxldGVFdmVudChvcmlnaW5hbEV2ZW50LCBkb21FdmVudCwgZGVsZXRlRGF0YSkgewogICAgICAvLyBTYXZlIHRoZSBldmVudCBvYmplY3QgdG8gY2hlY2sgbGF0ZXIgaWYgaXQgd2FzIHN0b3BwZWQgb3Igbm90LgogICAgICB2YXIgZXZlbnQ7CiAgICAgIGRvY3VtZW50Lm9uY2UoJ2RlbGV0ZScsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICByZXR1cm4gZXZlbnQgPSBldnQ7CiAgICAgIH0sIHsKICAgICAgICBwcmlvcml0eTogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZCiAgICAgIH0pOwogICAgICBkb2N1bWVudC5maXJlKCdkZWxldGUnLCBuZXcgRG9tRXZlbnREYXRhKGRvY3VtZW50LCBkb21FdmVudCwgZGVsZXRlRGF0YSkpOyAvLyBTdG9wIHRoZSBvcmlnaW5hbCBldmVudCBpZiBgZGVsZXRlYCBldmVudCB3YXMgc3RvcHBlZC4KICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yNS9pc3N1ZXMvNzUzCgogICAgICBpZiAoZXZlbnQgJiYgZXZlbnQuc3RvcC5jYWxsZWQpIHsKICAgICAgICBvcmlnaW5hbEV2ZW50LnN0b3AoKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBfdGhpczsKICB9CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KCgogIF9jcmVhdGVDbGFzcyhEZWxldGVPYnNlcnZlciwgW3sKICAgIGtleTogIm9ic2VydmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9ic2VydmUoKSB7fQogIH1dKTsKCiAgcmV0dXJuIERlbGV0ZU9ic2VydmVyOwp9KE9ic2VydmVyKTsKLyoqCiAqIEV2ZW50IGZpcmVkIHdoZW4gdGhlIHVzZXIgdHJpZXMgdG8gZGVsZXRlIGNvbnRlbnQgKGUuZy4gcHJlc3NlcyA8a2JkPkRlbGV0ZTwva2JkPiBvciA8a2JkPkJhY2tzcGFjZTwva2JkPikuCiAqCiAqIE5vdGU6IFRoaXMgZXZlbnQgaXMgZmlyZWQgYnkgdGhlIHtAbGluayBtb2R1bGU6dHlwaW5nL2RlbGV0ZW9ic2VydmVyfkRlbGV0ZU9ic2VydmVyIG9ic2VydmVyfQogKiAodXN1YWxseSByZWdpc3RlcmVkIGJ5IHRoZSB7QGxpbmsgbW9kdWxlOnR5cGluZy9kZWxldGV+RGVsZXRlIGRlbGV0ZSBmZWF0dXJlfSkuCiAqCiAqIEBldmVudCBtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnR+RG9jdW1lbnQjZXZlbnQ6ZGVsZXRlCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L29ic2VydmVyL2RvbWV2ZW50ZGF0YX5Eb21FdmVudERhdGF9IGRhdGEKICogQHBhcmFtIHsnZm9yd2FyZCd8J2RlbGV0ZSd9IGRhdGEuZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gaW4gd2hpY2ggdGhlIGRlbGV0aW9uIHNob3VsZCBoYXBwZW4uCiAqIEBwYXJhbSB7J2NoYXJhY3Rlcid8J3dvcmQnfSBkYXRhLnVuaXQgVGhlICJhbW91bnQiIG9mIGNvbnRlbnQgdGhhdCBzaG91bGQgYmUgZGVsZXRlZC4KICogQHBhcmFtIHtOdW1iZXJ9IGRhdGEuc2VxdWVuY2UgQSBudW1iZXIgZGVzY3JpYmluZyB3aGljaCBzdWJzZXF1ZW50IGRlbGV0ZSBldmVudCBpdCBpcyB3aXRob3V0IHRoZSBrZXkgYmVpbmcgcmVsZWFzZWQuCiAqIElmIGl0J3MgMiBvciBtb3JlIGl0IG1lYW5zIHRoYXQgdGhlIGtleSB3YXMgcHJlc3NlZCBhbmQgaG9sZC4KICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvc2VsZWN0aW9uflNlbGVjdGlvbn0gW2RhdGEuc2VsZWN0aW9uVG9SZW1vdmVdIFZpZXcgc2VsZWN0aW9uIHdoaWNoIGNvbnRlbnQgc2hvdWxkIGJlIHJlbW92ZWQuIElmIG5vdCBzZXQsCiAqIGN1cnJlbnQgc2VsZWN0aW9uIHNob3VsZCBiZSB1c2VkLgogKi8KCgpleHBvcnQgeyBEZWxldGVPYnNlcnZlciBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["C:/Users/pc/Desktop/Restoran/Restoran/Restoran.UI/client/node_modules/@ckeditor/ckeditor5-typing/src/deleteobserver.js"],"names":["Observer","DomEventData","keyCodes","env","DeleteObserver","view","document","sequence","on","evt","data","keyCode","delete","backspace","deleteData","direction","unit","hasWordModifier","isMac","altKey","ctrlKey","fireViewDeleteEvent","domEvent","isAndroid","inputType","domSelection","domTarget","ownerDocument","defaultView","getSelection","anchorNode","focusNode","anchorOffset","focusOffset","selectionToRemove","domConverter","domSelectionToView","originalEvent","event","once","priority","Number","POSITIVE_INFINITY","fire","stop","called"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module typing/deleteobserver\n */\n\nimport Observer from '@ckeditor/ckeditor5-engine/src/view/observer/observer';\nimport DomEventData from '@ckeditor/ckeditor5-engine/src/view/observer/domeventdata';\nimport { keyCodes } from '@ckeditor/ckeditor5-utils/src/keyboard';\nimport env from '@ckeditor/ckeditor5-utils/src/env';\n\n/**\n * Delete observer introduces the {@link module:engine/view/document~Document#event:delete} event.\n *\n * @extends module:engine/view/observer/observer~Observer\n */\nexport default class DeleteObserver extends Observer {\n\tconstructor( view ) {\n\t\tsuper( view );\n\n\t\tconst document = view.document;\n\t\tlet sequence = 0;\n\n\t\tdocument.on( 'keyup', ( evt, data ) => {\n\t\t\tif ( data.keyCode == keyCodes.delete || data.keyCode == keyCodes.backspace ) {\n\t\t\t\tsequence = 0;\n\t\t\t}\n\t\t} );\n\n\t\tdocument.on( 'keydown', ( evt, data ) => {\n\t\t\tconst deleteData = {};\n\n\t\t\tif ( data.keyCode == keyCodes.delete ) {\n\t\t\t\tdeleteData.direction = 'forward';\n\t\t\t\tdeleteData.unit = 'character';\n\t\t\t} else if ( data.keyCode == keyCodes.backspace ) {\n\t\t\t\tdeleteData.direction = 'backward';\n\t\t\t\tdeleteData.unit = 'codePoint';\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst hasWordModifier = env.isMac ? data.altKey : data.ctrlKey;\n\t\t\tdeleteData.unit = hasWordModifier ? 'word' : deleteData.unit;\n\t\t\tdeleteData.sequence = ++sequence;\n\n\t\t\tfireViewDeleteEvent( evt, data.domEvent, deleteData );\n\t\t} );\n\n\t\t// `beforeinput` is handled only for Android devices. Desktop Chrome and iOS are skipped because they are working fine now.\n\t\tif ( env.isAndroid ) {\n\t\t\tdocument.on( 'beforeinput', ( evt, data ) => {\n\t\t\t\t// If event type is other than `deleteContentBackward` then this is not deleting.\n\t\t\t\tif ( data.domEvent.inputType != 'deleteContentBackward' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst deleteData = {\n\t\t\t\t\tunit: 'codepoint',\n\t\t\t\t\tdirection: 'backward',\n\t\t\t\t\tsequence: 1\n\t\t\t\t};\n\n\t\t\t\t// Android IMEs may change the DOM selection on `beforeinput` event so that the selection contains all the text\n\t\t\t\t// that the IME wants to remove. We will pass this information to `delete` event so proper part of the content is removed.\n\t\t\t\t//\n\t\t\t\t// Sometimes it is only expanding by a one character (in case of collapsed selection). In this case we don't need to\n\t\t\t\t// set a different selection to remove, it will work just fine.\n\t\t\t\tconst domSelection = data.domTarget.ownerDocument.defaultView.getSelection();\n\n\t\t\t\tif ( domSelection.anchorNode == domSelection.focusNode && domSelection.anchorOffset + 1 != domSelection.focusOffset ) {\n\t\t\t\t\tdeleteData.selectionToRemove = view.domConverter.domSelectionToView( domSelection );\n\t\t\t\t}\n\n\t\t\t\tfireViewDeleteEvent( evt, data.domEvent, deleteData );\n\t\t\t} );\n\t\t}\n\n\t\tfunction fireViewDeleteEvent( originalEvent, domEvent, deleteData ) {\n\t\t\t// Save the event object to check later if it was stopped or not.\n\t\t\tlet event;\n\t\t\tdocument.once( 'delete', evt => ( event = evt ), { priority: Number.POSITIVE_INFINITY } );\n\n\t\t\tdocument.fire( 'delete', new DomEventData( document, domEvent, deleteData ) );\n\n\t\t\t// Stop the original event if `delete` event was stopped.\n\t\t\t// https://github.com/ckeditor/ckeditor5/issues/753\n\t\t\tif ( event && event.stop.called ) {\n\t\t\t\toriginalEvent.stop();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tobserve() {}\n}\n\n/**\n * Event fired when the user tries to delete content (e.g. presses <kbd>Delete</kbd> or <kbd>Backspace</kbd>).\n *\n * Note: This event is fired by the {@link module:typing/deleteobserver~DeleteObserver observer}\n * (usually registered by the {@link module:typing/delete~Delete delete feature}).\n *\n * @event module:engine/view/document~Document#event:delete\n * @param {module:engine/view/observer/domeventdata~DomEventData} data\n * @param {'forward'|'delete'} data.direction The direction in which the deletion should happen.\n * @param {'character'|'word'} data.unit The \"amount\" of content that should be deleted.\n * @param {Number} data.sequence A number describing which subsequent delete event it is without the key being released.\n * If it's 2 or more it means that the key was pressed and hold.\n * @param {module:engine/view/selection~Selection} [data.selectionToRemove] View selection which content should be removed. If not set,\n * current selection should be used.\n */\n"]}]}